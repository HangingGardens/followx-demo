import{_ as C,d as S,a3 as N,o as i,E as y,w as P,b as l,e as g,u as d,j as x,c as m,C as D,p as O,l as R,z as $,Z as A,i as F,F as E,g as V,S as k,B as b}from"./index-1a894d4d.js";import{T as G,S as a,I as M,d as q,t as z}from"./transactionContract-489f62b8.js";import{T as J}from"./TradeTab-89447858.js";import"./toast-c9703a34.js";const v=o=>(O("data-v-0b5f662c"),o=o(),R(),o),j={key:1,class:"text-xs flex-center-bw"},X=v(()=>l("div",{class:"text-[#ABB5CF]"},"Registered",-1)),Z=v(()=>l("div",null,"20,981 Addresses",-1)),H=[X,Z],K=S({props:{tokenInfo:{type:null,required:!0},type:{type:Number,required:!0}},setup(o){const p=N();return(I,u)=>(i(),y(D,{class:"mb-5"},{default:P(()=>[l("div",{class:"px-5 py-7",onClick:u[0]||(u[0]=_=>d(p).push(`/idoDetail?token=${o.tokenInfo.donationToken}&type=${o.type}`))},[g(G,{tokenInfo:o.tokenInfo},null,8,["tokenInfo"]),o.tokenInfo.status===d(a).PUBLIC||o.tokenInfo.status===d(a).CLOSED?(i(),y(M,{key:0,tokenInfo:o.tokenInfo},null,8,["tokenInfo"])):x("v-if",!0),o.tokenInfo.status===d(a).UPCOMING?(i(),m("div",j,H)):x("v-if",!0)])]),_:1}))}}),Q=C(K,[["__scopeId","data-v-0b5f662c"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/ido/components/IdoItem.vue"]]),W={class:"px-5"},Y=l("div",{class:"text-white text-[32px] font-semibold"},"FollowX Launchpad",-1),ee={class:"items-start lg:flex lg:relative"},te={class:"mt-5 lg:w-[600px] mx-auto"},oe={key:0,class:"flex-center"},ne=S({setup(o){const p=[{id:0,name:"Donate"},{id:1,name:"Transaction"}],{tokenCount:I,getTokenRange:u}=q(),{tTokenCount:_,tGetTokenRange:h}=z(),s=$({currentTab:0,tokenList:[],loading:!1}),L=e=>{s.currentTab=e.id,w()},w=async()=>{if(s.loading=!0,s.currentTab===0){const e=await I(),r=await u(1,e.result);s.tokenList=await B(r.result)}else{const e=await _(),r=await h(1,e.result);s.tokenList=await U(r.result)}s.loading=!1},B=async e=>{const r=[];for(let t=0;t<e.length;t++){const n=new Date().getTime()/1e3;let c=a.PUBLIC;n>=e[t].deadline||e[t].donatedAmount>e[t].totalSupply?c=a.CLOSED:n>e[t].startTime&&n<e[t].deadline?c=a.PUBLIC:n<e[t].startTime&&(c=a.UPCOMING);const f=await k(e[t].paymentToken).symbol(),T=await k(e[t].donationToken).symbol();r[t]={...e[t],tokenInfo:JSON.parse(e[t].remark),status:c,progress:new b(e[t].donatedAmount.toString()).div(e[t].totalSupply.toString()).toFixed(2),payTokenSymbol:f,donateTokenSymbol:T}}return r},U=async e=>{const r=[];for(let t=0;t<e.length;t++){const n=new Date().getTime()/1e3;let c=a.PUBLIC;n>=e[t].deadline||e[t].tokensSold>e[t].maxTokens?c=a.CLOSED:n>e[t].startTime?c=a.PUBLIC:n<e[t].startTime&&(c=a.UPCOMING);const f=await k(e[t].paymentToken).symbol(),T=await k(e[t].saleToken).symbol();r[t]={...e[t],tokenInfo:JSON.parse(e[t].remark||"{}"),status:c,progress:new b(e[t].tokensSold.toString()).div(e[t].maxTokens.toString()).toFixed(2),payTokenSymbol:f,donateTokenSymbol:T,donatedAmount:e[t].tokensSold,totalSupply:e[t].maxTokens,donationToken:e[t].saleToken,paymentToken:e[t].paymentToken}}return r};return A(()=>{w()}),(e,r)=>{const t=F("VanLoading");return i(),m("div",W,[Y,l("div",ee,[g(J,{class:"mt-5 lg:absolute",tabList:p,currentTab:d(s).currentTab,onChange:L},null,8,["currentTab"]),l("div",te,[d(s).loading?(i(),m("div",oe,[g(t,{class:"text-main",size:"30"})])):(i(!0),m(E,{key:1},V(d(s).tokenList,n=>(i(),y(Q,{key:n.donationToken,type:d(s).currentTab,tokenInfo:n},null,8,["type","tokenInfo"]))),128))])])])}}}),de=C(ne,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/ido/Ido.vue"]]);export{de as default};
