import{_ as w,d as _,a8 as C,o as s,E as x,w as B,j as g,b as i,e as b,u as o,c as k,y as I,C as $,L as D,ak as N,J as R,P as U,z as F,B as q,Z as A,i as E,F as M,g as P}from"./index-4ed7b797.js";import{T as V,S as m,I as O,f as G,w as z,M as v,h as J,a as X}from"./ido-1526215b.js";import{T as j}from"./TradeTab-8d1fe83f.js";import"./toast-280f0c43.js";const W={key:1,class:"mt-5 text-xs flex-center-bw"},Z={class:"text-[#ABB5CF]"},H=_({props:{tokenInfo:{type:null,required:!0},tokenId:{type:[Number,String],required:!0},type:{type:Number,required:!0}},emits:["init"],setup(e,{emit:f}){const d=C();return(r,a)=>(s(),x($,{class:"mb-5"},{default:B(()=>{var l,u;return[g(' @click="router.push(`/idoDetail?token=${tokenInfo.donationToken}&type=${type}`)" '),i("div",{class:"px-5 py-7",onClick:a[1]||(a[1]=p=>o(d).push(`/idoDetail?type=${e.type}&tokenId=${e.tokenId}`))},[b(V,{tokenInfo:e.tokenInfo,tokenId:e.tokenId,type:e.type,onInit:a[0]||(a[0]=p=>f("init"))},null,8,["tokenInfo","tokenId","type"]),e.tokenInfo.status===o(m).PUBLIC||e.tokenInfo.status===o(m).CLOSED?(s(),x(O,{key:0,tokenInfo:e.tokenInfo},null,8,["tokenInfo"])):g("v-if",!0),e.tokenInfo.status===o(m).UPCOMING?(s(),k("div",W,[i("div",Z,I(r.$t("ido.Registered")),1),i("div",null,I(((l=e.tokenInfo)==null?void 0:l.targetAmount)/((u=e.tokenInfo)==null?void 0:u.maxTokensPerBuyer)||"-")+" "+I(r.$t("ido.Addresses")),1)])):g("v-if",!0)])]}),_:1}))}}),K=w(H,[["__scopeId","data-v-0b5f662c"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/ido/components/IdoItem.vue"]]),Q={class:"px-5"},Y={class:"text-[32px] font-semibold"},ee={class:"items-start lg:flex lg:relative"},te={class:"mt-5 lg:w-[600px] mx-auto"},oe={key:0,class:"flex-center"},ne=_({setup(e){const f=C(),d=D();N();const{t:r}=R(),a=U(()=>[{id:0,name:r("ido.Transaction")},{id:1,name:r("ido.Donate")}]),{tokenCount:l,getTokenRange:u}=G(),{tTokenCount:p,tGetTokenRange:L}=z(),t=F({currentTab:d.query&&+d.query.tab||v.FIXED,tokenList:[],loading:!1});JSON.parse("{}"),m.UPCOMING,new q(0).toFixed(2);const h=n=>{t.currentTab=n.id,f.replace({name:"Ido",query:{tab:n.id}}),y()},y=async()=>{if(t.loading=!0,t.currentTab===v.FIXED){const n=await l(),c=await u(1,n.result);t.tokenList=(await J(c.result)).reverse()}else{const n=await p(),c=await L(1,n.result);t.tokenList=(await X(c.result)).reverse()}t.loading=!1};return A(async()=>{y()}),(n,c)=>{const S=E("VanLoading");return s(),k("div",Q,[i("div",Y,I(n.$t("ido.idoTitle")),1),i("div",ee,[b(j,{class:"mt-5 lg:absolute",tabList:o(a),currentTab:o(t).currentTab,onChange:h},null,8,["tabList","currentTab"]),i("div",te,[o(t).loading?(s(),k("div",oe,[b(S,{class:"text-main",size:"30"})])):(s(!0),k(M,{key:1},P(o(t).tokenList,T=>(s(),x(K,{key:T.donationToken,tokenId:T.tokenId,type:o(t).currentTab,tokenInfo:T,onInit:y},null,8,["tokenId","type","tokenInfo"]))),128))])])])}}}),de=w(ne,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/ido/Ido.vue"]]);export{de as default};
