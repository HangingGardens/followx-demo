import{_ as P,d as R,o as l,c as v,F as oe,g as Fe,n as nt,t as s,b as e,s as M,i as q,k as L,e as b,u as t,v as B,x as ae,y as Z,z as U,w as O,A as ue,j as X,B as Ve,D as Ee,E as st,G as _e,H as Ne,I as K,J as S,K as Se,C as He,L as y,M as D,N as E,O as ot,P as at,Q as lt,R as it,S as Me,T as Le,r as re,U as me,m as ze,p as ct,l as dt,V as ut,W as Te,X as De,Y as rt,Z as mt,$ as pt,a0 as qe,a1 as vt}from"./index-b9f62565.js";import{_ as bt,r as je,S as Pe,a as Ye,b as Ke,T as le,c as wt,d as ft,P as gt,L as xt,R as ht,e as _t}from"./RemoveLiquidity-23cf203f.js";const yt={class:"flex-center-bw lg:flex-col lg:gap-y-10 text-base rounded-xl border-2 border-solid border-[#1dede1] p-2.5"},kt=["onClick"],$t=R({props:{tabList:{type:Array,required:!0},currentTab:{type:Number,required:!0}},emits:["change"],setup(n,{emit:w}){return(x,m)=>(l(),v("div",yt,[(l(!0),v(oe,null,Fe(n.tabList,a=>(l(),v("div",{key:a.id,class:nt(["cursor-pointer font-semibold rounded-lg py-1 px-2 lg:w-full text-center lg:min-w-[100px]",{"bg-[#1dede1]":a.id===n.currentTab,"text-origin":a.id===n.currentTab,"text-[#46598B]":a.disabled}]),onClick:r=>w("change",a)},s(a.name),11,kt))),128))]))}}),At=P($t,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/components/TradeTab.vue"]]),Bt=""+new URL("../images/exchange-3a08e937.svg",import.meta.url).href,Ct={class:"flex-center-bw mb-[38px]"},It=e("div",{class:"text-[32px] font-bold"},"Swap",-1),St=e("img",{src:bt,class:"w-7",alt:""},null,-1),Lt=[St],Tt=R({emits:["open"],setup(n,{emit:w}){return(x,m)=>(l(),v("div",Ct,[It,e("div",{onClick:m[0]||(m[0]=a=>w("open"))},Lt)]))}}),Dt=P(Tt,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/swap/SwapHeader.vue"]]),qt={class:"border border-main border-solid rounded-lg p-2.5 px-3 mt-5"},Pt=L(" 1 "),Rt={class:"text-main"},Ut={class:"text-main"},Ot={key:0,class:"mt-1.5"},Ft={class:"flex-center-bw mt-1.5"},Vt={class:"text-main"},Et={class:"flex-center-bw mt-1.5"},Nt={class:"text-main"},Ht={key:0},Mt={key:1},zt={class:"flex-center-bw mt-1.5"},jt={class:"text-main"},Yt={key:0},Kt={key:1},Wt={class:"text-right"},Zt={key:0},Gt={key:1},Jt={class:"flex-center-bw mt-1.5"},Qt={class:"text-main"},Xt=e("span",{class:"text-main"},null,-1),en={class:"text-right"},tn=R({props:{tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},swapDetail:{type:null,required:!0},isOut:{type:Boolean,required:!1}},setup(n){const w=M({open:!1}),x=()=>{w.open=!w.open};return(m,a)=>{const r=q("van-icon");return l(),v("div",qt,[e("div",{class:"flex-center-bw cursor-pointer",onClick:x},[e("div",null,[Pt,e("span",Rt,s(n.tokenA.symbol),1),L(" = "+s(n.swapDetail.aToBPrice)+" ",1),e("span",Ut,s(n.tokenB.symbol),1)]),b(r,{name:"arrow-down",alt:"",class:"w-2.5 h-auto text-main"})]),t(w).open?(l(),v("div",Ot,[e("div",Ft,[e("div",Vt,s(m.$t("trade.swapDetail.networkFee")),1),e("div",null," ~"+s(n.swapDetail.networkFee),1)]),e("div",Et,[e("div",Nt,s(m.$t("trade.swapDetail.priceImpact")),1),e("div",null,[n.swapDetail.priceImpact<.01?(l(),v("span",Ht," <0.01% ")):(l(),v("span",Mt,"~"+s(t(B)(n.swapDetail.priceImpact,2))+"%",1))])]),e("div",zt,[e("div",jt,[n.isOut?(l(),v("span",Yt,s(m.$t("trade.swapDetail.minOutput")),1)):(l(),v("span",Kt,s(m.$t("trade.swapDetail.maximumSold")),1))]),e("div",Wt,[n.isOut?(l(),v("span",Zt,s(t(B)(n.swapDetail.minimumOutput||0,18))+" "+s(n.tokenB.symbol),1)):(l(),v("span",Gt,s(t(B)(n.swapDetail.maximumSold||0,18))+" "+s(n.tokenA.symbol),1))])]),e("div",Jt,[e("div",Qt,[L(s(m.$t("trade.swapDetail.expectOutput")),1),Xt]),e("div",en,s(t(B)(n.swapDetail.expectedOutput||0,18))+" "+s(n.tokenB.symbol),1)])])):ae("v-if",!0)])}}}),nn=P(tn,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/swap/SwapDetail.vue"]]),sn=""+new URL("../images/change-bd8443c4.svg",import.meta.url).href,on={class:"bg-white box-shadow rounded-2xl w-[320px] lg:w-[390px] text-black px-5 py-7"},an={class:"flex-center-bw h-10 font-bold text-2xl"},ln={class:"flex-center-bw h-[53px]"},cn={class:"text-3xl font-bold"},dn={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},un={class:"text-lg"},rn={class:"flex-center-bw h-[53px]"},mn={class:"text-3xl font-bold"},pn={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},vn={class:"text-lg"},bn=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),wn={class:"flex justify-between"},fn={class:"text-sm"},gn={class:"text-[#29AAC7] text-base"},xn={key:0,class:"text[#646464]"},hn={key:1,class:"text[#646464]"},_n={class:"text-[#29AAC7] text-base font-bold"},yn=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),kn={class:"border border-solid border-[#29AAC7] rounded-[10px] p-2.5"},$n={class:"flex-center-bw"},An={class:"text-[#29AAC7]"},Bn={class:"flex-center-bw gap-1"},Cn={class:"text-[#29AAC7]"},In={class:"text-[#29AAC7]"},Sn=e("img",{src:sn,class:"w-4 h-4"},null,-1),Ln=[Sn],Tn={class:"flex-center-bw"},Dn={class:"text-[#29AAC7]"},qn={key:0},Pn={key:1},Rn={key:0},Un={class:"text-[#29AAC7]"},On={key:1},Fn={class:"text-[#29AAC7]"},Vn={class:"flex-center-bw"},En={class:"text-[#29AAC7]"},Nn={key:0},Hn={key:1},Mn={class:"flex-center-bw mt-1.5"},zn={class:"text-[#29AAC7]"},jn={class:"text-[#29AAC7]"},Yn=R({props:{show:{type:Boolean,required:!0},tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},swapDetail:{type:null,required:!0},isOut:{type:Boolean,required:!1},swap:{type:null,required:!0}},emits:["close","confirmSwap"],setup(n,{emit:w}){const{show:x}=n,[m,a]=Z(!0);return(r,f)=>{const c=q("van-icon"),h=q("VanImage"),o=q("VanPopup");return l(),U(o,{show:n.show,"onUpdate:show":f[3]||(f[3]=_=>Ve(x)?x.value=_:null),class:"bg-transparent",rounded:"",onClickOverlay:f[4]||(f[4]=_=>w("close")),onClickCloseIcon:f[5]||(f[5]=_=>w("close"))},{default:O(()=>[e("div",on,[e("div",an,[e("div",null,s(r.$t("swap.confirmSwap")),1),b(c,{name:"cross",onClick:f[0]||(f[0]=_=>w("close"))})]),e("div",ln,[e("div",cn,s(t(ue)(t(B)(n.tokenA.amount))),1),e("div",dn,[b(h,{src:n.tokenA.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",un,s(n.tokenA.symbol),1)])]),b(c,{name:"down",class:"block text-3xl text-center my-1"}),e("div",rn,[e("div",mn,s(t(ue)(t(B)(n.tokenB.amount))),1),e("div",pn,[b(h,{src:n.tokenB.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",vn,s(n.tokenB.symbol),1)])]),bn,e("div",wn,[e("div",fn,[e("div",gn,s(r.$t("swap.slippageTolerance")),1),n.isOut?(l(),v("div",xn,s(r.$t("swap.sliOut",{out:`${(n.swapDetail.minimumOutput||0).toFixed()}
                      ${n.tokenB.symbol}`})),1)):(l(),v("div",hn,s(r.$t("swap.sliInput",{input:`${(n.swapDetail.maximumSold||0).toFixed()}
                      ${n.tokenA.symbol}`})),1))]),e("div",_n,s(n.swap.slip)+"%",1)]),yn,e("div",kn,[e("div",$n,[e("div",An,s(r.$t("trade.swapDetail.price")),1),e("div",Bn,[e("div",null,[t(m)?(l(),v(oe,{key:0},[L(s(t(B)(n.swapDetail.bToAPrice))+" ",1),e("span",Cn,s(n.tokenB.symbol+"/"+n.tokenA.symbol),1)],64)):(l(),v(oe,{key:1},[L(s(t(B)(n.swapDetail.aToBPrice)),1),e("span",In,s(n.tokenA.symbol+"/"+n.tokenB.symbol),1)],64))]),e("div",{onClick:f[1]||(f[1]=_=>t(a)(!t(m))),class:"text-[#29AAC7] cursor-pointer"},Ln)])]),e("div",Tn,[e("div",Dn,[n.isOut?(l(),v("span",qn,s(r.$t("trade.swapDetail.minOutput")),1)):(l(),v("span",Pn,s(r.$t("trade.swapDetail.maximumSold")),1))]),e("div",null,[n.isOut?(l(),v("span",Rn,[L(s(t(B)(n.swapDetail.minimumOutput||0)),1),e("span",Un,s(n.tokenB.symbol),1)])):(l(),v("span",On,[L(s(t(B)(n.swapDetail.maximumSold||0))+" ",1),e("span",Fn,s(n.tokenA.symbol),1)]))])]),e("div",Vn,[e("div",En,s(r.$t("trade.swapDetail.priceImpact")),1),e("div",null,[n.swapDetail.priceImpact<.01?(l(),v("span",Nn," <0.01% ")):(l(),v("span",Hn,"~"+s(t(B)(n.swapDetail.priceImpact,2))+"%",1))])]),e("div",Mn,[e("div",zn,s(r.$t("trade.swapDetail.networkFee")),1),e("div",null,[L(" ~"+s(n.swapDetail.networkFee)+" ",1),e("span",jn,s(n.tokenA.symbol),1)])])]),b(X,{class:"mt-[15px]",loading:!1,disabled:!1,onClick:f[2]||(f[2]=_=>w("confirmSwap"))},{default:O(()=>[L(s(r.$t("swap.confirmSwap")),1)]),_:1})])]),_:1},8,["show"])}}}),Kn=P(Yn,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/swap/ConfirmingPop.vue"]]),Wn={class:"lg:px-8 px-2.5 py-5"},Zn=e("img",{src:Bt,class:"w-[38px] h-[36px] mx-auto",alt:""},null,-1),Gn=[Zn],Jn={key:0},Qn={key:1},Xn={key:2},es={key:3},ts=R({setup(n){const{addWait:w}=ot(),[x,m]=Z(!1),a=Ee(),{accountStore:r}=st(),{connectWallet:f}=_e(),{getAmountsOut:c,getAmountsIn:h,swapTokensForExactTokens:o,swapExactTokensForTokens:_,swapExactETHForTokens:k,swapExactTokensForETH:I,swapETHForExactTokens:N,swapTokensForExactETH:H}=je(),{getPair:ee}=Ne(),ie=K(()=>!d.havePair||+i.amount<=0||+i.amount>+i.balance),G=K(()=>+i.allowance>=+i.amount&&i.allowance>0),i=M({...S.tokens[0],balance:0,allowance:0,decimals:18,amount:null}),p=M({...S.tokens[1],balance:0,allowance:0,decimals:18,amount:null}),$=M({networkFee:0,priceImpact:0,minimumOutput:null,maximumSold:null,expectedOutput:null,aToBPrice:0,bToAPrice:0}),J=K(()=>!d.aDisabled),d=M({settingShow:!1,btnLoading:!1,havePair:!1,aDisabled:!1,bDisabled:!1,aInputLoading:!1,bInputLoading:!1,pair:null,txInfo:{tx:null,text:""},loadingShow:!0,tokenSelectIndex:0}),C=M({slip:.1,time:10,min:"0",mode:!1}),z=K(()=>({confirmingTitle:"Confirming swap",confirmSuccessTitle:"Swap Successful!",confirmingText:"Waiting for confirmation",confirmedText:"Swap confirmed",confirmingMainDes:`Swapping ${i.amount} ${i.symbol} to ${p.amount} ${p.symbol}`,confirmedMainDes:`Swapped ${i.amount} ${i.symbol} to ${p.amount} ${p.symbol}`,confirmingSubDes:"Confirm this transaction in your wallet",txId:"",token:p})),{loadingShowToggle:W,loadingToggle:A,setLoadingInfo:F}=at(),Q=async()=>{d.settingShow=!d.settingShow},ce=u=>{C.slip=u,!(!i.amount&&!p.amount)&&(ge(i.amount),xe(p.account))},te=u=>{C.time=u},j=u=>{C.mode=u},fe=()=>{d.bDisabled=!0,d.aDisabled=!1},Ge=()=>{d.aDisabled=!0,d.bDisabled=!1},ge=async u=>{if(d.btnLoading||d.aDisabled)return d.bInputLoading=!1;if(u===""){i.amount=null,p.amount=null,$.expectedOutput=null,$.minimumOutput=null,$.maximumSold=null,$.priceImpact=null,d.bInputLoading=!1;return}i.amount=u,d.bInputLoading=!0;const g=await c(u,[i.address,p.address]);p.amount=g||"0",$.expectedOutput=new y(p.amount),$.minimumOutput=new y(p.amount).times(1e4-100*C.slip).div(1e4),$.maximumSold=new y(i.amount).times(1e4+100*C.slip).div(1e4),$.priceImpact=u/+await D(i.address).balanceOf(d.pair)*100,d.bInputLoading=!1},xe=async u=>{if(d.btnLoading||d.bDisabled)return d.aInputLoading=!1;if(u===""){i.amount=null,p.amount=null,$.expectedOutput=null,$.minimumOutput=null,$.maximumSold=null,$.priceImpact=null,d.aInputLoading=!1;return}p.amount=u,d.aInputLoading=!0,i.amount=await h(u,[i.address,p.address])||0,$.expectedOutput=new y(p.amount),$.minimumOutput=new y(p.amount).times(1e4-100*C.slip).div(1e4),$.maximumSold=new y(i.amount).times(1e4+100*C.slip).div(1e4),d.aInputLoading=!1},[Je,ke]=Z(!1),$e=u=>{d.tokenSelectIndex=u,ke(!0)},Qe=u=>{if(d.tokenSelectIndex===0)for(let g in u)i[g]=u[g];else for(let g in u)p[g]=u[g];i.amount=null,p.amount=null,de()},Xe=async()=>{var g;if(d.btnLoading||d.aInputLoading||d.bInputLoading)return;let u=M({...i,amount:(g=i.amount)==null?void 0:g.toString()});if(i.address=p.address,p.address=u.address,i.logoURI=p.logoURI,p.logoURI=u.logoURI,await Ae(),d.bDisabled?(d.aInputLoading=!0,p.amount=i.amount):(d.bInputLoading=!0,i.amount=p.amount),await Be(),!i.amount&&!p.amount){d.aInputLoading=!1,d.bInputLoading=!1;return}d.bDisabled?(d.aDisabled=!0,d.bDisabled=!1,p.amount=i.amount,xe(p.amount)):(d.aDisabled=!1,d.bDisabled=!0,i.amount=p.amount,ge(i.amount))},he=async u=>{const{balanceOf:g,allowance:T,symbol:V,decimals:pe}=D(u),ne=E(u,S.BNB)?await lt():await g(),ve=E(u,S.BNB)?it:await T(S.PANCAKE_ROUTER),se=await V(),be=await pe();return{balance:ne,allowance:+ve,symbol:se,decimals:be}},et=async()=>{const u=await ee(i.address,p.address);return d.pair=u,u!==Me},Ae=async()=>{const u=await he(i.address),g=await he(p.address);i.balance=u.balance,i.allowance=u.allowance,i.symbol=u.symbol,i.decimals=u.decimals,p.balance=g.balance,p.allowance=g.allowance,p.symbol=g.symbol,p.decimals=g.decimals},Be=async()=>{if(!d.havePair)return;const u=[i.address,p.address],g=await c(1,u);$.aToBPrice=g||0;const T=await c(1,u.reverse());$.bToAPrice=T||0},de=async()=>{i.amount=null,p.amount=null,d.btnLoading=!0,Ae(),d.havePair=await et(),Be(),d.btnLoading=!1},Ce=async()=>{if(!G.value){d.btnLoading=!0;const u=await D(i.address).approve(S.PANCAKE_ROUTER);if(!u.success)return d.btnLoading=!1;if(u.success){const g=await he(i.address);i.allowance=g.allowance,Ce()}return}m(!0)},tt=async()=>{m(!1),W(!0,z.value),A(!0),d.btnLoading=!1;const u=_e().getCurrentAccount(),g=C.time,T=[i.address,p.address];let V=null,pe=0,ne=null,ve=0,se=null;const be=E(i.address,S.BNB),Ie=E(p.address,S.BNB);if(d.bDisabled){const Y=B(i.amount,i.decimals).toString();ve=await c(Y,T),se=B(new y(ve).times(1e4-100*C.slip).div(1e4).toString(),p.decimals),be?V=await k(Y,se,T,u,g):Ie?V=await I(Y,se,T,u,g):V=await _(Y,se,T,u,g)}else{const Y=B(p.amount,p.decimals).toString();pe=await h(Y,T),ne=B(new y(pe).times(1e4+100*C.slip).div(1e4).toString(),i.decimals),be?V=await N(Y,ne,T,u,g):Ie?V=await H(Y,ne,T,u,g):V=await o(Y,ne,T,u,g)}if(d.btnLoading=!1,A(!1),w(V.result),V.success)z.value.txId=V.result.hash,z.value.confirmingSubDes="View Transaction Hash on Explorer",F(z.value);else{W(!1),V.result.error||m(!0);return}de()};return Se(()=>a.query,u=>{u.inputCurrency&&(i.address=u.inputCurrency,de()),u.outputCurrency&&(p.address=u.outputCurrency,de())},{immediate:!0,deep:!0}),Se(()=>[i,p],async()=>{de()},{immediate:!0}),(u,g)=>(l(),v(oe,null,[b(He,{class:"mt-4 lg:mt-0 lg:min-w-[600px]"},{default:O(()=>[e("div",Wn,[b(Dt,{onOpen:Q}),b(Pe,{token:t(i),modelValue:t(i).amount,"onUpdate:modelValue":ge,onFocus:fe,onHandleSelectToken:g[0]||(g[0]=T=>$e(0)),disabled:t(d).btnLoading,loading:t(d).aInputLoading},null,8,["token","modelValue","disabled","loading"]),e("div",{class:"py-5 flex-center"},[e("div",{onClick:Xe,class:"cursor-pointer"},Gn)]),b(Pe,{token:t(p),modelValue:t(p).amount,"onUpdate:modelValue":xe,onFocus:Ge,onHandleSelectToken:g[1]||(g[1]=T=>$e(1)),disabled:t(d).btnLoading,loading:t(d).bInputLoading},null,8,["token","modelValue","disabled","loading"]),t(d).havePair?(l(),U(nn,{key:0,tokenA:t(i),tokenB:t(p),swapDetail:t($),isOut:t(J)},null,8,["tokenA","tokenB","swapDetail","isOut"])):ae("v-if",!0),t(r).account?(l(),U(X,{key:2,class:"mt-7",loading:t(d).btnLoading,disabled:t(ie),onClick:Ce},{default:O(()=>[t(d).havePair?+t(i).amount>+t(i).balance||t(i).balance<=0?(l(),v("span",Qn,s(u.$t("errorMsg.InsufficientBalance")),1)):t(G)?(l(),v("span",es,s(u.$t("trade.swap")),1)):(l(),v("span",Xn,"Approve")):(l(),v("span",Jn,s(u.$t("errorMsg.Insufficient liquidity")),1))]),_:1},8,["loading","disabled"])):(l(),U(X,{key:1,class:"mt-7",loading:t(d).btnLoading,disabled:!1,onClick:t(f)},{default:O(()=>[L(s(u.$t("common.connect")),1)]),_:1},8,["loading","onClick"]))])]),_:1}),b(Ye,{show:t(d).settingShow,onClose:g[2]||(g[2]=()=>t(d).settingShow=!1),timeValue:t(C).time,slipValue:t(C).slip,modeValue:t(C).mode,"onUpdate:slipValue":ce,"onUpdate:timeValue":te,onChangeMode:j},null,8,["show","timeValue","slipValue","modeValue"]),b(Ke,{show:t(Je),onClose:g[3]||(g[3]=T=>t(ke)(!1)),onConfirmSelectToken:Qe},null,8,["show"]),b(Kn,{show:t(x),onClose:g[4]||(g[4]=T=>t(m)(!1)),onConfirmSwap:tt,tokenA:t(i),tokenB:t(p),swapDetail:t($),isOut:t(J),swap:t(C)},null,8,["show","tokenA","tokenB","swapDetail","isOut","swap"])],64))}}),Re=P(ts,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/Swap.vue"]]),ye=n=>({getLiquidInfo:async()=>{var C,z;const{token0:x,token1:m}=D(n),a=await x(),r=await m(),f=await D(a).symbol(),c=await D(r).symbol(),h=await D(n).balanceOf(),o=await D(n).totalSupply(),_=new y(h).div(o).multipliedBy(100).toFixed(),k=String(await D(a).balanceOf(n)),I=String(await D(r).balanceOf(n)),N=new y(k).plus(new y(I)),H=new y(k).dividedBy(N).toString(),ee=new y(I).dividedBy(N).toString(),ie=((C=S.tokens.find(W=>E(W.address,a)))==null?void 0:C.logoURI)||null,G=((z=S.tokens.find(W=>E(W.address,r)))==null?void 0:z.logoURI)||null,i=await D(a).decimals(),p=await D(r).decimals(),$=await Le(a),J=await Le(r);return{lpPrice:new y($).multipliedBy(H).plus(new y(J).multipliedBy(ee)).toFixed(),decimalA:i,decimalB:p,iconA:ie,iconB:G,tokenA:a,tokenB:r,symbolA:f,symbolB:c,shares:_,aInLpAmount:k,bInLpAmount:I,aPercent:H,bPercent:ee,pairBalance:h,totalSupply:o}}}),ns={class:"bg-box rounded-lg px-5 py-3 mt-5"},ss={class:"flex-center-bw"},os={class:"flex items-center gap-2.5"},as={class:"flex items-center"},ls={class:"lg:text-2xl font-bold"},is={class:"lg:text-2xl font-bold"},cs={class:"text-right font-bold text-main text-lg mt-5"},ds={key:1,class:"flex-center"},us=R({props:{pair:{type:String,required:!0}},emits:["change"],setup(n,{emit:w}){const{pair:x}=n,{getLiquidInfo:m}=ye(x),a=re({loading:!0,pairBalance:"0",tokenA:"",tokenB:"",symbolA:"",symbolB:"",iconA:"",iconB:"",amountA:"",amountB:"",totalSupply:"",aInLpAmount:"0",bInLpAmount:"0",shares:"0"}),r=async()=>{const f=await m();a.value={...a.value,...f},a.value.loading=!1};return me(()=>{r()}),(f,c)=>{const h=q("van-loading");return l(),v("div",ns,[a.value.loading?(l(),v("div",ds,[b(h)])):(l(),v("div",{key:0,class:"cursor-pointer",onClick:c[0]||(c[0]=o=>w("change",3,n.pair))},[e("div",ss,[e("div",os,[e("div",as,[b(le,{src:a.value.iconA,class:"-mr-2 w-6 h-6",size:26},null,8,["src"]),b(le,{src:a.value.iconB,class:"w-6 h-6",size:26},null,8,["src"])]),e("div",ls,s(a.value.symbolA)+"-"+s(a.value.symbolB),1)]),e("div",is,s(a.value.pairBalance),1)]),e("div",cs,s(t(B)(new t(y)(a.value.aInLpAmount).multipliedBy(+a.value.shares/100).toFixed(),6))+s(a.value.symbolA)+"/ "+s(t(B)(new t(y)(a.value.bInLpAmount).multipliedBy(+a.value.shares/100).toFixed(),6))+s(a.value.symbolB),1)]))])}}}),We=P(us,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/LiquidItem.vue"]]),rs={class:"lg:px-8 px-2.5 py-5"},ms={class:"flex-center-bw mb-[38px]"},ps={class:"text-[32px] font-bold"},vs=e("div",{class:"mt-12 text-center"},"Don\u2019t see a pair you joined?",-1),bs={class:"flex-center"},ws=R({emits:["change"],setup(n,{emit:w}){const x=ze("pairList",[]);return me(()=>{}),(m,a)=>(l(),v("div",rs,[e("div",ms,[e("div",ps,s(m.$t("liquidity.yours")),1)]),e("div",null,[(l(!0),v(oe,null,Fe(t(x),(r,f)=>(l(),U(We,{key:f,pair:r,onChange:c=>w("change",3,r)},null,8,["pair","onChange"]))),128))]),vs,e("div",bs,[e("div",{onClick:a[0]||(a[0]=r=>w("change",2)),class:"border-[2px] border-solid border-config-sub rounded-2xl mt-2.5 cursor-pointer px-3 py-1 text-config-sub"}," Find other LP Tokens ")]),b(X,{class:"mt-7",onClick:a[1]||(a[1]=r=>w("change",0))},{default:O(()=>[L(s(m.$t("trade.addLiquid")),1)]),_:1})]))}}),fs=P(ws,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/YourLiquid.vue"]]),gs={key:0,class:"flex items-center gap-4"},xs={class:"text-2xl font-bold"},hs=R({props:{icon:{type:String,required:!0},symbol:{type:String,required:!0},address:{type:String,required:!0},loading:{type:Boolean,required:!0}},emits:["change"],setup(n,{emit:w}){return(x,m)=>{const a=q("VanLoading"),r=q("van-icon");return l(),v("div",{class:"flex-center-bw p-4 dark:bg-[#061629] cursor-pointer",onClick:m[0]||(m[0]=f=>w("change"))},[n.loading?(l(),U(a,{key:1})):(l(),v("div",gs,[b(le,{src:n.icon,class:"w-6",size:26},null,8,["src"]),e("div",xs,s(n.symbol),1)])),b(r,{name:"arrow-down",alt:"",class:"w-2.5 h-auto text-main"})])}}}),Ue=P(hs,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/ImportItem.vue"]]),_s={class:"text-sm lg:text-base"},ys={class:"flex-center-bw mt-5"},ks=e("div",null,"Value in USD",-1),$s={class:"text-main"},As={class:"flex-center-bw mt-2.5"},Bs=e("div",null,"Your LP Shares",-1),Cs={class:"text-main"},Is={class:"flex-center-bw mt-2.5"},Ss={class:"text-main"},Ls={class:"flex-center-bw mt-2.5"},Ts={class:"text-main"},Ds=R({props:{pair:{type:String,required:!0}},setup(n){const{pair:w}=n,[x,m]=Z(!1),a=re({shares:"0",symbolA:"",symbolB:"",aInLpAmount:"0",bInLpAmount:"0",lpPrice:"0",pairBalance:"0"}),{getLiquidInfo:r}=ye(w);return me(async()=>{m(!0);const f=await r();a.value={...f},console.log(a.value),m(!1)}),(f,c)=>(l(),v(oe,null,[b(We,{pair:n.pair},null,8,["pair"]),e("div",_s,[e("div",ys,[ks,e("div",$s,s(t(B)(new t(y)(a.value.lpPrice).multipliedBy(a.value.pairBalance).toString()||"0",9)),1)]),e("div",As,[Bs,e("div",Cs,s(+a.value.shares)+"%",1)]),e("div",Is,[e("div",null,"Initial "+s(a.value.symbolA)+" amount",1),e("div",Ss,s(a.value.aInLpAmount),1)]),e("div",Ls,[e("div",null,"Initial "+s(a.value.symbolB)+" amount",1),e("div",Ts,s(a.value.bInLpAmount),1)])])],64))}}),Ze=P(Ds,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/UserLp.vue"]]),qs={class:"lg:px-8 px-2.5 py-5"},Ps=L(" back "),Rs=e("div",{class:"flex-center-bw mb-[38px]"},[e("div",{class:"text-[32px] font-bold"},"Import LP")],-1),Us=e("div",null,null,-1),Os=e("div",{class:"flex-center py-8"},[e("img",{src:wt,class:"w-6 h-6",alt:""})],-1),Fs={key:0},Vs={key:0},Es=e("div",{class:"mt-12 text-center"},"You have no liquidity in this pair yet ",-1),Ns={class:"flex-center"},Hs={key:1,class:"mt-[38px]"},Ms=e("div",{class:"font-bold"},"Your LP Token",-1),zs={key:1,class:"flex-center"},js=R({emits:["change"],setup(n,{emit:w}){const x=ze("pairList",[]),[m,a]=Z(!1),{getPair:r}=Ne(),f=_=>{c.tokenSelectIndex=_,a(!0)},c=M({loading:!0,tokenA:S.tokens[0].address,tokenB:S.tokens[1].address,symbolA:"",symbolB:"",iconA:"",iconB:"",pair:"",pairBalance:"0",totalSupply:"0",havePair:!1,shares:"0",aInLpAmount:"0",bInLpAmount:"0",tokenSelectIndex:0}),h=async()=>{var _,k;c.loading=!0,c.symbolA=await D(c.tokenA).symbol(),c.symbolB=await D(c.tokenB).symbol(),c.iconA=((_=S.tokens.find(I=>E(I.address,c.tokenA)))==null?void 0:_.logoURI)||null,c.iconB=((k=S.tokens.find(I=>E(I.address,c.tokenB)))==null?void 0:k.logoURI)||null,c.pair=await r(c.tokenA,c.tokenB),c.havePair=!E(c.pair,Me),c.havePair&&x.value.findIndex(N=>E(N,c.pair))===-1&&x.value.push(c.pair),c.loading=!1},o=_=>{c.tokenSelectIndex===0?(c.tokenA=_.address,c.iconA=_.logoURI,c.symbolA=_.symbol):(c.tokenB=_.address,c.iconB=_.logoURI,c.symbolB=_.symbol),h()};return me(()=>{h()}),(_,k)=>{const I=q("van-icon"),N=q("VanLoading");return l(),v("div",qs,[e("div",{class:"flex items-center text-main gap-3 cursor-pointer",onClick:k[0]||(k[0]=H=>w("change",1))},[b(I,{name:"down",class:"rotate-90"}),Ps]),Rs,Us,b(Ue,{address:t(c).tokenA,symbol:t(c).symbolA,icon:t(c).iconA,onChange:k[1]||(k[1]=H=>f(0)),loading:t(c).loading},null,8,["address","symbol","icon","loading"]),Os,b(Ue,{address:t(c).tokenB,symbol:t(c).symbolB,icon:t(c).iconB,onChange:k[2]||(k[2]=H=>f(1)),loading:t(c).loading},null,8,["address","symbol","icon","loading"]),t(c).loading?(l(),v("div",zs,[b(N,{size:"30"})])):(l(),v("div",Fs,[t(c).havePair?(l(),v("div",Hs,[Ms,b(Ze,{pair:t(c).pair},null,8,["pair"])])):(l(),v("div",Vs,[Es,e("div",Ns,[e("div",{onClick:k[3]||(k[3]=H=>w("change",0)),class:"border-[2px] border-solid border-config-sub rounded-2xl mt-2.5 cursor-pointer px-3 py-1 text-config-sub"}," Add Liquidity ")])]))])),b(Ke,{show:t(m),onClose:k[4]||(k[4]=H=>t(a)(!1)),onConfirmSelectToken:o},null,8,["show"])])}}}),Ys=P(js,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/ImportLp.vue"]]),Ks={class:"flex-center-bw"},Ws={class:"flex items-center gap-2"},Zs={class:"font-bold"},Gs={class:"flex justify-end gap-5 items-center"},Js={class:"font-bold lg:text-[32px]"},Qs={class:"text-main"},Xs=R({props:{icon:{type:String,required:!0},symbol:{type:String,required:!0},amount:{type:String,required:!0},percent:{type:String,required:!0}},setup(n){return(w,x)=>(l(),v("div",Ks,[e("div",Ws,[b(le,{src:n.icon,size:24,class:"w-6 h-6"},null,8,["src"]),e("div",Zs,s(n.symbol),1)]),e("div",Gs,[e("div",Js,s(t(B)(n.amount,18)),1),e("div",Qs,s(t(B)(+n.percent*100))+"%",1)])]))}}),Oe=P(Xs,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/RemoveItem.vue"]]),eo={class:"bg-white box-shadow rounded-2xl w-[320px] lg:w-[390px] text-black px-5 py-7"},to={class:"flex-center-bw h-10 font-bold text-2xl"},no={class:"flex-center-bw h-[53px]"},so={class:"text-3xl font-bold"},oo={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},ao={class:"text-lg"},lo={class:"flex-center-bw h-[53px]"},io={class:"text-3xl font-bold"},co={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},uo={class:"text-lg"},ro=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),mo={class:"text-[#646464] text-xs"},po=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),vo={class:"border border-solid border-[#29AAC7] rounded-[10px] p-2.5"},bo={class:"flex-center-bw"},wo={class:"text-[#29AAC7]"},fo={class:"text-[#29AAC7]"},go=R({props:{show:{type:Boolean,required:!0},tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},removeAmount:{type:null,required:!0}},emits:["close","confirmRemove"],setup(n,{emit:w}){const{show:x,removeAmount:m}=n;return(a,r)=>{const f=q("van-icon"),c=q("VanImage"),h=q("VanPopup");return l(),U(h,{show:n.show,"onUpdate:show":r[2]||(r[2]=o=>Ve(x)?x.value=o:null),class:"bg-transparent",rounded:"",onClickOverlay:r[3]||(r[3]=o=>w("close")),onClickCloseIcon:r[4]||(r[4]=o=>w("close"))},{default:O(()=>[e("div",eo,[e("div",to,[e("div",null,s(a.$t("liquidity.confirmRemove")),1),b(f,{name:"cross",onClick:r[0]||(r[0]=o=>w("close"))})]),e("div",no,[e("div",so,s(t(ue)(t(B)(n.tokenA.amount))),1),e("div",oo,[b(c,{src:n.tokenA.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",ao,s(n.tokenA.symbol),1)])]),b(f,{name:"plus",class:"block text-3xl text-center my-1"}),e("div",lo,[e("div",io,s(t(ue)(t(B)(n.tokenB.amount))),1),e("div",co,[b(c,{src:n.tokenB.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",uo,s(n.tokenB.symbol),1)])]),ro,e("div",mo,s(a.$t("liquidity.removeTip")),1),po,e("div",vo,[e("div",bo,[e("div",wo,s(a.$t("liquidity.hasRemove")),1),e("div",null,[L(s(t(ue)(t(B)(n.removeAmount)))+" ",1),e("span",fo,s(`${n.tokenA.symbol}/ ${n.tokenB.symbol}`),1)])])]),b(X,{class:"mt-[15px]",loading:!1,disabled:!1,onClick:r[1]||(r[1]=o=>w("confirmRemove"))},{default:O(()=>[L(s(a.$t("liquidity.confirmRemove")),1)]),_:1})])]),_:1},8,["show"])}}}),xo=P(go,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/ConfirmRemovePop.vue"]]);const we=n=>(ct("data-v-b3f31562"),n=n(),dt(),n),ho={class:"pt-5"},_o={class:"text-center -mt-4 font-bold text-main text-[32px]"},yo=we(()=>e("div",{class:"bg w-[27px] h-[27px] rounded-full flex-center"},[e("div",{class:"w-4 h-4 rounded-full bg-white"})],-1)),ko={key:0,class:"border border-solid border-config-sub rounded-xl py-4 px-3 mt-8"},$o=we(()=>e("div",{class:"text-config-sub"},"Remaining LP Tokens",-1)),Ao={class:"flex items-center gap-2.5 mt-2"},Bo={class:"flex items-center"},Co={class:"font-bold lg:text-lg"},Io={class:"flex-1 text-right font-bold lg:text-lg"},So={class:"flex-center py-8"},Lo={key:1},To={key:0,class:"border border-solid border-config-sub rounded-xl py-4 px-3 mt-8"},Do=we(()=>e("div",{class:"text-config-sub"},"Exchange Rate",-1)),qo={class:"text-right mt-3"},Po={class:"text-right mt-3"},Ro={class:"flex-center-bw mt-5"},Uo=we(()=>e("div",{class:"text-main"}," Slippage Limit ",-1)),Oo={key:2,class:"flex-center"},Fo={key:0},Vo={key:1},Eo=R({props:{pair:{type:String,required:!0}},setup(n){const{pair:w}=n,[x,m]=Z(!1),{getCurrentAccount:a}=_e(),{getLiquidInfo:r}=ye(w),{removeLiquidity:f,removeLiquidityETH:c}=je(),h=M({slip:.5,time:10,mode:!1}),o=re({btnLoading:!1,percent:0,percentList:[.25,.5,.75,1],loading:!0,pairBalance:"0",pairAllowance:0,tokenA:"",tokenB:"",symbolA:"",symbolB:"",iconA:"",iconB:"",amountA:"0",amountB:"0",totalSupply:"",aInLpAmount:"0",bInLpAmount:"0",aPercent:"0",bPercent:"0",decimalA:0,decimalB:0,shares:"0"}),_=K(()=>new y(o.value.aInLpAmount).multipliedBy(+o.value.shares/100).multipliedBy(o.value.percent/100).toFixed()),k=K(()=>new y(o.value.bInLpAmount).multipliedBy(+o.value.shares/100).multipliedBy(o.value.percent/100).toFixed()),I=K(()=>new y(o.value.pairBalance).div(100).multipliedBy(o.value.percent).toString()),N=K(()=>o.value.pairAllowance>+I.value&&o.value.pairAllowance>0),H=A=>{o.value.percent=A},ee=A=>{o.value.percent=A*100},[ie,G]=Z(!1),i=A=>{h.slip=A},p=A=>{h.time=A},$=A=>{h.mode=A},J=async()=>{const A=await r();o.value={...o.value,...A},await d(),o.value.loading=!1},d=async()=>{o.value.pairAllowance=await D(w).allowance(S.PANCAKE_ROUTER)},C=async()=>{if(!N.value)return W();m(!0)},z=async()=>{m(!1),o.value.btnLoading=!0;const A=E(o.value.tokenA,S.BNB),F=E(o.value.tokenB,S.BNB);let Q;if(A||F){const ce=A?o.value.tokenB:o.value.tokenA,te=A?_.value:k.value,j=A?k.value:_.value,fe=A?o.value.decimalB:o.value.decimalA;console.log(te),console.log(j),Q=await c(ce,new y(I.value).toFixed(18),new y(j).multipliedBy(1-h.slip).toFixed(18),new y(te).multipliedBy(1-h.slip).toFixed(fe),a(),h.time)}else Q=await f(o.value.tokenA,o.value.tokenB,new y(I.value).toFixed(18),new y(_.value).multipliedBy(1-h.slip).toFixed(o.value.decimalA),new y(k.value).multipliedBy(1-h.slip).toFixed(o.value.decimalB),a(),h.time);if(o.value.btnLoading=!1,!Q.success){m(!0);return}await J()},W=async()=>{o.value.btnLoading=!0,await D(w).approve(S.PANCAKE_ROUTER),await d(),o.value.btnLoading=!1};return me(()=>{J()}),(A,F)=>{const Q=q("van-slider"),ce=q("van-icon"),te=q("van-loading");return l(),v("div",ho,[b(ft,{onOpen:F[0]||(F[0]=j=>t(G)(!0))},{default:O(()=>[L(s(A.$t("liquidity.remove")),1)]),_:1}),e("div",_o,s(o.value.percent)+"%",1),b(Q,{class:"mt-8 mx-auto w-[95%]",modelValue:o.value.percent,"onUpdate:modelValue":F[1]||(F[1]=j=>o.value.percent=j),disabled:o.value.btnLoading,barHeight:"16","inactive-color":" #46598b",onChange:H},{button:O(()=>[yo]),_:1},8,["modelValue","disabled"]),b(gt,{percentList:o.value.percentList,percent:o.value.percent,onChange:ee},null,8,["percentList","percent"]),o.value.loading?ae("v-if",!0):(l(),v("div",ko,[$o,e("div",Ao,[e("div",Bo,[b(le,{src:o.value.iconA,class:"-mr-2 w-6 h-6",size:26},null,8,["src"]),b(le,{src:o.value.iconB,class:"w-6 h-6",size:26},null,8,["src"])]),e("div",Co,s(o.value.symbolA)+"-"+s(o.value.symbolB),1),e("div",Io,[e("div",null,s(t(I)||"0"),1)])])])),e("div",So,[b(ce,{name:"down",size:"24",class:"text-main"})]),o.value.loading?(l(),v("div",Oo,[b(te,{size:"30"})])):(l(),v("div",Lo,[e("div",null,[b(Oe,{icon:o.value.iconA,symbol:o.value.symbolA,amount:t(_),percent:o.value.aPercent},null,8,["icon","symbol","amount","percent"]),b(Oe,{class:"mt-5",icon:o.value.iconB,symbol:o.value.symbolB,amount:t(k),percent:o.value.bPercent},null,8,["icon","symbol","amount","percent"])]),o.value.loading?ae("v-if",!0):(l(),v("div",To,[Do,e("div",qo," 1 "+s(o.value.symbolA)+" = "+s(new t(y)(o.value.aPercent).div(o.value.bPercent))+" "+s(o.value.symbolB),1),e("div",Po," 1 "+s(o.value.symbolB)+" = "+s(new t(y)(o.value.bPercent).div(o.value.aPercent))+" "+s(o.value.symbolA),1)])),e("div",Ro,[Uo,e("div",null,s(t(h).slip)+"%",1)])])),b(X,{class:"mt-7",loading:o.value.btnLoading,onClick:C},{default:O(()=>[t(N)?(l(),v("span",Vo,s(A.$t("liquidity.remove")),1)):(l(),v("span",Fo,"Approve LP"))]),_:1},8,["loading"]),b(Ye,{show:t(ie),onClose:F[2]||(F[2]=j=>t(G)(!1)),timeValue:t(h).time,slipValue:t(h).slip,modeValue:t(h).mode,"onUpdate:slipValue":i,"onUpdate:timeValue":p,onChangeMode:$},null,8,["show","timeValue","slipValue","modeValue"]),b(xo,{show:t(x),onClose:F[3]||(F[3]=j=>t(m)(!1)),onConfirmRemove:z,removeAmount:t(I),tokenA:{amount:t(_),logoURI:o.value.iconA,symbol:o.value.symbolA},tokenB:{amount:t(k),logoURI:o.value.iconB,symbol:o.value.symbolB}},null,8,["show","removeAmount","tokenA","tokenB"])])}}}),No=P(Eo,[["__scopeId","data-v-b3f31562"],["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/Remove.vue"]]),Ho={class:"lg:px-8 px-2.5 py-5"},Mo=L(" back "),zo=L(" Remove Liquidity "),jo=R({props:{pair:{type:String,required:!0}},setup(n){const w=ut("handleChangeTab"),[x,m]=Z(!1),a=()=>{x.value?m(!1):(console.log("123"),w(1))};return(r,f)=>{const c=q("van-icon");return l(),v("div",Ho,[e("div",{class:"flex items-center text-main gap-3 cursor-pointer",onClick:a},[b(c,{name:"down",class:"rotate-90"}),Mo]),Te(e("div",null,[b(Ze,{pair:n.pair},null,8,["pair"]),b(X,{class:"mt-10",onClick:f[0]||(f[0]=h=>t(m)(!0))},{default:O(()=>[zo]),_:1})],512),[[De,!t(x)]]),Te(b(No,{pair:n.pair},null,8,["pair"]),[[De,t(x)]])])}}}),Yo=P(jo,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/LpDetail.vue"]]),Ko={class:"mt-4 lg:mt-0 lg:min-w-[600px]"},Wo=R({setup(n){const w=re(0),x=re(""),m=(a,r="")=>{console.log(a,r),x.value=r,w.value=a};return rt("handleChangeTab",m),(a,r)=>(l(),v("div",Ko,[b(He,null,{default:O(()=>[w.value<2?(l(),U(xt,{key:0,"current-tab":w.value,onChange:m},null,8,["current-tab"])):ae("v-if",!0),w.value===0?(l(),U(ht,{key:1})):w.value===1?(l(),U(fs,{key:2,onChange:m})):w.value===2?(l(),U(Ys,{key:3,onChange:m})):(l(),U(Yo,{key:4,pair:x.value,onChange:m},null,8,["pair"]))]),_:1})]))}}),Zo=P(Wo,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/AddLiquidity.vue"]]),Go={class:"lg:flex items-start justify-center relative"},Jo=R({setup(n){const w=mt(),x=Ee(),{t:m}=pt(),a=K(()=>[{id:0,name:m("trade.swap"),disabled:!1,url:"/swap"},{id:1,name:m("trade.liquidity"),disabled:!1,url:"/add"},{id:2,name:m("trade.perpetual"),disabled:!0},{id:3,name:m("trade.bridge"),disabled:!0}]),r=qe({Swap:Re,AddLiquidity:Zo,RemoveLiquidity:_t});qe(Re);const f=M({currentTab:x.meta.tab||0,currentComponent:"Swap"}),c=h=>{h.disabled||(f.currentTab=h.id,h.url&&w.push(h.url))};return console.log(x.name,"route"),console.log(x.meta,"route"),(h,o)=>(l(),v("div",Go,[b(At,{tabList:t(a),currentTab:t(f).currentTab,onChange:c,class:"lg:absolute lg:left-0"},null,8,["tabList","currentTab"]),ae(" <Swap /> "),(l(),U(vt(t(r)[t(x).name])))]))}}),ea=P(Jo,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/Trade.vue"]]);export{ea as default};
