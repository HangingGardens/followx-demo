import{_ as O,d as j,ak as de,r as ce,R as ne,Z as se,o as a,E as ae,w as R,b as e,y as s,u as o,c as i,m as H,aq as re,ag as ke,j as g,a6 as V,an as p,ar as G,C as ue,p as fe,l as Ie,q as me,P as C,h as k,F as te,g as oe,am as ve,z as ie,i as le,e as B,H as ye,k as z,a8 as ge,L as he,T as F,Q as S,S as M,V as pe}from"./index-ed39997f.js";import{S as q,M as u,f as _e,w as be,T as $e,I as Te,b as we,c as xe}from"./ido-92a8aec9.js";import{_ as Se,T as Be}from"./TokenImage-e6a4907c.js";import"./toast-3819cd82.js";const Ce=n=>(fe("data-v-23786d9e"),n=n(),Ie(),n),Ee={class:"px-5 py-7"},De={class:"text-lg font-semibold pb-2.5"},Le={class:"item"},Ae={class:"key"},Ve=Ce(()=>e("img",{src:Se,class:"w-6 h-auto"},null,-1)),We={key:1},Fe={class:"item"},He={class:"key"},Pe={class:"text-lg font-semibold py-4 pb-2.5"},Ne={class:"item"},Ue={class:"key"},qe={key:0},Oe={key:1},je={class:"item"},Re={class:"key"},Xe={key:1,class:"item"},Me={class:"key"},Ge={class:"item"},ze={class:"key"},Je={key:0,class:"ml-0.5"},Qe={key:2,class:"item"},Ze={class:"key"},Ke={class:"text-lg font-semibold py-4 pb-2.5"},Ye={class:"item"},et={class:"key"},tt={key:0,class:"ml-0.5"},ot={class:"item"},nt={class:"key"},st=H(" / "),at={class:"item"},it={class:"key"},lt={key:0},dt={key:1},ct=j({props:{tokenInfo:{type:null,required:!0}},setup(n){const l=n,{currentLocale:v}=de(),T=ce({title:"",address:"",symbol:"",logoURI:"",introduce:"",twitter:"",telegram:"",medium:"",discord:"",website:"",whitepaper:"",rise:""}),I=async()=>{var d,f,w;if((d=l.tokenInfo)!=null&&d.tokenId)try{T.value=await fetch(`${((f=l.tokenInfo)==null?void 0:f.type)===0?"Swap":"Waitlist"}/${(w=l.tokenInfo)==null?void 0:w.tokenId}-${v.value}.json`).then(x=>x.json())}catch{}};return ne(v,async()=>{await I()}),se(()=>{I()}),(d,f)=>(a(),ae(ue,null,{default:R(()=>{var w,x,E,t,c,m,y,_,b,$,h,D,r,L,W,A,P,N,U,X,J,Q,Z,K,Y;return[e("div",Ee,[e("div",De,s(d.$t("iod.Token TokenInformation")),1),e("div",Le,[e("div",Ae,s(d.$t("ido.Contract Address")),1),((w=n.tokenInfo)==null?void 0:w.status)===o(q).CLOSED?(a(),i("div",{key:0,class:"flex items-center",onClick:f[0]||(f[0]=To=>{var ee;return o(ke)((ee=n.tokenInfo)==null?void 0:ee.donationToken)})},[H(s(o(re)((x=n.tokenInfo)==null?void 0:x.donationToken,"...",6,4)||"-")+" ",1),Ve])):(a(),i("div",We,"**********"))]),e("div",Fe,[e("div",He,s(d.$t("ido.Token")),1),e("div",null,s(((E=n.tokenInfo)==null?void 0:E.donationTokenSymbol)||T.value.symbol||"-"),1)]),g(` <div class="item">
        <div class="key">{{ $t('ido.LaunchpadTotal') }}</div>
        <div>{{ getBalanceNumber(tokenInfo?.totalSupply.toString()) || 0 }}</div>
      </div> `),e("div",Pe,s(d.$t("ido.Auction Information")),1),e("div",Ne,[e("div",Ue,s(d.$t("ido.Auction Type")),1),e("div",null,[((t=n.tokenInfo)==null?void 0:t.type)===o(u).WHITELIST?(a(),i("span",qe,"WhiteList Auction")):(a(),i("span",Oe,"Fixed-Swap Auction"))])]),e("div",je,[e("div",Re,s(d.$t("ido.Participant")),1),e("div",null,s(((c=n.tokenInfo)==null?void 0:c.whitelistFlag)===!0?"WhiteList":"Public"),1)]),g("v-if",!0),((m=n.tokenInfo)==null?void 0:m.type)===o(u).WHITELIST?(a(),i("div",Xe,[e("div",Me,s(d.$t("ido.Allocation per Wallet")),1),e("div",null,s(o(V)(+o(p)(((_=(y=n.tokenInfo)==null?void 0:y.maxTokensPerBuyer)==null?void 0:_.toString())||"0"))),1)])):g("v-if",!0),e("div",Ge,[e("div",ze,s(d.$t("ido.Total Available Amount")),1),e("div",null,[H(s(o(V)(o(p)((($=(b=n.tokenInfo)==null?void 0:b.targetAmount)==null?void 0:$.toString())||"0")))+" ",1),((h=n.tokenInfo)==null?void 0:h.type)!==o(u).WHITELIST?(a(),i("span",Je,s(((D=n.tokenInfo)==null?void 0:D.paymentTokenSymbol)||"-"),1)):g("v-if",!0)])]),((r=n.tokenInfo)==null?void 0:r.type)===o(u).WHITELIST?(a(),i("div",Qe,[e("div",Ze,s(d.$t("ido.PricePerUni")),1),e("div",null,s(o(V)(+o(p)(((W=(L=n.tokenInfo)==null?void 0:L.tokenPrice)==null?void 0:W.toString())||"0"))+" "+n.tokenInfo.paymentTokenSymbol),1)])):g("v-if",!0),e("div",Ke,s(d.$t("iod.join TokenInformation")),1),e("div",Ye,[e("div",et,s(d.$t("ido.min")),1),e("div",null,[H(s(o(V)(+o(p)(((P=(A=n.tokenInfo)==null?void 0:A.minimumPurchase)==null?void 0:P.toString())||"0")))+" ",1),((N=n.tokenInfo)==null?void 0:N.type)!==o(u).WHITELIST?(a(),i("span",tt,s(((U=n.tokenInfo)==null?void 0:U.paymentTokenSymbol)||"-"),1)):g("v-if",!0)])]),e("div",ot,[e("div",nt,s(d.$t("ido.my")),1),e("div",null,[e("span",null,s(o(V)(+o(p)(((X=n.tokenInfo)==null?void 0:X.myDonatedAmount.toString())||"0"))),1),st,e("span",null,s(o(V)(+o(p)(((J=n.tokenInfo)==null?void 0:J.type)===o(u).WHITELIST?((Q=n.tokenInfo)==null?void 0:Q.maxTokensPerBuyer.toString())||"0":((Z=n.tokenInfo)==null?void 0:Z.targetAmount.toString())||"0"))),1)])]),g(` <div class="item" v-if="tokenInfo?.status === STATUS.CLOSED">
        <div class="key">{{ $t('ido.totalGet') }}</div>
        <div>
          <span>{{ tokenInfo?.totalGet }}{{ tokenInfo?.donationTokenSymbol || jsonInfo.symbol || '-' }}</span>
        </div>
      </div> `),e("div",at,[e("div",it,s(d.$t("ido.deadline")),1),e("div",null,[(K=n.tokenInfo)!=null&&K.deadline?(a(),i("span",lt,s(o(G)((Y=n.tokenInfo)==null?void 0:Y.deadline)),1)):(a(),i("span",dt,"-"))])])])]}),_:1}))}}),rt=O(ct,[["__scopeId","data-v-23786d9e"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/TokenInformation.vue"]]),kt={class:"px-5 mt-4 bg-box py-7 rounded-xl"},ut={class:"text-lg font-semibold pb-2.5"},ft={class:"grid grid-cols-3 gap-2 mt-4 g:gap-5"},It=["src"],mt={class:"mt-5"},vt={class:"text-lg font-semibold pb-2.5"},yt={class:"grid grid-cols-3 gap-2 mt-4 lg:gap-5"},gt=["src"],ht=j({setup(n){const l=me("isDark");console.log(l);const v=C(()=>[l.value?k("ido/paladin-dark.svg"):k("ido/paladin.svg"),l.value?k("ido/Binance-dark.svg"):k("ido/Binance.svg"),l.value?k("ido/certik-dark.svg"):k("ido/certik.svg"),l.value?k("ido/CoinGecko-dark.svg"):k("ido/CoinGecko.svg"),l.value?k("ido/Coinmarketcap-dark.svg"):k("ido/Coinmarketcap.svg")]),T=C(()=>[l.value?k("ido/dappradar.svg"):k("ido/dappradar-dark.svg"),l.value?k("ido/apeswap.svg"):k("ido/apeswap-dark.svg"),l.value?k("ido/seinetwork.svg"):k("ido/seinetwork-dark.svg"),l.value?k("ido/peckshield.svg"):k("ido/peckshield-dark.svg"),l.value?k("ido/rango.svg"):k("ido/rango-dark.svg")]);return(I,d)=>(a(),i("div",kt,[e("div",null,[e("div",ut,s(I.$t("ido.Investors")),1),e("div",ft,[(a(!0),i(te,null,oe(o(v),f=>(a(),i("div",{key:f},[e("img",{src:f,class:"h-6 lg:h-16",alt:""},null,8,It)]))),128))])]),e("div",mt,[e("div",vt,s(I.$t("ido.partner")),1),e("div",yt,[(a(!0),i(te,null,oe(o(T),f=>(a(),i("div",{key:f},[e("img",{src:f,class:"h-6 lg:h-16",alt:""},null,8,gt)]))),128))])])]))}}),pt=O(ht,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Investors.vue"]]);const _t={class:"mt-8"},bt={class:"text-lg font-semibold pb-2.5"},$t={class:"flex-center-bw"},Tt={class:"key"},wt={class:"gap-2 flex-center"},xt={class:"font-bold text-[24px]"},St={class:"text-main"},Bt={key:0,class:"flex-center-bw"},Ct={class:"key"},Et={class:"gap-2 flex-center"},Dt={class:"font-bold text-[24px]"},Lt={class:"text-main"},At={key:1,class:"flex-center-bw"},Vt={class:"key"},Wt={class:"gap-2 flex-center"},Ft={class:"font-bold text-[24px]"},Ht={class:"text-main"},Pt={class:"flex-center-bw"},Nt={class:"key"},Ut={class:"gap-2 flex-center"},qt={class:"font-bold text-[24px]"},Ot={class:"text-main"},jt={class:"flex-center-bw"},Rt={class:"key"},Xt={class:"gap-2 flex-center"},Mt={class:"font-bold text-[24px]"},Gt={class:"text-main"},zt=j({props:{tokenInfo:{type:null,required:!0}},setup(n){return(l,v)=>{var T,I,d,f,w,x,E,t,c,m,y,_,b,$,h,D;return a(),i("div",_t,[e("div",bt,s(l.$t("ido.Claim")),1),e("div",$t,[e("div",Tt,s(l.$t("ido.purchased")),1),e("div",wt,[e("span",xt,s(((T=n.tokenInfo)==null?void 0:T.type)===o(u).WHITELIST?o(V)(+o(p)((((I=n.tokenInfo)==null?void 0:I.myDonatedAmount)||0).toString())*+o(p)((((d=n.tokenInfo)==null?void 0:d.tokenPrice)||0).toString())):o(V)(+o(p)(((w=(f=n.tokenInfo)==null?void 0:f.myDonatedAmount)==null?void 0:w.toString())||"0"))),1),e("span",St,s(((x=n.tokenInfo)==null?void 0:x.paymentTokenSymbol)||"-"),1)])]),((E=n.tokenInfo)==null?void 0:E.type)===o(u).FIXED?(a(),i("div",Bt,[e("div",Ct,s(l.$t("ido.success")),1),e("div",Et,[e("span",Dt,s((t=n.tokenInfo)==null?void 0:t.totalSuccess),1),e("span",Lt,s(((c=n.tokenInfo)==null?void 0:c.paymentTokenSymbol)||"-"),1)])])):g("v-if",!0),((m=n.tokenInfo)==null?void 0:m.type)===o(u).FIXED?(a(),i("div",At,[e("div",Vt,s(l.$t("ido.fail")),1),e("div",Wt,[e("span",Ft,s((y=n.tokenInfo)==null?void 0:y.totalFail),1),e("span",Ht,s(((_=n.tokenInfo)==null?void 0:_.paymentTokenSymbol)||"-"),1)])])):g("v-if",!0),e("div",Pt,[e("div",Nt,s(l.$t("ido.buySuccess")),1),e("div",Ut,[e("span",qt,s((b=n.tokenInfo)==null?void 0:b.totalGet),1),e("span",Ot,s((($=n.tokenInfo)==null?void 0:$.donationTokenSymbol)||"-"),1)])]),e("div",jt,[e("div",Rt,s(l.$t("ido.Unextract")),1),e("div",Xt,[e("span",Mt,s((h=n.tokenInfo)==null?void 0:h.unExtracted),1),e("span",Gt,s(((D=n.tokenInfo)==null?void 0:D.donationTokenSymbol)||"-"),1)])])])}}}),Jt=O(zt,[["__scopeId","data-v-2096c424"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Claim.vue"]]);const Qt={class:"mt-8"},Zt={class:"flex-center-bw"},Kt={class:"text-lg font-semibold"},Yt={class:"mt-5 text-sm text-right"},eo={key:0,class:"flex justify-end"},to={class:"mt-2 public"},oo={class:"bg-box rounded-xl py-1.5 px-2 flex-center mt-5"},no={class:"dark:bg-[#061629] bg-box px-4 py-3.5 flex-center gap-2 rounded-xl cursor-pointer"},so={class:"font-bold text-baseColor"},ao={class:"text-right text-[#46598B] mt-1"},io={key:1,class:"flex-center-bw mt-2.5"},lo={class:"text-[#ABB5CF]"},co={key:2,class:"flex-center-bw mt-2.5"},ro={class:"text-[#ABB5CF]"},ko={key:3},uo={key:0},fo={key:1},Io=j({props:{tokenInfo:{type:null,required:!0},modelValue:{type:[String,Number,null],required:!0},loading:{type:Boolean,required:!0},isAuth:{type:Boolean,required:!0},balance:{type:String,required:!0}},emits:["update:modelValue","handle","init"],setup(n,{emit:l}){const v=n,T=C(()=>{var c,m,y,_,b,$,h,D,r,L,W,A;return v.tokenInfo.type===u.WHITELIST?p(((m=(c=v.tokenInfo)==null?void 0:c.maxTokensPerBuyer)==null?void 0:m.toString())||((_=(y=v.tokenInfo)==null?void 0:y.totalSupply)==null?void 0:_.toString()))-p(($=(b=v.tokenInfo)==null?void 0:b.myDonatedAmount)==null?void 0:$.toString()):p(((D=(h=v.tokenInfo)==null?void 0:h.targetAmount)==null?void 0:D.toString())||((L=(r=v.tokenInfo)==null?void 0:r.totalSupply)==null?void 0:L.toString()))-p((A=(W=v.tokenInfo)==null?void 0:W.donatedAmount)==null?void 0:A.toString())}),I=ve({time:+v.tokenInfo.deadline.toString()*1e3-new Date().getTime()});I.start();const d=C(()=>I.current.value.total),f=C(()=>("0"+I.current.value.days).slice(-2)),w=C(()=>("0"+I.current.value.hours).slice(-2)),x=C(()=>("0"+I.current.value.minutes).slice(-2)),E=C(()=>("0"+I.current.value.seconds).slice(-2));ne(d,()=>{d.value===0&&l("init")}),ie({balance:"0"});const t=c=>{l("update:modelValue",c)};return(c,m)=>{var _,b,$;const y=le("VanField");return a(),i("div",Qt,[e("div",Zt,[e("div",Kt,s(c.$t("ido.Buy"))+" "+s(n.tokenInfo.donationTokenSymbol),1),e("div",Yt,[H(s(c.$t("ido.Available"))+" : ",1),e("span",null,s(o(T)<=0?0:o(T)),1),g(" <span>{{ tokenInfo.donationTokenSymbol }}</span> ")])]),o(d)>0?(a(),i("div",eo,[e("div",to,s(c.$t("ido.ClosedIn"))+" "+s(o(f))+"d : "+s(o(w))+"h : "+s(o(x))+"m : "+s(o(E))+"s ",1)])):g("v-if",!0),e("div",oo,[B(y,{modelValue:n.modelValue,"onUpdate:modelValue":[m[0]||(m[0]=h=>ye(modelValue)?modelValue.value=h:null),t],class:"flex-1 text-xs font-bold bg-box rounded-xl text-baseColor",placeholder:"0"},null,8,["modelValue"]),e("div",no,[B(Be,{src:o(k)(`tokens/${(_=n.tokenInfo)==null?void 0:_.paymentTokenSymbol}.svg`),class:"w-5 h-5",size:20},null,8,["src"]),e("div",so,s(n.tokenInfo.paymentTokenSymbol),1)])]),e("div",ao,s(c.$t("swap.balance"))+" : "+s(n.balance||"-")+" "+s(n.tokenInfo.paymentTokenSymbol),1),n.tokenInfo.type===o(u).WHITELIST?(a(),i("div",io,[e("div",lo,s(c.$t("ido.PricePerUni")),1),e("div",null,s(o(p)((b=n.tokenInfo)==null?void 0:b.tokenPrice.toString())+" "+n.tokenInfo.paymentTokenSymbol),1)])):g("v-if",!0),n.tokenInfo.type===o(u).WHITELIST?(a(),i("div",co,[e("div",ro,s(c.$t("ido.total")),1),e("div",null,s(+n.modelValue*o(p)(($=n.tokenInfo)==null?void 0:$.tokenPrice.toString())+" "+n.tokenInfo.paymentTokenSymbol),1)])):g("v-if",!0),n.tokenInfo.type===o(u).WHITELIST&&n.tokenInfo.status===o(q).CLOSED?(a(),i("div",ko,[B(z,{class:"mt-8",loading:n.loading,onClick:m[1]||(m[1]=h=>l("handle")),disabled:!n.tokenInfo.inRule},{default:R(()=>[e("span",null,s(c.$t("ido.Claim")),1)]),_:1},8,["loading","disabled"])])):(a(),ae(z,{key:4,class:"mt-8",loading:n.loading,onClick:m[2]||(m[2]=h=>l("handle")),disabled:n.tokenInfo.type===o(u).WHITELIST&&!n.tokenInfo.inRule},{default:R(()=>[n.isAuth?(a(),i("span",uo,s(c.$t("ido.Buy")),1)):(a(),i("span",fo,s(c.$t("ido.auth")),1))]),_:1},8,["loading","disabled"]))])}}}),mo=O(Io,[["__scopeId","data-v-0359bdb8"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Buy.vue"]]),vo={class:"px-5 lg:w-[800px] mx-auto"},yo={key:0,class:"mt-6"},go={key:1},ho={class:"mt-2 text-sm text-center text-main"},po={key:0},_o={key:1},bo={key:2},$o=j({setup(n){const{donationTokens:l,donate:v,donateETH:T,withdraw:I}=_e(),{tokens:d,buyTokens:f,extract:w}=be(),x=ge(),E=he(),t=ie({status:q.PUBLIC,buyValue:null,type:0,tokenId:null,tokenInfo:null,btnLoading:!1,allowance:0,balance:"0"});t.type=+E.query.type,t.tokenId=E.query.tokenId;const c=C(()=>t.allowance>0&&t.allowance>=+t.buyValue||F(t.tokenInfo.paymentToken,S.BNB)||F(t.tokenInfo.paymentToken,S.WBNB));C(()=>{var r;if(t.tokenInfo.extractTimes.toString()==="0")return!0;if(t.type===u.WHITELIST)return(r=t.tokenInfo)==null?void 0:r.openExtractionFlag});const m=C(()=>{const r=+t.tokenInfo.extractionTime.toString();+t.tokenInfo.extractionTimes.toString(),+t.tokenInfo.extractTimes.toString();const L=+t.tokenInfo.extractIntervalSeconds.toString();return r===0?G(t.tokenInfo.deadline):G(r+L)}),y=async()=>{if(t.type===u.FIXED){const r=await l(t.tokenId);t.tokenInfo=await we(r.result,t.tokenId)}else{const r=await d(t.tokenId);console.log(r),t.tokenInfo=await xe(r.result,t.tokenId)}await h()},_=r=>{t.buyValue=r},b=async()=>{t.btnLoading=!0,c.value?(t.type===u.FIXED?(console.log(F(t.tokenInfo.paymentToken,S.BNB)),F(t.tokenInfo.paymentToken,S.BNB)?await T(t.tokenId,t.buyValue):await v(t.tokenId,t.buyValue)):F(t.tokenInfo.paymentToken,S.BNB)||await f(t.buyValue,t.tokenId),await y(),console.log(t.tokenInfo)):await D(),t.btnLoading=!1},$=async()=>{t.btnLoading=!0,t.type===u.WHITELIST?await w(t.tokenId):await I(t.tokenId),await y(),t.btnLoading=!1},h=async()=>{t.allowance=await M(t.tokenInfo.paymentToken).allowance(t.type===u.FIXED?S.FIXED_MODE:S.WHITE_LIST_MODE),t.balance=F(t.tokenInfo.paymentToken,S.BNB)||F(t.tokenInfo.paymentToken,S.WBNB)?await pe():await M(t.tokenInfo.paymentToken).balanceOf()},D=async()=>{t.btnLoading=!0,await M(t.tokenInfo.paymentToken).approve(t.type===u.FIXED?S.FIXED_MODE:S.WHITE_LIST_MODE),await h(),t.btnLoading=!1};return se(()=>[y()]),(r,L)=>{var A,P,N,U;const W=le("van-icon");return a(),i("div",vo,[e("div",{class:"flex items-center gap-3 cursor-pointer text-main",onClick:L[0]||(L[0]=X=>o(x).go(-1))},[B(W,{name:"down",class:"rotate-90"}),H(" "+s(r.$t("common.back")),1)]),o(t).tokenInfo?(a(),i("div",yo,[B($e,{tokenInfo:o(t).tokenInfo,tokenId:o(t).tokenId,type:o(t).type,onInit:y},null,8,["tokenInfo","tokenId","type"]),B(Te,{tokenInfo:o(t).tokenInfo},null,8,["tokenInfo"])])):g("v-if",!0),B(rt,{class:"mt-10",tokenInfo:o(t).tokenInfo},null,8,["tokenInfo"]),B(pt),((A=o(t).tokenInfo)==null?void 0:A.status)===o(q).CLOSED?(a(),i("div",go,[B(Jt,{tokenInfo:o(t).tokenInfo},null,8,["tokenInfo"]),B(z,{class:"mt-7",onClick:$,loading:o(t).btnLoading,disabled:((P=o(t).tokenInfo)==null?void 0:P.unExtracted)==="0"},{default:R(()=>[H(s(r.$t("ido.Claim")),1)]),_:1},8,["loading","disabled"]),e("div",ho,[((N=o(t).tokenInfo)==null?void 0:N.unExtracted)==="0"?(a(),i("span",po,s(r.$t("ido.end")),1)):(a(),i("span",_o,s(r.$t("ido.nextClaimTime"))+" :"+s(o(m)),1))])])):g("v-if",!0),((U=o(t).tokenInfo)==null?void 0:U.status)===o(q).PUBLIC&&o(t).tokenInfo?(a(),i("div",bo,[B(mo,{modelValue:o(t).buyValue,tokenInfo:o(t).tokenInfo,"onUpdate:modelValue":_,loading:o(t).btnLoading,onHandle:b,isAuth:o(c),allowance:o(t).allowance,balance:o(t).balance,onInit:y},null,8,["modelValue","tokenInfo","loading","isAuth","allowance","balance"])])):g("v-if",!0)])}}}),Co=O($o,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/IdoDetail.vue"]]);export{Co as default};
