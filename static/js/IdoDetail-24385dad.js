import{_ as L,d as U,o as a,E as z,w as E,b as e,x as i,u as s,ao as Q,A as I,c as l,ak as N,al as S,C as K,p as W,l as H,y as F,h as x,F as J,g as M,ap as X,P as D,i as G,e as k,H as Y,j as R,k as q,a3 as ee,L as te,Z as oe,S as f,Q as P,B as Z}from"./index-a67452ae.js";import{d as ne,t as se,S as u,T as ae,I as le}from"./transactionContract-6ada2416.js";import{T as ie}from"./TokenImage-46b5f643.js";import"./toast-6f37d33c.js";const p=o=>(W("data-v-23786d9e"),o=o(),H(),o),de={class:"px-5 py-7"},ce=p(()=>e("div",{class:"text-lg font-semibold pb-2.5"},"Token TokenInformation",-1)),re={class:"item"},ue=p(()=>e("div",{class:"key"},"Contract Address",-1)),_e={class:"item"},ke=p(()=>e("div",{class:"key"},"Token",-1)),fe=p(()=>e("div",{class:"text-lg font-semibold py-4 pb-2.5"},"Auction Information",-1)),me=p(()=>e("div",{class:"item"},[e("div",{class:"key"},"Auction Type"),e("div",null,"Fixed-Price")],-1)),pe={class:"item"},ve=p(()=>e("div",{class:"key"},"Participant",-1)),ye={key:1,class:"item"},he=p(()=>e("div",{class:"key"},"Allocation per Wallet",-1)),xe={class:"item"},Ie=p(()=>e("div",{class:"key"},"Total Available Amount",-1)),ge={class:"item"},be=p(()=>e("div",{class:"key"},"Price per unit, $",-1)),we=U({props:{tokenInfo:{type:null,required:!0}},setup(o){return(v,g)=>(a(),z(K,null,{default:E(()=>{var y,$,_,r,t,h,m,C,b,w;return[e("div",de,[ce,e("div",re,[ue,e("div",null,i(s(Q)((y=o.tokenInfo)==null?void 0:y.donationToken,"...",6,4)||"-"),1)]),e("div",_e,[ke,e("div",null,i((($=o.tokenInfo)==null?void 0:$.donateTokenSymbol)||"-"),1)]),fe,me,e("div",pe,[ve,e("div",null,i(((_=o.tokenInfo)==null?void 0:_.whitelistFlag)===!0?"WhiteList":"Public"),1)]),I("v-if",!0),((r=o.tokenInfo)==null?void 0:r.type)===1?(a(),l("div",ye,[he,e("div",null,i(s(N)(s(S)(((h=(t=o.tokenInfo)==null?void 0:t.maxTokensPerBuyer)==null?void 0:h.toString())||"0"))),1)])):I("v-if",!0),e("div",xe,[Ie,e("div",null,i(s(N)(s(S)(((C=(m=o.tokenInfo)==null?void 0:m.totalSupply)==null?void 0:C.toString())||"0"))),1)]),e("div",ge,[be,e("div",null,i(s(N)(s(S)(((w=(b=o.tokenInfo)==null?void 0:b.tokenPrice)==null?void 0:w.toString())||"0"))),1)])])]}),_:1}))}}),Te=L(we,[["__scopeId","data-v-23786d9e"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/TokenInformation.vue"]]),Se={class:"px-5 mt-4 bg-box py-7 rounded-xl"},$e=e("div",{class:"text-lg font-semibold pb-2.5"},"Token TokenInformation",-1),Ce={class:"mt-4 flex-center-bw"},Ae=["src"],Be={class:"mt-5"},Ve=e("div",{class:"text-lg font-semibold pb-2.5"},"Partners",-1),Pe={class:"mt-4 flex-center-bw"},De=["src"],Ne=U({setup(o){const v=F([x("ido/zebec.svg"),x("ido/nautilus.svg"),x("ido/eclipse.svg"),x("ido/notifi.svg")]),g=F([x("ido/polynetwork.svg"),x("ido/eclipse-1.svg"),x("ido/thirdfi.svg"),x("ido/galxe.svg")]);return(y,$)=>(a(),l("div",Se,[e("div",null,[$e,e("div",Ce,[(a(!0),l(J,null,M(s(v),_=>(a(),l("div",{key:_},[e("img",{src:_,class:"h-[18px]",alt:""},null,8,Ae)]))),128))])]),e("div",Be,[Ve,e("div",Pe,[(a(!0),l(J,null,M(s(g),_=>(a(),l("div",{key:_},[e("img",{src:_,class:"",alt:""},null,8,De)]))),128))])])]))}}),Le=L(Ne,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Investors.vue"]]);const O=o=>(W("data-v-2096c424"),o=o(),H(),o),Ue={class:"mt-8"},Oe=O(()=>e("div",{class:"text-lg font-semibold pb-2.5"},"Claim",-1)),Ee={class:"flex-center-bw"},Fe=O(()=>e("div",{class:"key"}," Purchased token ",-1)),qe={class:"gap-6 flex-center"},Re={class:"font-bold text-[32px]"},We=O(()=>e("span",{class:"text-main"},"ZEST",-1)),He={class:"flex-center-bw"},Je=O(()=>e("div",{class:"key"}," Purchased token ",-1)),Me={class:"gap-6 flex-center"},Ze={class:"font-bold text-[32px]"},ze=O(()=>e("span",{class:"text-main"},"ZEST",-1)),Ge=U({setup(o){return(v,g)=>(a(),l("div",Ue,[Oe,e("div",Ee,[Fe,e("div",qe,[e("span",Re,i(s(N)(1094)),1),We])]),e("div",He,[Je,e("div",Me,[e("span",Ze,i(s(N)(1094)),1),ze])])]))}}),je=L(Ge,[["__scopeId","data-v-2096c424"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Claim.vue"]]);const j=o=>(W("data-v-0359bdb8"),o=o(),H(),o),Qe={class:"mt-8"},Ke={class:"flex-center-bw"},Xe={class:"text-lg font-semibold"},Ye={key:0,class:"text-sm"},et=q(" Available : "),tt={class:"bg-box rounded-xl py-1.5 px-2 flex-center mt-8"},ot={class:"dark:bg-[#061629] bg-box px-4 py-3.5 flex-center gap-2 rounded-xl cursor-pointer"},nt={class:"font-bold text-baseColor"},st={class:"text-right text-[#46598B] mt-1"},at={key:0,class:"flex-center-bw mt-2.5"},lt=j(()=>e("div",{class:"text-[#ABB5CF]"},"Price per unit, $",-1)),it={key:1,class:"flex-center-bw mt-2.5"},dt=j(()=>e("div",{class:"text-[#ABB5CF]"},"Total",-1)),ct={key:0},rt={key:1},ut=U({props:{tokenInfo:{type:null,required:!0},modelValue:{type:[String,Number,null],required:!0},loading:{type:Boolean,required:!0},isAuth:{type:Boolean,required:!0}},emits:["update:modelValue","handle"],setup(o,{emit:v}){const{tokenInfo:g,modelValue:y,loading:$,isAuth:_}=o,r=X({time:g.deadline.toString()*1e3-new Date().getTime()});r.start(),D(()=>r.current.value.total),D(()=>("0"+r.current.value.days).slice(-2)),D(()=>("0"+r.current.value.hours).slice(-2)),D(()=>("0"+r.current.value.minutes).slice(-2)),D(()=>("0"+r.current.value.seconds).slice(-2)),F({balance:"0"});const t=h=>{v("update:modelValue",h)};return(h,m)=>{var b,w,n,d,c,T,A,B;const C=G("VanField");return a(),l("div",Qe,[e("div",Ke,[e("div",Xe," Buy "+i(o.tokenInfo.donateTokenSymbol),1),(a(),l("div",Ye,[et,e("span",null,i(s(S)((w=(b=o.tokenInfo)==null?void 0:b.totalSupply)==null?void 0:w.toString())-s(S)((d=(n=o.tokenInfo)==null?void 0:n.donatedAmount)==null?void 0:d.toString())),1),e("span",null,i(o.tokenInfo.donateTokenSymbol),1)]))]),e("div",tt,[k(C,{modelValue:o.modelValue,"onUpdate:modelValue":[m[0]||(m[0]=V=>Y(y)?y.value=V:null),t],class:"flex-1 text-xs font-bold bg-box rounded-xl text-baseColor",placeholder:"0"},null,8,["modelValue"]),e("div",ot,[k(ie,{src:(c=o.tokenInfo)==null?void 0:c.logoURI,class:"w-5 h-5",size:20},null,8,["src"]),e("div",nt,i(o.tokenInfo.payTokenSymbol),1)])]),e("div",st," Balance : "+i(((T=o.tokenInfo)==null?void 0:T.balance)||"-"),1),o.tokenInfo.type===1?(a(),l("div",at,[lt,e("div",null,i(s(S)((A=o.tokenInfo)==null?void 0:A.tokenPrice.toString())),1)])):I("v-if",!0),o.tokenInfo.type===1?(a(),l("div",it,[dt,e("div",null,i(+o.modelValue*s(S)((B=o.tokenInfo)==null?void 0:B.tokenPrice.toString())),1)])):I("v-if",!0),k(R,{class:"mt-8",loading:o.loading,onClick:m[1]||(m[1]=V=>v("handle"))},{default:E(()=>[o.isAuth?(a(),l("span",ct,"Buy")):(a(),l("span",rt,"Approve"))]),_:1},8,["loading"])])}}}),_t=L(ut,[["__scopeId","data-v-0359bdb8"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Buy.vue"]]),kt={class:"px-5 lg:w-[800px] mx-auto"},ft={key:0,class:"mt-6"},mt=q(" Join WhiteList "),pt={key:2},vt=q(" Claim "),yt={key:3},ht=U({setup(o){const{donationTokens:v,donate:g}=ne(),{tokens:y,buyTokens:$}=se(),_=ee(),r=te(),t=F({status:u.PUBLIC,buyValue:null,token:null,type:0,tokenInfo:null,btnLoading:!1});t.token=r.query.token,t.type=+r.query.type;const h=D(()=>t.tokenInfo.allowance>0&&t.tokenInfo.allowance>=t.buyValue),m=async()=>{if(t.type===0){const n=await v(t.token),d=new Date().getTime()/1e3;let c=u.PUBLIC;d>=n.result.deadline||n.result.donatedAmount>n.result.totalSupply?c=u.CLOSED:d>n.result.startTime&&d<n.result.deadline?c=u.PUBLIC:d<n.result.startTime&&(c=u.UPCOMING);const T=await f(n.result.paymentToken).symbol(),A=await f(n.result.donationToken).symbol(),B=await f(n.result.paymentToken).allowance(P.DONATE),V=await f(n.result.paymentToken).balanceOf();t.tokenInfo={...n.result,tokenInfo:JSON.parse(n.result.remark),status:c,progress:new Z(n.result.donatedAmount.toString()).div(n.result.totalSupply.toString()).toFixed(2),payTokenSymbol:T,donateTokenSymbol:A,type:t.type,allowance:B,balance:V}}else{const n=await y(t.token),d=new Date().getTime()/1e3;let c=u.PUBLIC;d>=n.result.deadline||n.result.tokensSold>n.result.maxTokens?c=u.CLOSED:d>n.result.startTime?c=u.PUBLIC:d<n.result.startTime&&(c=u.UPCOMING);const T=await f(n.result.paymentToken).symbol(),A=await f(n.result.saleToken).symbol(),B=await f(n.result.paymentToken).allowance(P.TRANSACTION),V=await f(n.result.paymentToken).balanceOf();t.tokenInfo={...n.result,tokenInfo:JSON.parse(n.result.remark||"{}"),status:c,progress:new Z(n.result.tokensSold.toString()).div(n.result.maxTokens.toString()).toFixed(2),payTokenSymbol:T,donateTokenSymbol:A,donatedAmount:n.result.tokensSold,totalSupply:n.result.maxTokens,donationToken:n.result.saleToken,paymentToken:n.result.paymentToken,balance:V,allowance:B,type:t.type}}},C=n=>{t.buyValue=n},b=async()=>{t.btnLoading=!0,h.value?t.type===0?await g(t.tokenInfo.donationToken,t.buyValue):await $(t.buyValue,t.tokenInfo.donationToken):await w(),t.btnLoading=!1},w=async()=>{t.btnLoading=!0,await f(t.tokenInfo.paymentToken).approve(t.type===0?P.DONATE:P.TRANSACTION),t.tokenInfo.allowance=f(t.tokenInfo.paymentToken).allowance(t.type===0?P.DONATE:P.TRANSACTION),t.btnLoading=!1};return oe(()=>[m()]),(n,d)=>{const c=G("van-icon");return a(),l("div",kt,[e("div",{class:"flex items-center gap-3 cursor-pointer text-main",onClick:d[0]||(d[0]=T=>s(_).push("/ido"))},[k(c,{name:"down",class:"rotate-90"}),q(" "+i(n.$t("common.back")),1)]),s(t).tokenInfo?(a(),l("div",ft,[k(ae,{tokenInfo:s(t).tokenInfo},null,8,["tokenInfo"]),k(le,{tokenInfo:s(t).tokenInfo},null,8,["tokenInfo"])])):I("v-if",!0),k(Te,{class:"mt-10",tokenInfo:s(t).tokenInfo},null,8,["tokenInfo"]),k(Le),s(t).status===s(u).WHITELIST?(a(),z(R,{key:1,class:"mt-7"},{default:E(()=>[mt]),_:1})):I("v-if",!0),s(t).status===s(u).CLOSED?(a(),l("div",pt,[k(je),k(R,{class:"mt-7"},{default:E(()=>[vt]),_:1})])):I("v-if",!0),s(t).status===s(u).PUBLIC&&s(t).tokenInfo?(a(),l("div",yt,[k(_t,{modelValue:s(t).buyValue,tokenInfo:s(t).tokenInfo,"onUpdate:modelValue":C,loading:s(t).btnLoading,onHandle:b,isAuth:s(h)},null,8,["modelValue","tokenInfo","loading","isAuth"])])):I("v-if",!0)])}}}),wt=L(ht,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/IdoDetail.vue"]]);export{wt as default};
