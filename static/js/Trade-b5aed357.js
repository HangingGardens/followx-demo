import{L as v,d as c,g as Pe,S as Me,P as Re,a as Q,b as Oe,I as se,s as q,V as Le,e as Se,f as pe,i as Ce,h as Ie,r as K,B as R,j as De,k as $e,_ as S,l as C,o as h,c as _,F as ee,m as ye,n as Fe,t as T,p,u as f,q as F,v as ce,w as G,x as w,y as M,z as B,A as Ve,W as Ne,J as Ue,C as V,D as me,E as Z,T as D,G as A,H as Be,K as E,M as qe,N as $,O,Q as He,R as X,U as Ge,X as je,Y as fe,Z as We,$ as ze,a0 as Je}from"./index-a380f8c5.js";import{C as Ke,a as Ze}from"./ColorsButton-6ec9ef61.js";const Xe="contracts/5.7.0";var L=globalThis&&globalThis.__awaiter||function(a,e,t,n){function o(d){return d instanceof t?d:new t(function(r){r(d)})}return new(t||(t=Promise))(function(d,r){function i(l){try{u(n.next(l))}catch(y){r(y)}}function s(l){try{u(n.throw(l))}catch(y){r(y)}}function u(l){l.done?d(l.value):o(l.value).then(i,s)}u((n=n.apply(a,e||[])).next())})};const b=new v(Xe);function W(a,e){return L(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&b.throwArgumentError("invalid address or ENS name","name",t);try{return Q(t)}catch{}a||b.throwError("a provider or signer is needed to resolve ENS names",v.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield a.resolveName(t);return n==null&&b.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function j(a,e,t){return L(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,o)=>j(a,Array.isArray(e)?e[o]:e[n.name],n))):t.type==="address"?yield W(a,e):t.type==="tuple"?yield j(a,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>j(a,n,t.arrayChildren))):Promise.reject(b.makeError("invalid value for array",v.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function z(a,e,t){return L(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=q(t.pop())),b.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),a.signer?n.from?n.from=K({override:W(a.signer,n.from),signer:a.signer.getAddress()}).then(u=>L(this,void 0,void 0,function*(){return Q(u.signer)!==u.override&&b.throwError("Contract with a Signer cannot override from",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):n.from=a.signer.getAddress():n.from&&(n.from=W(a.provider,n.from));const o=yield K({args:j(a.signer||a.provider,t,e.inputs),address:a.resolvedAddress,overrides:K(n)||{}}),d=a.interface.encodeFunctionData(e,o.args),r={data:d,to:o.address},i=o.overrides;if(i.nonce!=null&&(r.nonce=R.from(i.nonce).toNumber()),i.gasLimit!=null&&(r.gasLimit=R.from(i.gasLimit)),i.gasPrice!=null&&(r.gasPrice=R.from(i.gasPrice)),i.maxFeePerGas!=null&&(r.maxFeePerGas=R.from(i.maxFeePerGas)),i.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=R.from(i.maxPriorityFeePerGas)),i.from!=null&&(r.from=i.from),i.type!=null&&(r.type=i.type),i.accessList!=null&&(r.accessList=De(i.accessList)),r.gasLimit==null&&e.gas!=null){let u=21e3;const l=$e(d);for(let y=0;y<l.length;y++)u+=4,l[y]&&(u+=64);r.gasLimit=R.from(e.gas).add(u)}if(i.value){const u=R.from(i.value);!u.isZero()&&!e.payable&&b.throwError("non-payable method cannot override value",v.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),r.value=u}i.customData&&(r.customData=q(i.customData)),i.ccipReadEnabled&&(r.ccipReadEnabled=!!i.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const s=Object.keys(n).filter(u=>n[u]!=null);return s.length&&b.throwError(`cannot override ${s.map(u=>JSON.stringify(u)).join(",")}`,v.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:s}),r})}function Ye(a,e){return function(...t){return z(a,e,t)}}function Qe(a,e){const t=a.signer||a.provider;return function(...n){return L(this,void 0,void 0,function*(){t||b.throwError("estimate require a provider or signer",v.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const o=yield z(a,e,n);return yield t.estimateGas(o)})}}function et(a,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(o=>(o.events=o.logs.map(d=>{let r=pe(d),i=null;try{i=a.interface.parseLog(d)}catch{}return i&&(r.args=i.args,r.decode=(s,u)=>a.interface.decodeEventLog(i.eventFragment,s,u),r.event=i.name,r.eventSignature=i.signature),r.removeListener=()=>a.provider,r.getBlock=()=>a.provider.getBlock(o.blockHash),r.getTransaction=()=>a.provider.getTransaction(o.transactionHash),r.getTransactionReceipt=()=>Promise.resolve(o),r}),o))}function be(a,e,t){const n=a.signer||a.provider;return function(...o){return L(this,void 0,void 0,function*(){let d;if(o.length===e.inputs.length+1&&typeof o[o.length-1]=="object"){const s=q(o.pop());s.blockTag!=null&&(d=yield s.blockTag),delete s.blockTag,o.push(s)}a.deployTransaction!=null&&(yield a._deployed(d));const r=yield z(a,e,o),i=yield n.call(r,d);try{let s=a.interface.decodeFunctionResult(e,i);return t&&e.outputs.length===1&&(s=s[0]),s}catch(s){throw s.code===v.errors.CALL_EXCEPTION&&(s.address=a.address,s.args=o,s.transaction=r),s}})}}function tt(a,e){return function(...t){return L(this,void 0,void 0,function*(){a.signer||b.throwError("sending a transaction requires a signer",v.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),a.deployTransaction!=null&&(yield a._deployed());const n=yield z(a,e,t),o=yield a.signer.sendTransaction(n);return et(a,o),o})}}function ie(a,e,t){return e.constant?be(a,e,t):tt(a,e)}function Te(a){return a.address&&(a.topics==null||a.topics.length===0)?"*":(a.address||"*")+"@"+(a.topics?a.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class H{constructor(e,t){c(this,"tag",e),c(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const o=e.slice();return setTimeout(()=>{n.listener.apply(this,o)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class nt extends H{constructor(){super("error",null)}}class re extends H{constructor(e,t,n,o){const d={address:e};let r=t.getEventTopic(n);o?(r!==o[0]&&b.throwArgumentError("topic mismatch","topics",o),d.topics=o.slice()):d.topics=[r],super(Te(d),d),c(this,"address",e),c(this,"interface",t),c(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=Ie(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class oe extends H{constructor(e,t){super("*",{address:e}),c(this,"address",e),c(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,o)=>this.interface.decodeEventLog(t.eventFragment,n,o),e.args=t.args}catch{}}}class at{constructor(e,t,n){c(this,"interface",Pe(new.target,"getInterface")(t)),n==null?(c(this,"provider",null),c(this,"signer",null)):Me.isSigner(n)?(c(this,"provider",n.provider||null),c(this,"signer",n)):Re.isProvider(n)?(c(this,"provider",n),c(this,"signer",null)):b.throwArgumentError("invalid signer or provider","signerOrProvider",n),c(this,"callStatic",{}),c(this,"estimateGas",{}),c(this,"functions",{}),c(this,"populateTransaction",{}),c(this,"filters",{});{const r={};Object.keys(this.interface.events).forEach(i=>{const s=this.interface.events[i];c(this.filters,i,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(s,u)})),r[s.name]||(r[s.name]=[]),r[s.name].push(i)}),Object.keys(r).forEach(i=>{const s=r[i];s.length===1?c(this.filters,i,this.filters[s[0]]):b.warn(`Duplicate definition of ${i} (${s.join(", ")})`)})}if(c(this,"_runningEvents",{}),c(this,"_wrappedEmits",{}),e==null&&b.throwArgumentError("invalid contract address or ENS name","addressOrName",e),c(this,"address",e),this.provider)c(this,"resolvedAddress",W(this.provider,e));else try{c(this,"resolvedAddress",Promise.resolve(Q(e)))}catch{b.throwError("provider is required to use ENS name as contract address",v.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(r=>{});const o={},d={};Object.keys(this.interface.functions).forEach(r=>{const i=this.interface.functions[r];if(d[r]){b.warn(`Duplicate ABI entry for ${JSON.stringify(r)}`);return}d[r]=!0;{const s=i.name;o[`%${s}`]||(o[`%${s}`]=[]),o[`%${s}`].push(r)}this[r]==null&&c(this,r,ie(this,i,!0)),this.functions[r]==null&&c(this.functions,r,ie(this,i,!1)),this.callStatic[r]==null&&c(this.callStatic,r,be(this,i,!0)),this.populateTransaction[r]==null&&c(this.populateTransaction,r,Ye(this,i)),this.estimateGas[r]==null&&c(this.estimateGas,r,Qe(this,i))}),Object.keys(o).forEach(r=>{const i=o[r];if(i.length>1)return;r=r.substring(1);const s=i[0];try{this[r]==null&&c(this,r,this[s])}catch{}this.functions[r]==null&&c(this.functions,r,this.functions[s]),this.callStatic[r]==null&&c(this.callStatic,r,this.callStatic[s]),this.populateTransaction[r]==null&&c(this.populateTransaction,r,this.populateTransaction[s]),this.estimateGas[r]==null&&c(this.estimateGas,r,this.estimateGas[s])})}static getContractAddress(e){return Oe(e)}static getInterface(e){return se.isInterface(e)?e:new se(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&b.throwError("contract not deployed",v.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||b.throwError("sending a transactions require a signer",v.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=q(e||{});return["from","to"].forEach(function(n){t[n]!=null&&b.throwError("cannot override "+n,v.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new Le(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&c(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Se.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new nt);if(e==="event")return this._normalizeRunningEvent(new H("event",null));if(e==="*")return this._normalizeRunningEvent(new oe(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new re(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const o=this.interface.getEvent(n);return this._normalizeRunningEvent(new re(this.address,this.interface,o,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new H(Te(t),t))}return this._normalizeRunningEvent(new oe(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const o=pe(t);return o.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},o.getBlock=()=>this.provider.getBlock(t.blockHash),o.getTransaction=()=>this.provider.getTransaction(t.transactionHash),o.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(o),o}_addEventListener(e,t,n){if(this.provider||b.throwError("events require a provider or a signer with a provider",v.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const o=d=>{let r=this._wrapEvent(e,d,t);if(r.decodeError==null)try{const i=e.getEmit(r);this.emit(e.filter,...i)}catch(i){r.decodeError=i.error}e.filter!=null&&this.emit("event",r),r.decodeError!=null&&this.emit("error",r.decodeError,r)};this._wrappedEmits[e.tag]=o,e.filter!=null&&this.provider.on(e.filter,o)}}queryFilter(e,t,n){const o=this._getRunningEvent(e),d=q(o.filter);return typeof t=="string"&&Ce(t,32)?(n!=null&&b.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),d.blockHash=t):(d.fromBlock=t!=null?t:0,d.toBlock=n!=null?n:"latest"),this.provider.getLogs(d).then(r=>r.map(i=>this._wrapEvent(o,i,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),o=n.run(t)>0;return this._checkRunningEvents(n),o}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(o=>{t.push(o)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const o=this._runningEvents[n];o.removeAllListeners(),this._checkRunningEvents(o)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class st extends at{}const it={class:"flex-center-bw lg:flex-col lg:gap-y-10 text-base rounded-xl border-2 border-solid border-[#1dede1] p-2.5"},rt=["onClick"],ot=C({props:{tabList:{type:Array,required:!0},currentTab:{type:Number,required:!0}},emits:["change"],setup(a,{emit:e}){return(t,n)=>(h(),_("div",it,[(h(!0),_(ee,null,ye(a.tabList,o=>(h(),_("div",{key:o.id,class:Fe(["cursor-pointer font-semibold rounded-lg py-1 px-2 lg:w-full text-center lg:min-w-[100px]",{"bg-[#1dede1]":o.id===a.currentTab,"text-origin":o.id===a.currentTab,"text-[#46598B]":o.disabled}]),onClick:d=>e("change",o)},T(o.name),11,rt))),128))]))}}),ut=S(ot,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/trade/components/TradeTab.vue"]]),lt=""+new URL("../images/exchange-3a08e937.svg",import.meta.url).href,dt=""+new URL("../images/setting-66f9da98.svg",import.meta.url).href,pt={class:"flex-center-bw mb-[38px]"},yt=p("div",{class:"text-[32px] font-bold"},"Swap",-1),ct=p("img",{src:dt,class:"w-7",alt:""},null,-1),mt=[ct],ft=C({emits:["open"],setup(a,{emit:e}){return(t,n)=>(h(),_("div",pt,[yt,p("div",{onClick:n[0]||(n[0]=o=>e("open"))},mt)]))}}),bt=S(ft,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/trade/swap/SwapHeader.vue"]]);var ue;const Tt=typeof window<"u";Tt&&((ue=window==null?void 0:window.navigator)==null?void 0:ue.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ht(a,e){function t(...n){a(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})}return t}function gt(a,e={}){let t,n;return d=>{const r=f(a),i=f(e.maxWait);if(t&&clearTimeout(t),r<=0||i!==void 0&&i<=0)return n&&(clearTimeout(n),n=null),d();i&&!n&&(n=setTimeout(()=>{t&&clearTimeout(t),n=null,d()},i)),t=setTimeout(()=>{n&&clearTimeout(n),n=null,d()},r)}}function wt(a,e=200,t={}){return ht(gt(e,t),a)}const vt={class:"bg-[#081E37] rounded-xl py-1.5 px-2 flex-center"},_t={key:1,class:"flex-1"},xt={class:"bg-[#061629] px-4 py-3.5 flex-center gap-2 rounded-xl cursor-pointer"},Et=["src"],kt={class:"font-bold text-baseColor"},At={class:"flex-center-bw text-xs mt-1 font-medium"},Pt={class:"text-[#46598B]"},Mt=C({props:{token:{type:null,required:!0},modelValue:{type:[String,Number,null],required:!0},disabled:{type:Boolean,required:!0},loading:{type:Boolean,required:!0}},emits:["update:modelValue","focus","blur"],setup(a,{emit:e}){const{token:t,modelValue:n,disabled:o,loading:d}=a,r=wt(s=>{e("update:modelValue",s)},500,{maxWait:5e3}),i=s=>{r(s)};return(s,u)=>{const l=F("VanField"),y=F("van-loading"),N=F("van-icon");return h(),_("div",null,[p("div",vt,[a.loading?(h(),_("div",_t,[w(y,{size:"16"})])):(h(),ce(l,{key:0,modelValue:a.modelValue,"onUpdate:modelValue":[u[0]||(u[0]=U=>G(n)?n.value=U:null),i],class:"flex-1 bg-[#081e37] rounded-xl text-xs text-baseColor font-bold",type:"number",placeholder:"0",disabled:a.disabled,onFocus:u[1]||(u[1]=U=>e("focus")),onBlur:u[2]||(u[2]=U=>e("blur"))},null,8,["modelValue","disabled"])),p("div",xt,[p("img",{src:a.token.icon,class:"w-5",alt:""},null,8,Et),p("div",kt,T(a.token.symbol),1),w(N,{name:"arrow-down",alt:"",class:"w-2.5 h-auto text-main"})])]),p("div",At,[p("div",null,"$"+T(a.token.price),1),p("div",Pt,T(s.$t("swap.balance"))+" "+T(a.token.balance),1)])])}}}),le=S(Mt,[["__scopeId","data-v-2b1458e6"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/trade/swap/SwapItem.vue"]]),Rt={class:"border border-main border-solid rounded-lg p-2.5 px-3 mt-5"},Ot=B(" 1 "),Lt={class:"text-main"},St={class:"text-main"},Ct={key:0,class:"mt-1.5"},It={class:"flex-center-bw mt-1.5"},Dt={class:"text-main"},$t={class:"flex-center-bw mt-1.5"},Ft={class:"text-main"},Vt={class:"flex-center-bw mt-1.5"},Nt={class:"text-main"},Ut=p("span",{class:"text-main"},null,-1),Bt={class:"flex-center-bw mt-1.5"},qt={class:"text-main"},Ht=p("span",{class:"text-main"},null,-1),Gt=C({props:{tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},swapDetail:{type:null,required:!0}},setup(a){const e=M({open:!1}),t=()=>{e.open=!e.open};return(n,o)=>{const d=F("van-icon");return h(),_("div",Rt,[p("div",{class:"flex-center-bw cursor-pointer",onClick:t},[p("div",null,[Ot,p("span",Lt,"$"+T(a.tokenA.symbol),1),B(" = "+T(a.swapDetail.aToBPrice)+" ",1),p("span",St,"$"+T(a.tokenB.symbol),1)]),w(d,{name:"arrow-down",alt:"",class:"w-2.5 h-auto text-main"})]),f(e).open?(h(),_("div",Ct,[p("div",It,[p("div",Dt,T(n.$t("trade.swapDetail.networkFee")),1),p("div",null," ~$"+T(a.swapDetail.networkFee),1)]),p("div",$t,[p("div",Ft,T(n.$t("trade.swapDetail.priceImpact")),1),p("div",null," ~"+T(a.swapDetail.priceImpact)+"% ",1)]),p("div",Vt,[p("div",Nt,[B(T(n.$t("trade.swapDetail.minOutput")),1),Ut]),p("div",null,T(a.swapDetail.minimumOutput?a.swapDetail.minimumOutput.toFixed():"0")+"$PTD ",1)]),p("div",Bt,[p("div",qt,[B(T(n.$t("trade.swapDetail.expectOutput")),1),Ht]),p("div",null,T(a.swapDetail.expectedOutput?a.swapDetail.expectedOutput.toFixed():"0")+"$PTD ",1)])])):Ve("v-if",!0)])}}}),jt=S(Gt,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/trade/swap/SwapDetail.vue"]]),Wt=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINTER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PAUSER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"}],zt=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH",type:"address"},{internalType:"address",name:"_treasuryFactory",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"},{internalType:"uint256",name:"amountADesired",type:"uint256"},{internalType:"uint256",name:"amountBDesired",type:"uint256"},{internalType:"uint256",name:"amountAMin",type:"uint256"},{internalType:"uint256",name:"amountBMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidity",outputs:[{internalType:"uint256",name:"amountA",type:"uint256"},{internalType:"uint256",name:"amountB",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountTokenDesired",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"addLiquidityETH",outputs:[{internalType:"uint256",name:"amountToken",type:"uint256"},{internalType:"uint256",name:"amountETH",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountIn",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"reserveIn",type:"uint256"},{internalType:"uint256",name:"reserveOut",type:"uint256"}],name:"getAmountOut",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"}],name:"getAmountsIn",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"}],name:"getAmountsOut",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"getTradePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"getTradeTotalNum",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"getTradeTotalPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountA",type:"uint256"},{internalType:"uint256",name:"reserveA",type:"uint256"},{internalType:"uint256",name:"reserveB",type:"uint256"}],name:"quote",outputs:[{internalType:"uint256",name:"amountB",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"amountAMin",type:"uint256"},{internalType:"uint256",name:"amountBMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidity",outputs:[{internalType:"uint256",name:"amountA",type:"uint256"},{internalType:"uint256",name:"amountB",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"removeLiquidityETH",outputs:[{internalType:"uint256",name:"amountToken",type:"uint256"},{internalType:"uint256",name:"amountETH",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"amountTokenMin",type:"uint256"},{internalType:"uint256",name:"amountETHMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bool",name:"approveMax",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"removeLiquidityETHWithPermit",outputs:[{internalType:"uint256",name:"amountToken",type:"uint256"},{internalType:"uint256",name:"amountETH",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"amountAMin",type:"uint256"},{internalType:"uint256",name:"amountBMin",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bool",name:"approveMax",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"removeLiquidityWithPermit",outputs:[{internalType:"uint256",name:"amountA",type:"uint256"},{internalType:"uint256",name:"amountB",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapETHForExactTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactTokensForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapTokensForExactETH",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapTokensForExactTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"treasuryFactory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Jt=[{inputs:[{internalType:"address",name:"_feeToSetter",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token0",type:"address"},{indexed:!0,internalType:"address",name:"token1",type:"address"},{indexed:!1,internalType:"address",name:"pair",type:"address"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"PairCreated",type:"event"},{constant:!0,inputs:[],name:"INIT_CODE_PAIR_HASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allPairs",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"allPairsLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"}],name:"createPair",outputs:[{internalType:"address",name:"pair",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"feeTo",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"feeToSetter",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"getPair",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"getTreasury",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"router",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_feeTo",type:"address"}],name:"setFeeTo",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_feeToSetter",type:"address"}],name:"setFeeToSetter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_router",type:"address"}],name:"setRouter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];let Y;try{Y=new Ne(window.ethereum)}catch{Y=new Ue(V.provider)}const Kt=Y.getSigner(),te=(a,e)=>{const t=Kt;return new st(e,a,t)},Zt=a=>te(Wt,a),Xt=(a=V.PANCAKE_ROUTER)=>te(zt,a),Yt=(a=V.PANCAKE_FACTORY)=>te(Jt,a),Qt=a=>{const e=Zt(a),t=me().getCurrentAccount();return{erc20Contract:e,balanceOf:async()=>{try{const s=await e.balanceOf(t);return Z(s)}catch(s){return D(s),A(s)}},allowance:async s=>{try{const u=await e.allowance(t,s);return Be(new E(u?u.toString():0))}catch(u){return D.fail(u),A(u)}},approve:async s=>{try{const u=await(await e.approve(s,qe)).wait();return $(u)}catch(u){return D(u),A(u)}},transfer:async(s,u)=>{try{const l=await(await e.transfer(s,O(u),{gasLimit:21e3})).wait();return $(l)}catch(l){return D(JSON.parse(JSON.stringify(l)).reason||l),A(l)}},symbol:async()=>{try{return await e.symbol()}catch(s){return D(s),A(s)}}}},de=a=>{const{t:e}=He.global;a=JSON.parse(JSON.stringify(a)).reason||a||"error";let t=a.lastIndexOf(":");var n=a.substring(t+1,a.length);n=n.replace(" ","").replace(/(.*)\./,"$1"),a=e(`errorMsg.${n}`).indexOf("errorMsg.")!=-1?n:e(`errorMsg.${n}`),D(a)},en=()=>{const a=Xt();return{getAmountsOut:async(d,r)=>{try{const i=await a.getAmountsOut(O(d),r),s=+Z(i[i.length-1]);return $(s)}catch(i){return A(i)}},getAmountsIn:async(d,r)=>{console.log(d);try{const i=await a.getAmountsOut(O(d),r),s=+Z(i[i.length-1]);return $(s)}catch(i){return A(i)}},swapExactTokensForTokens:async(d,r,i,s,u)=>{try{const l=await(await a.swapExactTokensForTokens(O(d),O(r),i,s,Date.now()+6e4*u)).wait();return $(l)}catch(l){return de(l),A(l)}},swapTokensForExactTokens:async(d,r,i,s,u)=>{console.log(d);try{const l=await(await a.swapTokensForExactTokens(O(d),O(r),i,s,Date.now()+6e4*u)).wait();return $(l)}catch(l){return de(l),A(l)}}}},tn=()=>{const a=Yt();return{getPair:async(t,n)=>{try{return await a.getPair(t,n)}catch(o){return A(o)}}}};const ne=a=>(Ge("data-v-27a4fc01"),a=a(),je(),a),nn={class:"bg-[#081e37] px-4 py-7 w-[320px]"},an=ne(()=>p("div",null,"Max slippage",-1)),sn={class:"grid grid-cols-4 gap-x-2 mt-4 pb-6 text-main border-b border-solid border-main"},rn=["onClick"],on={class:"flex-center"},un=B(" % "),ln={class:"flex-center-bw gap-5 mt-4"},dn=ne(()=>p("div",{class:"whitespace-nowrap"},"Transaction deadline",-1)),pn={class:"flex-center text-main gap-1"},yn=ne(()=>p("div",null,"min",-1)),cn=C({props:{show:{type:Boolean,required:!0},slipValue:{type:[String,Number,null],required:!0},timeValue:{type:[String,Number,null],required:!0}},emits:["close","update:slip-value","update:time-value"],setup(a,{emit:e}){const{show:t,slipValue:n}=a,o=[.1,.5,1],d=i=>{e("update:slip-value",i)},r=i=>{e("update:time-value",i)};return(i,s)=>{const u=F("VanField"),l=F("VanPopup");return h(),ce(l,{show:a.show,"onUpdate:show":s[2]||(s[2]=y=>G(t)?t.value=y:null),class:"bg-transparent",closeable:"",round:"",onClickOverlay:s[3]||(s[3]=y=>e("close")),onClickCloseIcon:s[4]||(s[4]=y=>e("close"))},{default:X(()=>[p("div",nn,[an,p("div",sn,[(h(),_(ee,null,ye(o,y=>p("div",{class:"cursor-pointer rounded-xl bg-[#061629] flex-center",onClick:N=>d(String(y))},T(y)+" % ",9,rn)),64)),p("div",on,[w(u,{modelValue:a.slipValue,"onUpdate:modelValue":[s[0]||(s[0]=y=>G(n)?n.value=y:null),d],class:"flex-1 bg-[#061629] rounded-xl text-xs text-baseColor font-bold",type:"number"},null,8,["modelValue"]),un])]),p("div",ln,[dn,p("div",pn,[w(u,{modelValue:a.timeValue,"onUpdate:modelValue":[s[1]||(s[1]=y=>G(timeValue)?timeValue.value=y:null),r],class:"flex-1 bg-[#061629] rounded-xl text-xs text-baseColor font-bold",type:"number","input-align":"center"},null,8,["modelValue"]),yn])])])]),_:1},8,["show"])}}}),mn=S(cn,[["__scopeId","data-v-27a4fc01"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/trade/swap/SettingPop.vue"]]),fn={class:"lg:px-8 px-2.5 py-5"},bn=p("img",{src:lt,class:"w-[38px] h-[36px] mx-auto",alt:""},null,-1),Tn=[bn],hn={key:0},gn={key:1},wn={key:2},vn=C({setup(a){const{getAmountsOut:e,getAmountsIn:t,swapTokensForExactTokens:n,swapExactTokensForTokens:o}=en(),{getPair:d}=tn(),r=fe(()=>!l.havePair||i.amount>i.balance),i=M({...V.tokens[0],balance:0,price:0,allowance:0,amount:null}),s=M({...V.tokens[1],balance:0,price:0,allowance:0,amount:null}),u=M({networkFee:0,priceImpact:0,minimumOutput:null,expectedOutput:null,aToBPrice:0,bToAPrice:0}),l=M({settingShow:!1,btnLoading:!1,havePair:!1,aDisabled:!1,bDisabled:!1,aInputLoading:!1,bInputLoading:!1}),y=M({slip:.1,time:10,symbol:"",min:"0",exactToken:""}),N=async()=>{l.settingShow=!l.settingShow},U=m=>{y.slip=m},he=m=>{console.log(m),y.time=m},ge=()=>{l.bDisabled=!0,l.aDisabled=!1},we=()=>{l.aDisabled=!0,l.bDisabled=!1},ve=async m=>{if(l.btnLoading||l.aDisabled)return;if(m===""){i.amount=null,s.amount=null;return}i.amount=m,l.bInputLoading=!0;const g=await e(m,[i.address,s.address]);s.amount=g.result||"0",u.expectedOutput=new E(s.amount),u.minimumOutput=new E(s.amount).mod(1e4-100*y.slip).div(1e4),l.bInputLoading=!1,y.symbol=i.symbol,y.exactToken=i.address,console.log(y.exactToken)},_e=async m=>{if(l.btnLoading||l.bDisabled)return;if(m===""){i.amount=null,s.amount=null;return}s.amount=m,l.aInputLoading=!0;const g=await t(m,[i.address,s.address]);u.expectedOutput=new E(s.amount),u.minimumOutput=new E(s.amount).mod(1e4-100*y.slip),i.amount=g.result||"0",l.aInputLoading=!1,y.symbol=s.symbol,y.exactToken=s.address},xe=async()=>{var x,k,I;if(console.log("123"),l.aDisabled=!0,l.bDisabled=!0,l.btnLoading)return;let m=M({...i,amount:(x=i.amount)==null?void 0:x.toString()});if(i.address=s.address,s.address=m.address,!i.amount||!s.amount)s.amount=null,i.amount=null;else if(y.exactToken===s.address){l.aInputLoading=!0,s.amount=(k=m.amount)==null?void 0:k.toString();const P=await t(s.amount,[i.address,s.address]);u.expectedOutput=new E(P.result),u.minimumOutput=new E(P.result).mod(1e4-100*y.slip).div(1e4),i.amount=P.result||"0",l.aInputLoading=!1}else{l.bInputLoading=!0,i.amount=(I=s.amount)==null?void 0:I.toString();const P=await e(s.amount,[i.address,s.address]);u.expectedOutput=new E(P.result),u.minimumOutput=new E(P.result).mod(1e4-100*y.slip).div(1e4),s.amount=P.result||"0",l.bInputLoading=!1}i.symbol=s.symbol,i.icon=s.icon,i.balance=s.balance,i.price=s.price,i.allowance=s.allowance,s.symbol=m.symbol,s.icon=m.icon,s.balance=m.balance,s.price=m.price,s.allowance=m.allowance,console.log("456");const g=u.aToBPrice;u.aToBPrice=u.bToAPrice,u.bToAPrice=g},ae=async m=>{const{balanceOf:g,allowance:x,symbol:k}=Qt(m),I=await g(),P=await x(V.PANCAKE_ROUTER),Ae=await k();return{balance:I,allowance:+P,symbol:Ae}},Ee=async()=>await d(i.address,s.address)!==ze,J=async()=>{const m=[i.address,s.address];l.btnLoading=!0;const g=await ae(i.address),x=await ae(s.address),k=await e(1,m);u.aToBPrice=k.result||0;const I=await t(1,m.reverse());u.bToAPrice=I.result||0,l.havePair=await Ee(),i.balance=g.balance,i.allowance=g.allowance,i.symbol=g.symbol,s.balance=x.balance,s.allowance=x.allowance,s.symbol=x.symbol,l.btnLoading=!1},ke=async()=>{l.btnLoading=!0;const m=me().getCurrentAccount(),g=y.time,x=[i.address,s.address];if(i.address==y.exactToken){const k=await e(i.amount,x);new E(k.result).mod(1e4-100*y.slip).div(1e4),await o(i.amount,0,x,m,g),J()}else{const k=await t(s.amount,x);new E(k.result).mod(1e4-100*y.slip).div(1e4),await n(s.amount,0,x,m,g),J(),l.btnLoading=!1}};return We(()=>[i,s],async()=>{J()},{immediate:!0}),(m,g)=>(h(),_(ee,null,[w(Ke,{class:"mt-4 lg:mt-0 lg:min-w-[600px]"},{default:X(()=>[p("div",fn,[w(bt,{onOpen:N}),w(le,{token:f(i),modelValue:f(i).amount,"onUpdate:modelValue":ve,onFocus:ge,disabled:f(l).btnLoading,loading:f(l).aInputLoading},null,8,["token","modelValue","disabled","loading"]),p("div",{class:"py-5 flex-center"},[p("div",{onClick:xe,class:"cursor-pointer"},Tn)]),w(le,{token:f(s),modelValue:f(s).amount,"onUpdate:modelValue":_e,onFocus:we,disabled:f(l).btnLoading,loading:f(l).bInputLoading},null,8,["token","modelValue","disabled","loading"]),w(jt,{tokenA:f(i),tokenB:f(s),swapDetail:f(u),exactToken:f(y).exactToken},null,8,["tokenA","tokenB","swapDetail","exactToken"]),w(Ze,{class:"mt-7",loading:f(l).btnLoading,disabled:f(r),onClick:ke},{default:X(()=>[f(l).havePair?f(i).value>f(i).balance?(h(),_("span",gn,"\u4F59\u989D\u4E0D\u8DB3")):(h(),_("span",wn,T(m.$t("trade.swap")),1)):(h(),_("span",hn,"\u6D41\u52A8\u6027\u4E0D\u8DB3"))]),_:1},8,["loading","disabled"])])]),_:1}),w(mn,{show:f(l).settingShow,onClose:N,timeValue:f(y).time,slipValue:f(y).slip,"onUpdate:slipValue":U,"onUpdate:timeValue":he},null,8,["show","timeValue","slipValue"])],64))}}),_n=S(vn,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/trade/Swap.vue"]]),xn={class:"lg:flex items-start justify-center relative"},En=C({setup(a){const{t:e}=Je(),t=fe(()=>[{id:0,name:e("trade.swap"),disabled:!1},{id:1,name:e("trade.liquidity"),disabled:!1},{id:2,name:e("trade.perpetual"),disabled:!0},{id:3,name:e("trade.bridge"),disabled:!0}]),n=M({currentTab:0}),o=d=>{d.disabled||(n.currentTab=d.id)};return(d,r)=>(h(),_("div",xn,[w(ut,{tabList:f(t),currentTab:f(n).currentTab,onChange:o,class:"lg:absolute lg:left-0"},null,8,["tabList","currentTab"]),w(_n)]))}}),Pn=S(En,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/trade/Trade.vue"]]);export{Pn as default};
