import{_ as P,d as U,o as c,c as w,b as e,y as n,z as M,i as R,m as q,e as v,u as t,A as L,B as _,j as ee,D as Z,E as F,w as I,G as pe,F as te,k as Q,H as Me,I as rt,J as Ye,K as ut,L as We,M as mt,N as ve,O as Ke,P as j,Q as C,R as Be,C as we,S as D,T as W,U as pt,V as vt,W as wt,X as ze,Y as Pe,r as de,Z as ne,$ as je,g as Ie,p as ft,l as gt,q as bt,a0 as De,a1 as Re,a2 as xt,a3 as ht,a4 as ce,a5 as Ue,a6 as yt,a7 as _t,h as xe,a8 as kt,a9 as Ee,aa as $t}from"./index-94377382.js";import{T as At}from"./TradeTab-a30ad669.js";import{_ as Bt,r as Qe,S as Oe,a as Xe,b as Ge,c as It,d as Lt,P as St,L as Ct,R as Tt,e as qt}from"./RemoveLiquidity-3afe462d.js";import{T as re}from"./TokenImage-46b5b0b1.js";import{t as Fe}from"./toast-7242d0ba.js";const Pt=""+new URL("../images/exchange-3a08e937.svg",import.meta.url).href,Dt={class:"flex-center-bw mb-[38px]"},Rt={class:"text-[32px] font-bold"},Ut=e("img",{src:Bt,class:"w-7",alt:""},null,-1),Et=[Ut],Ot=U({emits:["open"],setup(s,{emit:r}){return(g,f)=>(c(),w("div",Dt,[e("div",Rt,n(g.$t("trade.swap")),1),e("div",{onClick:f[0]||(f[0]=i=>r("open")),class:"cursor-pointer"},Et)]))}}),Ft=P(Ot,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/swap/components/SwapHeader.vue"]]),Vt={class:"border border-main border-solid rounded-lg p-2.5 px-3 mt-5"},Nt=q(" 1 "),Ht={class:"text-main"},Mt={class:"text-main"},Yt={key:0,class:"mt-1.5"},Wt={class:"flex-center-bw mt-1.5"},Kt={class:"text-main"},zt={class:"flex-center-bw mt-1.5"},jt={class:"text-main"},Qt={key:0},Xt={key:1},Gt={class:"flex-center-bw mt-1.5"},Zt={class:"text-main"},Jt={key:0},en={key:1},tn={class:"text-right"},nn={key:0},sn={key:1},on={class:"flex-center-bw mt-1.5"},an={class:"text-main"},ln=e("span",{class:"text-main"},null,-1),cn={class:"text-right"},dn=U({props:{tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},swapDetail:{type:null,required:!0},isOut:{type:Boolean,required:!1}},setup(s){const r=M({open:!1}),g=()=>{r.open=!r.open};return(f,i)=>{const d=R("van-icon");return c(),w("div",Vt,[e("div",{class:"flex-center-bw cursor-pointer",onClick:g},[e("div",null,[Nt,e("span",Ht,n(s.tokenA.symbol),1),q(" = "+n(s.swapDetail.aToBPrice)+" ",1),e("span",Mt,n(s.tokenB.symbol),1)]),v(d,{name:"arrow-down",alt:"",class:"w-2.5 h-auto text-main"})]),t(r).open?(c(),w("div",Yt,[e("div",Wt,[e("div",Kt,n(f.$t("trade.swapDetail.networkFee")),1),e("div",null,[q(" ~"+n(t(L)(new t(_)(s.tokenA.amount).times(s.swapDetail.networkFee).toString()))+" ",1),e("span",null,n(s.tokenA.symbol),1)])]),e("div",zt,[e("div",jt,n(f.$t("trade.swapDetail.priceImpact")),1),e("div",null,[s.swapDetail.priceImpact<.01?(c(),w("span",Qt," <0.01% ")):(c(),w("span",Xt,"~"+n(t(L)(s.swapDetail.priceImpact,2))+"%",1))])]),e("div",Gt,[e("div",Zt,[s.isOut?(c(),w("span",Jt,n(f.$t("trade.swapDetail.minOutput")),1)):(c(),w("span",en,n(f.$t("trade.swapDetail.maximumSold")),1))]),e("div",tn,[s.isOut?(c(),w("span",nn,n(t(L)(s.swapDetail.minimumOutput||0,18))+" "+n(s.tokenB.symbol),1)):(c(),w("span",sn,n(t(L)(s.swapDetail.maximumSold||0,18))+" "+n(s.tokenA.symbol),1))])]),e("div",on,[e("div",an,[q(n(f.$t("trade.swapDetail.expectOutput")),1),ln]),e("div",cn,n(t(L)(s.swapDetail.expectedOutput||0,18))+" "+n(s.tokenB.symbol),1)])])):ee("v-if",!0)])}}}),rn=P(dn,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/swap/components/SwapDetail.vue"]]),un=""+new URL("../images/change-b9d65d35.svg",import.meta.url).href,mn={class:"bg-white box-shadow rounded-2xl w-[320px] lg:w-[390px] text-black px-5 py-7"},pn={class:"flex-center-bw h-10 font-bold text-2xl"},vn={class:"flex-center-bw h-[53px]"},wn={class:"text-3xl font-bold"},fn={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},gn={class:"text-lg"},bn={class:"flex-center-bw h-[53px]"},xn={class:"text-3xl font-bold"},hn={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},yn={class:"text-lg"},_n=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),kn={class:"flex justify-between"},$n={class:"text-sm"},An={class:"text-[#29AAC7] text-base"},Bn={key:0,class:"text[#646464]"},In={key:1,class:"text[#646464]"},Ln={class:"text-[#29AAC7] text-base font-bold"},Sn=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),Cn={class:"border border-solid border-[#29AAC7] rounded-[10px] p-2.5"},Tn={class:"flex-center-bw"},qn={class:"text-[#29AAC7]"},Pn={class:"flex-center-bw gap-1"},Dn={class:"text-[#29AAC7]"},Rn={class:"text-[#29AAC7]"},Un=e("img",{src:un,class:"w-4 h-4"},null,-1),En=[Un],On={class:"flex-center-bw"},Fn={class:"text-[#29AAC7]"},Vn={key:0},Nn={key:1},Hn={key:0},Mn={class:"text-[#29AAC7]"},Yn={key:1},Wn={class:"text-[#29AAC7]"},Kn={class:"flex-center-bw"},zn={class:"text-[#29AAC7]"},jn={key:0},Qn={key:1},Xn={class:"flex-center-bw mt-1.5"},Gn={class:"text-[#29AAC7]"},Zn={class:"text-[#29AAC7]"},Jn=U({props:{show:{type:Boolean,required:!0},tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},swapDetail:{type:null,required:!0},isOut:{type:Boolean,required:!1},swap:{type:null,required:!0}},emits:["close","confirmSwap"],setup(s,{emit:r}){const{show:g}=s,[f,i]=Z(!0);return(d,x)=>{const l=R("van-icon"),a=R("VanImage"),o=R("VanPopup");return c(),F(o,{show:s.show,"onUpdate:show":x[3]||(x[3]=h=>Me(g)?g.value=h:null),class:"bg-transparent",rounded:"",onClickOverlay:x[4]||(x[4]=h=>r("close")),onClickCloseIcon:x[5]||(x[5]=h=>r("close"))},{default:I(()=>[e("div",mn,[e("div",pn,[e("div",null,n(d.$t("swap.confirmSwap")),1),v(l,{name:"cross",onClick:x[0]||(x[0]=h=>r("close"))})]),e("div",vn,[e("div",wn,n(t(pe)(t(L)(s.tokenA.amount))),1),e("div",fn,[v(a,{src:s.tokenA.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",gn,n(s.tokenA.symbol),1)])]),v(l,{name:"down",class:"block text-3xl text-center my-1"}),e("div",bn,[e("div",xn,n(t(pe)(t(L)(s.tokenB.amount))),1),e("div",hn,[v(a,{src:s.tokenB.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",yn,n(s.tokenB.symbol),1)])]),_n,e("div",kn,[e("div",$n,[e("div",An,n(d.$t("swap.slippageTolerance")),1),s.isOut?(c(),w("div",Bn,n(d.$t("swap.sliOut",{out:`${s.swapDetail.minimumOutput||0}
                      ${s.tokenB.symbol}`})),1)):(c(),w("div",In,n(d.$t("swap.sliInput",{input:`${s.swapDetail.maximumSold||0}
                      ${s.tokenA.symbol}`})),1))]),e("div",Ln,n(s.swap.slip)+"%",1)]),Sn,e("div",Cn,[e("div",Tn,[e("div",qn,n(d.$t("trade.swapDetail.price")),1),e("div",Pn,[e("div",null,[t(f)?(c(),w(te,{key:0},[q(n(t(L)(s.swapDetail.bToAPrice))+" ",1),e("span",Dn,n(s.tokenB.symbol+"/"+s.tokenA.symbol),1)],64)):(c(),w(te,{key:1},[q(n(t(L)(s.swapDetail.aToBPrice))+" ",1),e("span",Rn,n(s.tokenA.symbol+"/"+s.tokenB.symbol),1)],64))]),e("div",{onClick:x[1]||(x[1]=h=>t(i)(!t(f))),class:"text-[#29AAC7] cursor-pointer"},En)])]),e("div",On,[e("div",Fn,[s.isOut?(c(),w("span",Vn,n(d.$t("trade.swapDetail.minOutput")),1)):(c(),w("span",Nn,n(d.$t("trade.swapDetail.maximumSold")),1))]),e("div",null,[s.isOut?(c(),w("span",Hn,[q(n(t(L)(s.swapDetail.minimumOutput||0))+" ",1),e("span",Mn,n(s.tokenB.symbol),1)])):(c(),w("span",Yn,[q(n(t(L)(s.swapDetail.maximumSold||0))+" ",1),e("span",Wn,n(s.tokenA.symbol),1)]))])]),e("div",Kn,[e("div",zn,n(d.$t("trade.swapDetail.priceImpact")),1),e("div",null,[s.swapDetail.priceImpact<.01?(c(),w("span",jn," <0.01% ")):(c(),w("span",Qn,"~"+n(t(L)(s.swapDetail.priceImpact,2))+"%",1))])]),e("div",Xn,[e("div",Gn,n(d.$t("trade.swapDetail.networkFee")),1),e("div",null,[q(" ~"+n(t(L)(new t(_)(s.tokenA.amount).times(s.swapDetail.networkFee).toString()))+" ",1),e("span",Zn,n(s.tokenA.symbol),1)])])]),v(Q,{class:"mt-[15px]",loading:!1,disabled:!1,onClick:x[2]||(x[2]=h=>r("confirmSwap"))},{default:I(()=>[q(n(d.$t("swap.confirmSwap")),1)]),_:1})])]),_:1},8,["show"])}}}),es=P(Jn,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/swap/components/ConfirmingPop.vue"]]),ts={class:"lg:px-8 px-2.5 py-5"},ns=e("img",{src:Pt,class:"w-[38px] h-[36px] mx-auto",alt:""},null,-1),ss=[ns],os={key:0},as={key:1},ls={key:2},is={key:3},cs={key:4},ds=U({setup(s){rt(async()=>{Ae(),$e()},3e3,{immediate:!0});const{t:r}=Ye(),{addWait:g}=ut(),[f,i]=Z(!1),d=We(),{accountStore:x}=mt(),{connectWallet:l}=ve(),{getAmountsOut:a,getAmountsIn:o,swapTokensForExactTokens:h,swapExactTokensForTokens:k,swapExactETHForTokens:$,swapExactTokensForETH:N,swapETHForExactTokens:V,swapTokensForExactETH:S}=Qe(),{getPair:E}=Ke(),K=j(()=>!u.havePair||+m.amount<=0||+m.amount>+m.balance||+A.priceImpact>15),se=j(()=>+m.allowance>=+m.amount&&m.allowance>0),m=M({...C.tokens[0],balance:0,allowance:0,decimals:18,amount:null}),b=M({...C.tokens[1],balance:0,allowance:0,decimals:18,amount:null}),A=M({networkFee:.0025,priceImpact:0,minimumOutput:null,maximumSold:null,expectedOutput:null,aToBPrice:null,bToAPrice:null}),oe=j(()=>!u.aDisabled),u=M({settingShow:!1,btnLoading:!1,havePair:!1,aDisabled:!1,bDisabled:!1,aInputLoading:!1,bInputLoading:!1,pair:null,txInfo:{tx:null,text:""},loadingShow:!0,tokenSelectIndex:0}),T=M({slip:.1,time:10,min:"0",mode:!1}),z=j(()=>({confirmingTitle:r("swap.confirmSwap"),confirmSuccessTitle:r("swap.txSubmitted"),confirmingText:r("swap.waitConfirm"),confirmedText:r("swap.confirmSwap"),confirmingMainDes:r("swap.swappingTx",{amountA:m.amount,symbolA:m.symbol,amountB:b.amount,symbolB:b.symbol}),confirmedMainDes:r("swap.swappedTx",{amountA:m.amount,symbolA:m.symbol,amountB:b.amount,symbolB:b.symbol}),confirmingSubDes:r("swap.swapConfirmTx"),txId:"",token:b})),{loadingShowToggle:B,loadingToggle:H,setLoadingInfo:J}=pt(),ue=async()=>{u.settingShow=!u.settingShow},ae=p=>{T.slip=p,!(!m.amount&&!b.amount)&&(ye(m.amount),_e(b.account))},X=p=>{T.time=p},he=p=>{T.mode=p},st=()=>{u.bDisabled=!0,u.aDisabled=!1},ot=()=>{u.aDisabled=!0,u.bDisabled=!1},ye=async p=>{if(u.btnLoading||u.aDisabled)return u.bInputLoading=!1;if(p===""){m.amount=null,b.amount=null,A.expectedOutput=null,A.minimumOutput=null,A.maximumSold=null,A.priceImpact=null,u.bInputLoading=!1;return}m.amount=p,u.bInputLoading=!0;const y=await a(p,[m.address,b.address]);b.amount=y||"0",A.expectedOutput=new _(b.amount),A.minimumOutput=new _(b.amount).times(1e4-100*T.slip).div(1e4).toFixed(18),A.maximumSold=new _(m.amount).times(1e4+100*T.slip).div(1e4).toFixed(18),A.priceImpact=p/+await D(m.address).balanceOf(u.pair)*100,u.bInputLoading=!1},_e=async p=>{if(u.btnLoading||u.bDisabled)return u.aInputLoading=!1;if(p===""){m.amount=null,b.amount=null,A.expectedOutput=null,A.minimumOutput=null,A.maximumSold=null,A.priceImpact=null,u.aInputLoading=!1;return}b.amount=p,u.aInputLoading=!0,m.amount=await o(p,[m.address,b.address])||0,A.expectedOutput=new _(b.amount),A.minimumOutput=new _(b.amount).times(1e4-100*T.slip).div(1e4).toFixed(18),A.maximumSold=new _(m.amount).times(1e4+100*T.slip).div(1e4).toFixed(18),u.aInputLoading=!1},[at,Se]=Z(!1),Ce=p=>{u.tokenSelectIndex=p,Se(!0)},lt=p=>{if(u.tokenSelectIndex===0)for(let y in p)m[y]=p[y];else for(let y in p)b[y]=p[y];m.amount=null,b.amount=null,me()},it=async()=>{var y;if(u.btnLoading||u.aInputLoading||u.bInputLoading)return;let p=M({...m,amount:(y=m.amount)==null?void 0:y.toString()});if(m.address=b.address,b.address=p.address,m.logoURI=b.logoURI,b.logoURI=p.logoURI,await $e(),u.bDisabled?(u.aInputLoading=!0,b.amount=m.amount):(u.bInputLoading=!0,m.amount=b.amount),await Ae(),!m.amount&&!b.amount){u.aInputLoading=!1,u.bInputLoading=!1;return}u.bDisabled?(u.aDisabled=!0,u.bDisabled=!1,b.amount=m.amount,_e(b.amount)):(u.aDisabled=!1,u.bDisabled=!0,m.amount=b.amount,ye(m.amount))},ke=async p=>{const{balanceOf:y,allowance:O,symbol:Y,decimals:fe}=D(p),le=W(p,C.BNB)?await vt():await y(),ge=W(p,C.BNB)?wt:await O(C.PANCAKE_ROUTER),ie=await Y(),be=await fe();return{balance:le,allowance:+ge,symbol:ie,decimals:be}},ct=async()=>{const p=await E(m.address,b.address);return u.pair=p,p!==ze},$e=async()=>{const p=await ke(m.address),y=await ke(b.address);m.balance=p.balance,m.allowance=p.allowance,m.symbol=p.symbol,m.decimals=p.decimals,b.balance=y.balance,b.allowance=y.allowance,b.symbol=y.symbol,b.decimals=y.decimals},Ae=async()=>{if(!u.havePair)return;const p=[m.address,b.address],y=await a(1,p);A.aToBPrice=y||0;const O=await a(1,p.reverse());A.bToAPrice=O||0},me=async()=>{m.amount=null,b.amount=null,u.btnLoading=!0,$e(),u.havePair=await ct(),Ae(),u.btnLoading=!1},Te=async()=>{if(!se.value){u.btnLoading=!0;const p=await D(m.address).approve(C.PANCAKE_ROUTER);if(!p.success)return u.btnLoading=!1;if(p.success){const y=await ke(m.address);u.btnLoading=!1,m.allowance=y.allowance,Te()}return}i(!0)},dt=async()=>{i(!1),B(!0,z.value),H(!0),u.btnLoading=!1;const p=ve().getCurrentAccount(),y=T.time,O=[m.address,b.address];let Y=null,fe=null,le=null,ge=null,ie=null;const be=W(m.address,C.BNB),qe=W(b.address,C.BNB);if(u.bDisabled){const G=m.amount;ge=await a(G,O),ie=new _(ge).times(1e4-100*T.slip).div(1e4).toFixed(18),be?Y=await $(G,ie,O,p,y):qe?Y=await N(G,ie,O,p,y):Y=await k(G,ie,O,p,y)}else{const G=b.amount;fe=+await o(G,O),le=new _(fe).times(1e4+100*T.slip).div(1e4).toFixed(18),be?Y=await V(G,le,O,p,y):qe?Y=await S(G,le,O,p,y):Y=await h(G,le,O,p,y)}if(u.btnLoading=!1,H(!1),g(Y.result),Y.success)z.value.txId=Y.result.hash,z.value.confirmingSubDes=r("swap.viewOnScan"),J(z.value);else{B(!1),Y.result.error||i(!0);return}me()};return Be(()=>d.query,p=>{p.inputCurrency&&(m.address=p.inputCurrency,me()),p.outputCurrency&&(b.address=p.outputCurrency,me())},{immediate:!0,deep:!0}),Be(()=>[m,b],async()=>{me()},{immediate:!0}),(p,y)=>(c(),w(te,null,[v(we,{class:"mt-4 lg:mt-0 lg:min-w-[600px]"},{default:I(()=>[e("div",ts,[v(Ft,{onOpen:ue}),v(Oe,{token:t(m),modelValue:t(m).amount,"onUpdate:modelValue":ye,onFocus:st,onHandleSelectToken:y[0]||(y[0]=O=>Ce(0)),disabled:t(u).btnLoading,loading:t(u).aInputLoading},null,8,["token","modelValue","disabled","loading"]),e("div",{class:"py-5 flex-center"},[e("div",{onClick:it,class:"cursor-pointer"},ss)]),v(Oe,{token:t(b),modelValue:t(b).amount,"onUpdate:modelValue":_e,onFocus:ot,onHandleSelectToken:y[1]||(y[1]=O=>Ce(1)),disabled:t(u).btnLoading,loading:t(u).bInputLoading},null,8,["token","modelValue","disabled","loading"]),t(u).havePair?(c(),F(rn,{key:0,tokenA:t(m),tokenB:t(b),swapDetail:t(A),isOut:t(oe)},null,8,["tokenA","tokenB","swapDetail","isOut"])):ee("v-if",!0),t(x).account?(c(),F(Q,{key:2,class:"mt-7",loading:t(u).btnLoading,disabled:t(K),onClick:Te},{default:I(()=>[t(u).havePair?+t(m).amount>+t(m).balance||+t(m).balance<=0?(c(),w("span",as,n(p.$t("errorMsg.InsufficientBalance")),1)):t(se)?+t(A).priceImpact>15?(c(),w("span",is,n(p.$t("common.priceImpactTooHigh")),1)):(c(),w("span",cs,n(p.$t("trade.swap")),1)):(c(),w("span",ls,"Approve")):(c(),w("span",os,n(p.$t("errorMsg.Insufficient liquidity")),1))]),_:1},8,["loading","disabled"])):(c(),F(Q,{key:1,class:"mt-7",loading:t(u).btnLoading,disabled:!1,onClick:t(l)},{default:I(()=>[q(n(p.$t("common.connect")),1)]),_:1},8,["loading","onClick"]))])]),_:1}),v(Xe,{show:t(u).settingShow,onClose:y[2]||(y[2]=()=>t(u).settingShow=!1),timeValue:t(T).time,slipValue:t(T).slip,modeValue:t(T).mode,"onUpdate:slipValue":ae,"onUpdate:timeValue":X,onChangeMode:he},null,8,["show","timeValue","slipValue","modeValue"]),v(Ge,{tokenA:t(m).address,tokenB:t(b).address,show:t(at),onClose:y[3]||(y[3]=O=>t(Se)(!1)),onConfirmSelectToken:lt},null,8,["tokenA","tokenB","show"]),v(es,{show:t(f),onClose:y[4]||(y[4]=O=>t(i)(!1)),onConfirmSwap:dt,tokenA:t(m),tokenB:t(b),swapDetail:t(A),isOut:t(oe),swap:t(T)},null,8,["show","tokenA","tokenB","swapDetail","isOut","swap"])],64))}}),Ve=P(ds,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/swap/Swap.vue"]]),Le=s=>({getLiquidInfo:async()=>{var u,T;const{token0:g,token1:f}=D(s),i=await g(),d=await f(),x=await D(i).symbol(),l=await D(d).symbol(),a=await D(s).balanceOf(),o=await D(s).totalSupply(),h=new _(a).div(o).multipliedBy(100).toFixed(),k=String(await D(i).balanceOf(s)),$=String(await D(d).balanceOf(s)),N=new _(k).plus(new _($)),V=new _(k).dividedBy(N).toString(),S=new _($).dividedBy(N).toString(),E=((u=C.tokens.find(z=>W(z.address,i)))==null?void 0:u.logoURI)||null,K=((T=C.tokens.find(z=>W(z.address,d)))==null?void 0:T.logoURI)||null,se=await D(i).decimals(),m=await D(d).decimals(),b=await Pe(i),A=await Pe(d);return{lpPrice:new _(b).multipliedBy(V).plus(new _(A).multipliedBy(S)).toFixed(),decimalA:se,decimalB:m,iconA:E,iconB:K,tokenA:i,tokenB:d,symbolA:x,symbolB:l,shares:h,aInLpAmount:k,bInLpAmount:$,aPercent:V,bPercent:S,pairBalance:a,totalSupply:o}}}),rs={class:"bg-box rounded-lg px-5 py-3 mt-5"},us={class:"flex-center-bw"},ms={class:"flex items-center gap-2.5"},ps={class:"flex items-center"},vs={class:"lg:text-2xl font-bold"},ws={class:"lg:text-2xl font-bold"},fs={class:"text-right font-bold text-main text-lg mt-5"},gs={key:1,class:"flex-center"},bs=U({props:{pair:{type:String,required:!0}},emits:["change"],setup(s,{emit:r}){const{pair:g}=s,{getLiquidInfo:f}=Le(g),i=de({loading:!0,pairBalance:"0",tokenA:"",tokenB:"",symbolA:"",symbolB:"",iconA:"",iconB:"",amountA:"",amountB:"",totalSupply:"",aInLpAmount:"0",bInLpAmount:"0",shares:"0"}),d=async()=>{const x=await f();i.value={...i.value,...x},i.value.loading=!1};return ne(()=>{d()}),(x,l)=>{const a=R("van-loading");return c(),w("div",rs,[i.value.loading?(c(),w("div",gs,[v(a)])):(c(),w("div",{key:0,class:"cursor-pointer",onClick:l[0]||(l[0]=o=>r("change",3,s.pair))},[e("div",us,[e("div",ms,[e("div",ps,[v(re,{src:i.value.iconA,class:"-mr-2 w-6 h-6",size:26},null,8,["src"]),v(re,{src:i.value.iconB,class:"w-6 h-6",size:26},null,8,["src"])]),e("div",vs,n(i.value.symbolA)+"-"+n(i.value.symbolB),1)]),e("div",ws,n(i.value.pairBalance),1)]),e("div",fs,n(t(L)(new t(_)(i.value.aInLpAmount).multipliedBy(+i.value.shares/100).toFixed(),6))+n(i.value.symbolA)+"/ "+n(t(L)(new t(_)(i.value.bInLpAmount).multipliedBy(+i.value.shares/100).toFixed(),6))+n(i.value.symbolB),1)]))])}}}),Ze=P(bs,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/LiquidItem.vue"]]),xs={class:"lg:px-8 px-2.5 py-5"},hs={class:"flex-center-bw mb-[38px]"},ys={class:"text-[32px] font-bold"},_s={class:"mt-12 text-center"},ks={class:"flex-center"},$s=U({emits:["change"],setup(s,{emit:r}){const g=je("pairList",[]);return ne(()=>{}),(f,i)=>(c(),w("div",xs,[e("div",hs,[e("div",ys,n(f.$t("liquidity.yours")),1)]),e("div",null,[(c(!0),w(te,null,Ie(t(g),(d,x)=>(c(),F(Ze,{key:x,pair:d,onChange:l=>r("change",3,d)},null,8,["pair","onChange"]))),128))]),e("div",_s,n(f.$t("liquidity.noliquidit")),1),e("div",ks,[e("div",{onClick:i[0]||(i[0]=d=>r("change",2)),class:"border-[2px] border-solid border-config-sub rounded-2xl mt-2.5 cursor-pointer px-3 py-1 text-config-sub"},n(f.$t("liquidity.findOther")),1)]),v(Q,{class:"mt-7",onClick:i[1]||(i[1]=d=>r("change",0))},{default:I(()=>[q(n(f.$t("trade.addLiquid")),1)]),_:1})]))}}),As=P($s,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/YourLiquid.vue"]]),Bs={key:0,class:"flex items-center gap-4"},Is={class:"text-2xl font-bold"},Ls=U({props:{icon:{type:String,required:!0},symbol:{type:String,required:!0},address:{type:String,required:!0},loading:{type:Boolean,required:!0}},emits:["change"],setup(s,{emit:r}){return(g,f)=>{const i=R("VanLoading"),d=R("van-icon");return c(),w("div",{class:"flex-center-bw p-4 dark:bg-[#061629] cursor-pointer",onClick:f[0]||(f[0]=x=>r("change"))},[s.loading?(c(),F(i,{key:1})):(c(),w("div",Bs,[v(re,{src:s.icon,class:"w-6",size:26},null,8,["src"]),e("div",Is,n(s.symbol),1)])),v(d,{name:"arrow-down",alt:"",class:"w-2.5 h-auto text-main"})])}}}),Ne=P(Ls,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/ImportItem.vue"]]),Ss={class:"text-sm lg:text-base"},Cs={class:"flex-center-bw mt-5"},Ts=e("div",null,"Value in USD",-1),qs={class:"text-main"},Ps={class:"flex-center-bw mt-2.5"},Ds={class:"text-main"},Rs={class:"flex-center-bw mt-2.5"},Us={class:"text-main"},Es={class:"flex-center-bw mt-2.5"},Os={class:"text-main"},Fs=U({props:{pair:{type:String,required:!0}},setup(s){const{pair:r}=s,[g,f]=Z(!1),i=de({shares:"0",symbolA:"",symbolB:"",aInLpAmount:"0",bInLpAmount:"0",lpPrice:"0",pairBalance:"0"}),{getLiquidInfo:d}=Le(r);return ne(async()=>{f(!0);const x=await d();i.value={...x},console.log(i.value),f(!1)}),(x,l)=>(c(),w(te,null,[v(Ze,{pair:s.pair},null,8,["pair"]),e("div",Ss,[e("div",Cs,[Ts,e("div",qs,n(t(L)(new t(_)(i.value.lpPrice).multipliedBy(i.value.pairBalance).toString()||"0",9)),1)]),e("div",Ps,[e("div",null,n(x.$t("liquidity.shareInLp")),1),e("div",Ds,n(+i.value.shares)+"%",1)]),e("div",Rs,[e("div",null,n(x.$t("liquidity.tokenInPool",{symbol:i.value.symbolA})),1),e("div",Us,n(i.value.aInLpAmount),1)]),e("div",Es,[e("div",null,n(x.$t("liquidity.tokenInPool",{symbol:i.value.symbolB})),1),e("div",Os,n(i.value.bInLpAmount),1)])])],64))}}),Je=P(Fs,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/UserLp.vue"]]),Vs={class:"lg:px-8 px-2.5 py-5"},Ns={class:"flex-center-bw mb-[38px]"},Hs={class:"text-[32px] font-bold"},Ms=e("div",null,null,-1),Ys=e("div",{class:"flex-center py-8"},[e("img",{src:It,class:"w-6 h-6",alt:""})],-1),Ws={key:0},Ks={key:0},zs={class:"mt-12 text-center"},js={class:"flex-center"},Qs={key:1,class:"mt-[38px]"},Xs={class:"font-bold"},Gs={key:1,class:"flex-center"},Zs=U({emits:["change"],setup(s,{emit:r}){const g=je("pairList",[]),[f,i]=Z(!1),{getPair:d}=Ke(),x=h=>{l.tokenSelectIndex=h,i(!0)},l=M({loading:!0,tokenA:C.tokens[0].address,tokenB:C.tokens[1].address,symbolA:"",symbolB:"",iconA:"",iconB:"",pair:"",pairBalance:"0",totalSupply:"0",havePair:!1,shares:"0",aInLpAmount:"0",bInLpAmount:"0",tokenSelectIndex:0}),a=async()=>{var h,k;l.loading=!0,l.symbolA=await D(l.tokenA).symbol(),l.symbolB=await D(l.tokenB).symbol(),l.iconA=((h=C.tokens.find($=>W($.address,l.tokenA)))==null?void 0:h.logoURI)||null,l.iconB=((k=C.tokens.find($=>W($.address,l.tokenB)))==null?void 0:k.logoURI)||null,l.pair=await d(l.tokenA,l.tokenB),l.havePair=!W(l.pair,ze),l.havePair&&g.value.findIndex(N=>W(N,l.pair))===-1&&g.value.push(l.pair),l.loading=!1},o=h=>{l.tokenSelectIndex===0?(l.tokenA=h.address,l.iconA=h.logoURI,l.symbolA=h.symbol):(l.tokenB=h.address,l.iconB=h.logoURI,l.symbolB=h.symbol),a()};return ne(()=>{a()}),(h,k)=>{const $=R("van-icon"),N=R("VanLoading");return c(),w("div",Vs,[e("div",{class:"flex items-center text-main gap-3 cursor-pointer",onClick:k[0]||(k[0]=V=>r("change",1))},[v($,{name:"down",class:"rotate-90"}),q(" "+n(h.$t("common.back")),1)]),e("div",Ns,[e("div",Hs,n(h.$t("liquidity.importLP")),1)]),Ms,v(Ne,{address:t(l).tokenA,symbol:t(l).symbolA,icon:t(l).iconA,onChange:k[1]||(k[1]=V=>x(0)),loading:t(l).loading},null,8,["address","symbol","icon","loading"]),Ys,v(Ne,{address:t(l).tokenB,symbol:t(l).symbolB,icon:t(l).iconB,onChange:k[2]||(k[2]=V=>x(1)),loading:t(l).loading},null,8,["address","symbol","icon","loading"]),t(l).loading?(c(),w("div",Gs,[v(N,{size:"30"})])):(c(),w("div",Ws,[t(l).havePair?(c(),w("div",Qs,[e("div",Xs,n(h.$t("liquidity.yourLpToken")),1),v(Je,{pair:t(l).pair},null,8,["pair"])])):(c(),w("div",Ks,[e("div",zs,n(h.$t("liquidity.noPair")),1),e("div",js,[e("div",{onClick:k[3]||(k[3]=V=>r("change",0)),class:"border-[2px] border-solid border-config-sub rounded-2xl mt-2.5 cursor-pointer px-3 py-1 text-config-sub"},n(h.$t("liquidity.add")),1)])]))])),v(Ge,{show:t(f),tokenA:t(l).tokenA,tokenB:t(l).tokenB,onClose:k[4]||(k[4]=V=>t(i)(!1)),onConfirmSelectToken:o},null,8,["show","tokenA","tokenB"])])}}}),Js=P(Zs,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/ImportLp.vue"]]),eo={class:"flex-center-bw"},to={class:"flex items-center gap-2"},no={class:"font-bold"},so={class:"flex justify-end gap-5 items-center"},oo={class:"font-bold lg:text-[32px]"},ao={class:"text-main"},lo=U({props:{icon:{type:String,required:!0},symbol:{type:String,required:!0},amount:{type:String,required:!0},percent:{type:String,required:!0}},setup(s){return(r,g)=>(c(),w("div",eo,[e("div",to,[v(re,{src:s.icon,size:24,class:"w-6 h-6"},null,8,["src"]),e("div",no,n(s.symbol),1)]),e("div",so,[e("div",oo,n(t(L)(s.amount,18)),1),e("div",ao,n(t(L)(+s.percent*100))+"%",1)])]))}}),He=P(lo,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/RemoveItem.vue"]]),io={class:"bg-white box-shadow rounded-2xl w-[320px] lg:w-[390px] text-black px-5 py-7"},co={class:"flex-center-bw h-10 font-bold text-2xl"},ro={class:"flex-center-bw h-[53px]"},uo={class:"text-3xl font-bold"},mo={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},po={class:"text-lg"},vo={class:"flex-center-bw h-[53px]"},wo={class:"text-3xl font-bold"},fo={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},go={class:"text-lg"},bo=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),xo={class:"text-[#646464] text-xs"},ho=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),yo={class:"border border-solid border-[#29AAC7] rounded-[10px] p-2.5"},_o={class:"flex-center-bw"},ko={class:"text-[#29AAC7]"},$o={class:"text-[#29AAC7]"},Ao=U({props:{show:{type:Boolean,required:!0},tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},removeAmount:{type:null,required:!0}},emits:["close","confirmRemove"],setup(s,{emit:r}){const{show:g,removeAmount:f}=s;return(i,d)=>{const x=R("van-icon"),l=R("VanImage"),a=R("VanPopup");return c(),F(a,{show:s.show,"onUpdate:show":d[2]||(d[2]=o=>Me(g)?g.value=o:null),class:"bg-transparent",rounded:"",onClickOverlay:d[3]||(d[3]=o=>r("close")),onClickCloseIcon:d[4]||(d[4]=o=>r("close"))},{default:I(()=>[e("div",io,[e("div",co,[e("div",null,n(i.$t("liquidity.confirmRemove")),1),v(x,{name:"cross",onClick:d[0]||(d[0]=o=>r("close"))})]),e("div",ro,[e("div",uo,n(t(pe)(t(L)(s.tokenA.amount,8))),1),e("div",mo,[v(l,{src:s.tokenA.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",po,n(s.tokenA.symbol),1)])]),v(x,{name:"plus",class:"block text-3xl text-center my-1"}),e("div",vo,[e("div",wo,n(t(pe)(t(L)(s.tokenB.amount,8))),1),e("div",fo,[v(l,{src:s.tokenB.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",go,n(s.tokenB.symbol),1)])]),bo,e("div",xo,n(i.$t("liquidity.removeTip")),1),ho,e("div",yo,[e("div",_o,[e("div",ko,n(i.$t("liquidity.hasRemove")),1),e("div",null,[q(n(t(pe)(t(L)(s.removeAmount)))+" ",1),e("span",$o,n(`${s.tokenA.symbol}/ ${s.tokenB.symbol}`),1)])])]),v(Q,{class:"mt-[15px]",loading:!1,disabled:!1,onClick:d[1]||(d[1]=o=>r("confirmRemove"))},{default:I(()=>[q(n(i.$t("liquidity.confirmRemove")),1)]),_:1})])]),_:1},8,["show"])}}}),Bo=P(Ao,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/ConfirmRemovePop.vue"]]);const et=s=>(ft("data-v-b3f31562"),s=s(),gt(),s),Io={class:"pt-5"},Lo={class:"text-center -mt-4 font-bold text-main text-[32px]"},So=et(()=>e("div",{class:"bg w-[27px] h-[27px] rounded-full flex-center"},[e("div",{class:"w-4 h-4 bg-white rounded-full"})],-1)),Co={key:0,class:"px-3 py-4 mt-8 border border-solid border-config-sub rounded-xl"},To=et(()=>e("div",{class:"text-config-sub"},"Remaining LP Tokens",-1)),qo={class:"flex items-center gap-2.5 mt-2"},Po={class:"flex items-center"},Do={class:"font-bold lg:text-lg"},Ro={class:"flex-1 font-bold text-right lg:text-lg"},Uo={class:"py-8 flex-center"},Eo={key:1},Oo={key:0,class:"px-3 py-4 mt-8 border border-solid border-config-sub rounded-xl"},Fo={class:"text-config-sub"},Vo={class:"mt-3 text-right"},No={class:"mt-3 text-right"},Ho={class:"mt-5 flex-center-bw"},Mo={class:"text-main"},Yo={key:2,class:"flex-center"},Wo={key:0},Ko={key:1},zo=U({props:{pair:{type:String,required:!0}},setup(s){const{pair:r}=s,[g,f]=Z(!1),{getCurrentAccount:i}=ve(),{getLiquidInfo:d}=Le(r),{removeLiquidity:x,removeLiquidityETH:l}=Qe(),a=M({slip:.5,time:10,mode:!1}),o=de({btnLoading:!1,percent:0,percentList:[.25,.5,.75,1],loading:!0,pairBalance:"0",pairAllowance:0,tokenA:"",tokenB:"",symbolA:"",symbolB:"",iconA:"",iconB:"",amountA:"0",amountB:"0",totalSupply:"",aInLpAmount:"0",bInLpAmount:"0",aPercent:"0",bPercent:"0",decimalA:0,decimalB:0,shares:"0"}),h=j(()=>new _(o.value.aInLpAmount).multipliedBy(+o.value.shares/100).multipliedBy(o.value.percent/100).toFixed()),k=j(()=>new _(o.value.bInLpAmount).multipliedBy(+o.value.shares/100).multipliedBy(o.value.percent/100).toFixed()),$=j(()=>new _(o.value.pairBalance).div(100).multipliedBy(o.value.percent).toString()),N=j(()=>+o.value.pairAllowance>+$.value&&o.value.pairAllowance>0),V=B=>{o.value.percent=B},S=B=>{o.value.percent=B*100},[E,K]=Z(!1),se=B=>{a.slip=B},m=B=>{a.time=B},b=B=>{a.mode=B},A=async()=>{const B=await d();o.value={...o.value,...B},await oe(),o.value.loading=!1},oe=async()=>{o.value.pairAllowance=await D(r).allowance(C.PANCAKE_ROUTER)},u=async()=>{if(!N.value)return z();f(!0)},T=async()=>{f(!1),o.value.btnLoading=!0;const B=W(o.value.tokenA,C.BNB),H=W(o.value.tokenB,C.BNB);let J;if(B||H){const ue=B?o.value.tokenB:o.value.tokenA,ae=B?h.value:k.value,X=B?k.value:h.value,he=B?o.value.decimalB:o.value.decimalA;console.log(ae),console.log(X),J=await l(ue,new _($.value).toFixed(18),new _(X).multipliedBy(1-a.slip).toFixed(18),new _(ae).multipliedBy(1-a.slip).toFixed(he),i(),a.time)}else J=await x(o.value.tokenA,o.value.tokenB,new _($.value).toFixed(18),new _(h.value).multipliedBy(1-a.slip).toFixed(o.value.decimalA),new _(k.value).multipliedBy(1-a.slip).toFixed(o.value.decimalB),i(),a.time);if(o.value.btnLoading=!1,!J.success){f(!0);return}await A()},z=async()=>{o.value.btnLoading=!0,await D(r).approve(C.PANCAKE_ROUTER),await oe(),o.value.btnLoading=!1};return ne(()=>{A()}),(B,H)=>{const J=R("van-slider"),ue=R("van-icon"),ae=R("van-loading");return c(),w("div",Io,[v(Lt,{onOpen:H[0]||(H[0]=X=>t(K)(!0))},{default:I(()=>[q(n(B.$t("liquidity.remove")),1)]),_:1}),e("div",Lo,n(o.value.percent)+"%",1),v(J,{class:"mt-8 mx-auto w-[95%]",modelValue:o.value.percent,"onUpdate:modelValue":H[1]||(H[1]=X=>o.value.percent=X),disabled:o.value.btnLoading,barHeight:"16","inactive-color":" #46598b",onChange:V},{button:I(()=>[So]),_:1},8,["modelValue","disabled"]),v(St,{percentList:o.value.percentList,percent:o.value.percent,onChange:S},null,8,["percentList","percent"]),o.value.loading?ee("v-if",!0):(c(),w("div",Co,[To,e("div",qo,[e("div",Po,[v(re,{src:o.value.iconA,class:"w-6 h-6 -mr-2",size:26},null,8,["src"]),v(re,{src:o.value.iconB,class:"w-6 h-6",size:26},null,8,["src"])]),e("div",Do,n(o.value.symbolA)+"-"+n(o.value.symbolB),1),e("div",Ro,[e("div",null,n(t($)||"0"),1)])])])),e("div",Uo,[v(ue,{name:"down",size:"24",class:"text-main"})]),o.value.loading?(c(),w("div",Yo,[v(ae,{size:"30"})])):(c(),w("div",Eo,[e("div",null,[v(He,{icon:o.value.iconA,symbol:o.value.symbolA,amount:t(h),percent:o.value.aPercent},null,8,["icon","symbol","amount","percent"]),v(He,{class:"mt-5",icon:o.value.iconB,symbol:o.value.symbolB,amount:t(k),percent:o.value.bPercent},null,8,["icon","symbol","amount","percent"])]),o.value.loading?ee("v-if",!0):(c(),w("div",Oo,[e("div",Fo,n(B.$t("trade.token.rate")),1),e("div",Vo," 1 "+n(o.value.symbolA)+" = "+n(new t(_)(o.value.aPercent).div(o.value.bPercent))+" "+n(o.value.symbolB),1),e("div",No," 1 "+n(o.value.symbolB)+" = "+n(new t(_)(o.value.bPercent).div(o.value.aPercent))+" "+n(o.value.symbolA),1)])),e("div",Ho,[e("div",Mo,n(B.$t("trade.token.slippageLimit")),1),e("div",null,n(t(a).slip)+"%",1)])])),v(Q,{class:"mt-7",loading:o.value.btnLoading,onClick:u},{default:I(()=>[t(N)?(c(),w("span",Ko,n(B.$t("liquidity.remove")),1)):(c(),w("span",Wo,"Approve LP"))]),_:1},8,["loading"]),v(Xe,{show:t(E),onClose:H[2]||(H[2]=X=>t(K)(!1)),timeValue:t(a).time,slipValue:t(a).slip,modeValue:t(a).mode,"onUpdate:slipValue":se,"onUpdate:timeValue":m,onChangeMode:b},null,8,["show","timeValue","slipValue","modeValue"]),v(Bo,{show:t(g),onClose:H[3]||(H[3]=X=>t(f)(!1)),onConfirmRemove:T,removeAmount:t($),tokenA:{amount:t(h),logoURI:o.value.iconA,symbol:o.value.symbolA},tokenB:{amount:t(k),logoURI:o.value.iconB,symbol:o.value.symbolB}},null,8,["show","removeAmount","tokenA","tokenB"])])}}}),jo=P(zo,[["__scopeId","data-v-b3f31562"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/Remove.vue"]]),Qo={class:"lg:px-8 px-2.5 py-5"},Xo=U({props:{pair:{type:String,required:!0}},setup(s){const r=bt("handleChangeTab"),[g,f]=Z(!1),i=()=>{g.value?f(!1):(console.log("123"),r(1))};return(d,x)=>{const l=R("van-icon");return c(),w("div",Qo,[e("div",{class:"flex items-center gap-3 cursor-pointer text-main",onClick:i},[v(l,{name:"down",class:"rotate-90"}),q(" "+n(d.$t("common.back")),1)]),De(e("div",null,[v(Je,{pair:s.pair},null,8,["pair"]),v(Q,{class:"mt-10",onClick:x[0]||(x[0]=a=>t(f)(!0))},{default:I(()=>[q(n(d.$t("liquidity.remove")),1)]),_:1})],512),[[Re,!t(g)]]),De(v(jo,{pair:s.pair},null,8,["pair"]),[[Re,t(g)]])])}}}),Go=P(Xo,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/LpDetail.vue"]]),Zo={class:"mt-4 lg:mt-0 lg:min-w-[600px]"},Jo=U({setup(s){const r=de(0),g=de(""),f=(i,d="")=>{console.log(i,d),g.value=d,r.value=i};return xt("handleChangeTab",f),(i,d)=>(c(),w("div",Zo,[v(we,null,{default:I(()=>[r.value<2?(c(),F(Ct,{key:0,"current-tab":r.value,onChange:f},null,8,["current-tab"])):ee("v-if",!0),r.value===0?(c(),F(Tt,{key:1})):r.value===1?(c(),F(As,{key:2,onChange:f})):r.value===2?(c(),F(Js,{key:3,onChange:f})):(c(),F(Go,{key:4,pair:g.value,onChange:f},null,8,["pair"]))]),_:1})]))}}),ea=P(Jo,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/AddLiquidity.vue"]]),ta={},na={class:"font-semibold text-[24px] font-Mukta"},sa={class:"mt-4 text-xs leading-5"};function oa(s,r){return c(),w("div",null,[e("div",na,"Plutus Protocol"+n(s.$t("nft.Plutus Protocol")),1),e("div",sa,n(s.$t("nft.nftIntro")),1)])}const aa=P(ta,[["render",oa],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/nft/components/NftIntroduce.vue"]]),la=""+new URL("../images/nft-event-2cf96c0c.png",import.meta.url).href,ia={class:"px-5 mt-6 text-center bg-box py-7 rounded-xl"},ca=e("div",{class:"flex-center"},[e("img",{src:la,alt:"",class:"w-[170px] aspect-[170 / 128]"})],-1),da={class:"mt-5 text-xl font-bold colors-1"},ra={class:"mt-4 text-xs leading-5"},ua={class:"flex gap-2 mt-4 text-xs"},ma={class:"leading-5 text-left text-config-sub"},pa={class:"grid flex-1 grid-cols-4 leading-5 border border-solid border-[#46598B] border-r-0"},va={class:"border-b border-solid border-[#46598B]"},wa={class:"scale-75 sm:scale-100"},fa={class:"border-b border-solid border-[#46598B]"},ga={class:"scale-75 sm:scale-100"},ba={class:"scale-75 sm:scale-100"},xa=U({setup(s){const r=M({levelList:[{level:"S2",lpValue:"$1000",reward:"Common"},{level:"S3",lpValue:"$1500",reward:"Rare"},{level:"S4",lpValue:"$2000",reward:"Epic"},{level:"S5",lpValue:"$2500",reward:"Legendary"}]});return(g,f)=>(c(),w("div",ia,[ca,e("div",da,n(g.$t("nft.airdropEvent")),1),e("div",ra,n(g.$t("nft.airdropEventIntro")),1),e("div",ua,[e("div",ma,[e("div",null,n(g.$t("nft.Level")),1),e("div",null,n(g.$t("nft.Lp Value held")),1),e("div",null,n(g.$t("common.reward")),1)]),e("div",pa,[(c(!0),w(te,null,Ie(t(r).levelList,i=>(c(),w("div",{key:i.level,class:"border-r border-solid border-[#46598B]"},[e("div",va,[e("div",wa,n(i.level),1)]),e("div",fa,[e("div",ga,n(i.lpValue),1)]),e("div",ba,n(i.reward),1)]))),128))])])]))}}),ha=P(xa,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/nft/components/AirdropEvent.vue"]]),tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALNSURBVHgBxVfdcdpAEN47UQCe2E8GLCowJZAOkgpCKkg6ACpIXIHtCpwOoIOQCiR+noIdkWej3eyudCAIAgmY8TfDSEJ7+93t3X67AngjmDLGfhRUASqtGMg3SH7698JaOwJYjsKL5qKor0LEfjRtx0RdIGrv92aGgPA4vWw8wCnEOwnFOUFogMbyiIRVY73brUmFnsX3HIGwNHEtmnYNYi81CvlyZy0+5IWTt8GPY2gbY7vEjzrO2t7kot6HohDS+suY5Fd7Dr4ne1sctXnQc+Mb7KvYoJS08TKO6s/BBzgSMlZ95JBvhFrDhTbQB8KP08vmDzgBOnFjn+TeQ97zq+bQvbNZQyYd6GwQ+0VJZTV5kREfRHCnvj2vmze7ThriAAqiHk3u0zE/82zkfIhPsfPnQdv9v16x9T7JhcgUOoVCyrnUMSog+DnPLs2C/1Zt3axcHnpePIRypJKvo332koZ6wxwuQ5R4yTKoL1gc9iX9MaQCXbUIT0LWWhFbxFYyIfp1blIH1nZVuth4/oqY4ZafK/KNaPLtWNKEWdWPF04bxAeBSH/lynIIr69wMpSYCMN0Wjd5hrN3Nz0WlUe+rVrPDq5/By0oBye7iwxxEgYyibjngQWhcyw5GXOrhIijFXGlAsl+ZY77OclFildlM+VS4uxxR7SdQ47Kkku51JskXdehFlAcq2Lx4flSpAxukT/tNeYarVfuTna+r/+ZDJI6yqlTELX5uHc9D77mvl+X2Y0aYDadBG3uGrRCnb0sWmxmVXEjj2dcL4lLYjIle39qIyA+1BX7PCTFiqNalxRaBlnlVuPZ1y47s4+cw+5IQ07EvlSuvJkLoWSEHE5wzR6vdHLV7JUiTp357GzgusZkhLS3NOKBqYSy2onwbLXAkiWzTKtTithBuhNtFAo09IcISxE7SDiXXE/5k0UEQ3NddF4kV9SvzCfMm+Efe9DVyQB4KOsAAAAASUVORK5CYII=",nt=()=>{const s=ht();return{usdt:async()=>{try{return await s.usdt()}catch(l){return ce(l)}},mint:async l=>{try{const a=await(await s.mint(l)).wait();return Ue(a)}catch(a){return Fe(a),ce(a)}},tokenAmount:async l=>{try{return await s._tokenAmount(l)}catch(a){return ce(a)}},recive:async l=>{try{const a=await(await s.recive(l)).wait();return Ue(a)}catch(a){return Fe(a),ce(a)}},balanceOf:async l=>{try{return await s.balanceOf(ve().getCurrentAccount(),l)}catch(a){return ce(a)}},whiteList:async l=>{try{return await s._wihteList(ve().getCurrentAccount(),l)}catch(a){return ce(a)}}}},ya={class:"p-4"},_a={class:"text-2xl font-semibold"},ka={class:"mt-5 flex-center-bw"},$a=e("img",{src:tt,alt:"",class:"w-5"},null,-1),Aa=[$a],Ba=["src"],Ia=e("img",{src:tt,alt:"",class:"w-5"},null,-1),La=[Ia],Sa={class:"gap-3 mt-5 flex-center"},Ca={class:"p-2.5 text-center text-xs"},Ta={class:"mt-2 colors-1"},qa={class:"p-2.5 text-center text-xs"},Pa={class:"mt-2 colors-1"},Da={class:"mt-4 text-xs flex-center-bw"},Ra={class:"text-xs flex-center-bw mt-2.5"},Ua=q(" Approve "),Ea={key:0},Oa={key:1},Fa=U({props:{nft:{type:Object,required:!0},loading:{type:Boolean,required:!0},usdt:{type:String,required:!0},allowance:{type:Number,required:!0}},emits:["pre","next","approveSuccess"],setup(s,{emit:r}){const g=s,{balanceOf:f,mint:i,tokenAmount:d,recive:x,whiteList:l}=nt(),a=M({btnLoading:!1,cliamLoading:!1,isHold:!1,isWhite:!1}),o=async()=>{a.isWhite=await l(g.nft.id),console.log(a.isWhite)},h=async()=>{const S=await f(g.nft.id);a.isHold=S.toString()!=="0"},k=async()=>{a.cliamLoading=!0,(await x(g.nft.id)).success&&_t("success"),a.cliamLoading=!1},$=async()=>{a.btnLoading=!0,await D(g.usdt).approve(C.NFT),r("approveSuccess"),a.btnLoading=!1},N=async()=>{a.btnLoading=!0,await i(g.nft.id),await h(),a.btnLoading=!1},V=async()=>{a.btnLoading=!0,a.cliamLoading=!0,await h(),await o(),a.btnLoading=!1,a.cliamLoading=!1};return ne(()=>V()),(S,E)=>(c(),w("div",ya,[e("div",_a,n(s.nft.name),1),e("div",ka,[e("div",{onClick:E[0]||(E[0]=K=>r("pre"))},Aa),e("div",null,[e("img",{src:s.nft.img,alt:""},null,8,Ba)]),e("div",{class:"rotate-180",onClick:E[1]||(E[1]=K=>r("next"))},La)]),e("div",Sa,[v(we,null,{default:I(()=>[e("div",Ca,[e("div",null,n(S.$t("nft.addingProfits")),1),e("div",Ta,n(s.nft.profit)+"%",1)])]),_:1}),v(we,null,{default:I(()=>[e("div",qa,[e("div",null,n(S.$t("addingLiquidity")),1),e("div",Pa,n(s.nft.liquidity)+"%",1)])]),_:1})]),e("div",Da,[e("div",null,n(S.$t("trade.swapDetail.price")),1),e("div",null,"USDT "+n(t(yt)(+s.nft.price)),1)]),e("div",Ra,[e("div",null,n(S.$t("nft.Rarity")),1),e("div",null,n(S.$t(`nft.${s.nft.rarity}`)),1)]),s.allowance===0||s.allowance<+s.nft.price?(c(),F(Q,{key:0,class:"mt-5",onClick:$,loading:t(a).btnLoading||s.loading},{default:I(()=>[Ua]),_:1},8,["loading"])):(c(),F(Q,{key:1,class:"mt-5",onClick:N,loading:t(a).btnLoading||s.loading,disabled:t(a).isHold},{default:I(()=>[t(a).isHold?(c(),w("span",Oa,n(S.$t("nft.owned")),1)):(c(),w("span",Ea,n(S.$t("nft.Purchase")),1))]),_:1},8,["loading","disabled"])),v(Q,{class:"mt-5",onClick:k,loading:t(a).cliamLoading||s.loading,disabled:!t(a).isWhite},{default:I(()=>[ee(` <span v-if="!state.isHold">{{ $t('nft.notEligible') }}</span> `),e("span",null,n(S.$t("ido.Claim")),1)]),_:1},8,["loading","disabled"])]))}}),Va=P(Fa,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/nft/components/NftItem.vue"]]),Na={class:"lg:px-8 px-2.5 py-5 lg:w-[800px]"},Ha=U({setup(s){const{balanceOf:r,mint:g,tokenAmount:f,usdt:i}=nt(),d=M({loading:!1,usdt:"",allowance:0}),x=j(()=>[{id:1,name:"Plutus Common",img:xe("nft/0001.png"),profit:"20",liquidity:"120",price:"1000",rarity:"Common"},{id:2,name:"Plutus Rare",img:xe("nft/0002.png"),profit:"40",liquidity:"130",price:"2000",rarity:"Rare"},{id:3,name:"Plutus Epic",img:xe("nft/0003.png"),profit:"60",liquidity:"140",price:"4000",rarity:"Epic"},{id:4,name:"Plutus Legendary",img:xe("nft/0004.png"),profit:"80",liquidity:"150",price:"8000",rarity:"Legendary"}]),l=de(),a=()=>{var $;($=l.value)==null||$.prev()},o=()=>{var $;($=l.value)==null||$.next()},h=async()=>{d.usdt=await i()},k=async()=>{d.loading=!0,d.allowance=await D(d.usdt).allowance(C.NFT),d.loading=!1};return ne(async()=>{d.loading=!0,await h(),await k(),d.loading=!1}),($,N)=>{const V=R("van-swipe-item"),S=R("van-swipe");return c(),w("div",Na,[v(aa),v(ha),v(we,{class:"mt-8"},{default:I(()=>[v(S,{ref:(E,K)=>{K.swipeRef=E,l.value=E}},{indicator:I(({active:E,total:K})=>[]),default:I(()=>[(c(!0),w(te,null,Ie(t(x),E=>(c(),F(V,{key:E.name},{default:I(()=>[v(Va,{nft:E,onPre:a,onNext:o,usdt:t(d).usdt,loading:t(d).loading,allowance:t(d).allowance,onApproveSuccess:k},null,8,["nft","usdt","loading","allowance"])]),_:2},1024))),128))]),_:1},512)]),_:1})])}}}),Ma=P(Ha,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/nft/NFT.vue"]]),Ya={class:"relative items-start justify-center lg:flex"},Wa=U({setup(s){const r=kt(),g=We(),{t:f}=Ye(),i=j(()=>[{id:0,name:f("trade.swap"),disabled:!1,url:"/swap"},{id:1,name:f("trade.liquidity"),disabled:!1,url:"/add"},{id:2,name:"NFT",disabled:!1,url:"/nft"},{id:3,name:f("trade.perpetual"),disabled:!0}]),d=Ee({Swap:Ve,AddLiquidity:ea,RemoveLiquidity:qt,NFT:Ma});Ee(Ve);const x=M({currentTab:g.meta.tab||0,currentComponent:"Swap"}),l=a=>{a.disabled||(x.currentTab=a.id,a.url&&r.push(a.url))};return Be(()=>g,a=>{try{x.currentTab=g.meta.tab||0}catch(o){console.log(o)}},{immediate:!0,deep:!0}),(a,o)=>(c(),w("div",Ya,[v(At,{tabList:t(i),currentTab:t(x).currentTab,onChange:l,class:"lg:absolute lg:left-0"},null,8,["tabList","currentTab"]),ee(" <Swap /> "),(c(),F($t(t(d)[t(g).name])))]))}}),Ga=P(Wa,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/trade/Trade.vue"]]);export{Ga as default};
