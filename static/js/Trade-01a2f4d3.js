import{_ as T,d as D,o as i,c as v,b as e,y as n,z as N,i as R,m as P,e as g,u as t,A as C,B as k,j as J,D as te,E as O,w as S,G as fe,F as ne,k as z,H as Se,I as ft,J as Ce,K as ze,L as je,M as Qe,N as ae,O as Xe,P as K,Q as q,R as Le,C as ve,S as U,T as W,U as Ge,V as vt,W as wt,X as Ze,Y as Oe,r as de,Z as se,$ as Je,g as ye,p as gt,l as ht,q as bt,a0 as Ee,a1 as Fe,a2 as xt,a3 as yt,a4 as pe,a5 as Ve,a6 as xe,a7 as _t,h as be,a8 as kt,a9 as Ne,aa as $t}from"./index-b21247ba.js";import{T as At}from"./TradeTab-f8d97d1b.js";import{_ as Bt,r as et,S as Me,a as tt,b as nt,c as It,d as Lt,P as St,L as Ct,R as Tt,e as qt}from"./RemoveLiquidity-91b5b1a3.js";import{T as re}from"./TokenImage-195b9404.js";import{t as He}from"./toast-697b591a.js";const Pt=""+new URL("../images/exchange-3a08e937.svg",import.meta.url).href,Rt={class:"flex-center-bw mb-[38px]"},Dt={class:"text-[32px] font-bold"},Ut=e("img",{src:Bt,class:"w-7",alt:""},null,-1),Ot=[Ut],Et=D({emits:["open"],setup(s,{emit:c}){return(u,p)=>(i(),v("div",Rt,[e("div",Dt,n(u.$t("trade.swap")),1),e("div",{onClick:p[0]||(p[0]=l=>c("open")),class:"cursor-pointer"},Ot)]))}}),Ft=T(Et,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/swap/components/SwapHeader.vue"]]),Vt={class:"border border-main border-solid rounded-lg p-2.5 px-3 mt-5"},Nt=P(" 1 "),Mt={class:"text-main"},Ht={class:"text-main"},Yt={key:0,class:"mt-1.5"},Wt={class:"flex-center-bw mt-1.5"},Kt={class:"text-main"},zt={class:"flex-center-bw mt-1.5"},jt={class:"text-main"},Qt={key:0},Xt={key:1},Gt={class:"flex-center-bw mt-1.5"},Zt={class:"text-main"},Jt={key:0},en={key:1},tn={class:"text-right"},nn={key:0},sn={key:1},on={class:"flex-center-bw mt-1.5"},an={class:"text-main"},ln=e("span",{class:"text-main"},null,-1),cn={class:"text-right"},dn=D({props:{tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},swapDetail:{type:null,required:!0},isOut:{type:Boolean,required:!1}},setup(s){const c=N({open:!1}),u=()=>{c.open=!c.open};return(p,l)=>{const f=R("van-icon");return i(),v("div",Vt,[e("div",{class:"flex-center-bw cursor-pointer",onClick:u},[e("div",null,[Nt,e("span",Mt,n(s.tokenA.symbol),1),P(" = "+n(s.swapDetail.aToBPrice)+" ",1),e("span",Ht,n(s.tokenB.symbol),1)]),g(f,{name:"arrow-down",alt:"",class:"w-2.5 h-auto text-main"})]),t(c).open?(i(),v("div",Yt,[e("div",Wt,[e("div",Kt,n(p.$t("trade.swapDetail.networkFee")),1),e("div",null,[P(" ~"+n(t(C)(new t(k)(s.tokenA.amount).times(s.swapDetail.networkFee).toString()))+" ",1),e("span",null,n(s.tokenA.symbol),1)])]),e("div",zt,[e("div",jt,n(p.$t("trade.swapDetail.priceImpact")),1),e("div",null,[s.swapDetail.priceImpact<.01?(i(),v("span",Qt," <0.01% ")):(i(),v("span",Xt,"~"+n(t(C)(s.swapDetail.priceImpact,2))+"%",1))])]),e("div",Gt,[e("div",Zt,[s.isOut?(i(),v("span",Jt,n(p.$t("trade.swapDetail.minOutput")),1)):(i(),v("span",en,n(p.$t("trade.swapDetail.maximumSold")),1))]),e("div",tn,[s.isOut?(i(),v("span",nn,n(t(C)(s.swapDetail.minimumOutput||0,18))+" "+n(s.tokenB.symbol),1)):(i(),v("span",sn,n(t(C)(s.swapDetail.maximumSold||0,18))+" "+n(s.tokenA.symbol),1))])]),e("div",on,[e("div",an,[P(n(p.$t("trade.swapDetail.expectOutput")),1),ln]),e("div",cn,n(t(C)(s.swapDetail.expectedOutput||0,18))+" "+n(s.tokenB.symbol),1)])])):J("v-if",!0)])}}}),rn=T(dn,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/swap/components/SwapDetail.vue"]]),un=""+new URL("../images/change-b9d65d35.svg",import.meta.url).href,mn={class:"bg-white box-shadow rounded-2xl w-[320px] lg:w-[390px] text-black px-5 py-7"},pn={class:"flex-center-bw h-10 font-bold text-2xl"},fn={class:"flex-center-bw h-[53px]"},vn={class:"text-3xl font-bold"},wn={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},gn={class:"text-lg"},hn={class:"flex-center-bw h-[53px]"},bn={class:"text-3xl font-bold"},xn={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},yn={class:"text-lg"},_n=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),kn={class:"flex justify-between"},$n={class:"text-sm"},An={class:"text-[#29AAC7] text-base"},Bn={key:0,class:"text[#646464]"},In={key:1,class:"text[#646464]"},Ln={class:"text-[#29AAC7] text-base font-bold"},Sn=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),Cn={class:"border border-solid border-[#29AAC7] rounded-[10px] p-2.5"},Tn={class:"flex-center-bw"},qn={class:"text-[#29AAC7]"},Pn={class:"flex-center-bw gap-1"},Rn={class:"text-[#29AAC7]"},Dn={class:"text-[#29AAC7]"},Un=e("img",{src:un,class:"w-4 h-4"},null,-1),On=[Un],En={class:"flex-center-bw"},Fn={class:"text-[#29AAC7]"},Vn={key:0},Nn={key:1},Mn={key:0},Hn={class:"text-[#29AAC7]"},Yn={key:1},Wn={class:"text-[#29AAC7]"},Kn={class:"flex-center-bw"},zn={class:"text-[#29AAC7]"},jn={key:0},Qn={key:1},Xn={class:"flex-center-bw mt-1.5"},Gn={class:"text-[#29AAC7]"},Zn={class:"text-[#29AAC7]"},Jn=D({props:{show:{type:Boolean,required:!0},tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},swapDetail:{type:null,required:!0},isOut:{type:Boolean,required:!1},swap:{type:null,required:!0}},emits:["close","confirmSwap"],setup(s,{emit:c}){const{show:u}=s,[p,l]=te(!0);return(f,b)=>{const r=R("van-icon"),y=R("VanImage"),a=R("VanPopup");return i(),O(a,{show:s.show,"onUpdate:show":b[3]||(b[3]=o=>Se(u)?u.value=o:null),class:"bg-transparent",rounded:"",onClickOverlay:b[4]||(b[4]=o=>c("close")),onClickCloseIcon:b[5]||(b[5]=o=>c("close"))},{default:S(()=>[e("div",mn,[e("div",pn,[e("div",null,n(f.$t("swap.confirmSwap")),1),g(r,{name:"cross",onClick:b[0]||(b[0]=o=>c("close"))})]),e("div",fn,[e("div",vn,n(t(fe)(t(C)(s.tokenA.amount))),1),e("div",wn,[g(y,{src:s.tokenA.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",gn,n(s.tokenA.symbol),1)])]),g(r,{name:"down",class:"block text-3xl text-center my-1"}),e("div",hn,[e("div",bn,n(t(fe)(t(C)(s.tokenB.amount))),1),e("div",xn,[g(y,{src:s.tokenB.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",yn,n(s.tokenB.symbol),1)])]),_n,e("div",kn,[e("div",$n,[e("div",An,n(f.$t("swap.slippageTolerance")),1),s.isOut?(i(),v("div",Bn,n(f.$t("swap.sliOut",{out:`${s.swapDetail.minimumOutput||0}
                      ${s.tokenB.symbol}`})),1)):(i(),v("div",In,n(f.$t("swap.sliInput",{input:`${s.swapDetail.maximumSold||0}
                      ${s.tokenA.symbol}`})),1))]),e("div",Ln,n(s.swap.slip)+"%",1)]),Sn,e("div",Cn,[e("div",Tn,[e("div",qn,n(f.$t("trade.swapDetail.price")),1),e("div",Pn,[e("div",null,[t(p)?(i(),v(ne,{key:0},[P(n(t(C)(s.swapDetail.bToAPrice))+" ",1),e("span",Rn,n(s.tokenB.symbol+"/"+s.tokenA.symbol),1)],64)):(i(),v(ne,{key:1},[P(n(t(C)(s.swapDetail.aToBPrice))+" ",1),e("span",Dn,n(s.tokenA.symbol+"/"+s.tokenB.symbol),1)],64))]),e("div",{onClick:b[1]||(b[1]=o=>t(l)(!t(p))),class:"text-[#29AAC7] cursor-pointer"},On)])]),e("div",En,[e("div",Fn,[s.isOut?(i(),v("span",Vn,n(f.$t("trade.swapDetail.minOutput")),1)):(i(),v("span",Nn,n(f.$t("trade.swapDetail.maximumSold")),1))]),e("div",null,[s.isOut?(i(),v("span",Mn,[P(n(t(C)(s.swapDetail.minimumOutput||0))+" ",1),e("span",Hn,n(s.tokenB.symbol),1)])):(i(),v("span",Yn,[P(n(t(C)(s.swapDetail.maximumSold||0))+" ",1),e("span",Wn,n(s.tokenA.symbol),1)]))])]),e("div",Kn,[e("div",zn,n(f.$t("trade.swapDetail.priceImpact")),1),e("div",null,[s.swapDetail.priceImpact<.01?(i(),v("span",jn," <0.01% ")):(i(),v("span",Qn,"~"+n(t(C)(s.swapDetail.priceImpact,2))+"%",1))])]),e("div",Xn,[e("div",Gn,n(f.$t("trade.swapDetail.networkFee")),1),e("div",null,[P(" ~"+n(t(C)(new t(k)(s.tokenA.amount).times(s.swapDetail.networkFee).toString()))+" ",1),e("span",Zn,n(s.tokenA.symbol),1)])])]),g(z,{class:"mt-[15px]",loading:!1,disabled:!1,onClick:b[2]||(b[2]=o=>c("confirmSwap"))},{default:S(()=>[P(n(f.$t("swap.confirmSwap")),1)]),_:1})])]),_:1},8,["show"])}}}),es=T(Jn,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/swap/components/ConfirmingPop.vue"]]),ts={class:"lg:px-8 px-2.5 py-5"},ns=e("img",{src:Pt,class:"w-[38px] h-[36px] mx-auto",alt:""},null,-1),ss=[ns],os={key:0},as={key:1},is={key:2},ls={key:3},cs={key:4},ds=D({setup(s){ft(async()=>{Ie(),Be()},3e3,{immediate:!0});const{t:c}=Ce(),{addWait:u}=ze(),[p,l]=te(!1),f=je(),{accountStore:b}=Qe(),{connectWallet:r}=ae(),{getAmountsOut:y,getAmountsIn:a,swapTokensForExactTokens:o,swapExactTokensForTokens:x,swapExactETHForTokens:$,swapExactTokensForETH:F,swapETHForExactTokens:V,swapTokensForExactETH:j}=et(),{getPair:Q}=Xe(),X=K(()=>!w.havePair||+d.amount<=0||+d.amount>+d.balance||+A.priceImpact>15),I=K(()=>+d.allowance>=+d.amount&&d.allowance>0),d=N({...q.tokens[0],balance:0,allowance:0,decimals:18,amount:null}),m=N({...q.tokens[1],balance:0,allowance:0,decimals:18,amount:null}),A=N({networkFee:.0025,priceImpact:0,minimumOutput:null,maximumSold:null,expectedOutput:null,aToBPrice:null,bToAPrice:null}),ee=K(()=>!w.aDisabled),w=N({settingShow:!1,btnLoading:!1,havePair:!1,aDisabled:!1,bDisabled:!1,aInputLoading:!1,bInputLoading:!1,pair:null,txInfo:{tx:null,text:""},loadingShow:!0,tokenSelectIndex:0}),B=N({slip:.1,time:10,min:"0",mode:!1}),M=K(()=>({confirmingTitle:c("swap.confirmSwap"),confirmSuccessTitle:c("swap.txSubmitted"),confirmingText:c("swap.waitConfirm"),confirmedText:c("swap.confirmSwap"),confirmingMainDes:c("swap.swappingTx",{amountA:d.amount,symbolA:d.symbol,amountB:m.amount,symbolB:m.symbol}),confirmedMainDes:c("swap.swappedTx",{amountA:d.amount,symbolA:d.symbol,amountB:m.amount,symbolB:m.symbol}),confirmingSubDes:c("swap.swapConfirmTx"),txId:"",token:m})),{loadingShowToggle:L,loadingToggle:H,setLoadingInfo:oe}=Ge(),ue=async()=>{w.settingShow=!w.settingShow},ie=h=>{B.slip=h,!(!d.amount&&!m.amount)&&(ke(d.amount),$e(m.account))},G=h=>{B.time=h},_e=h=>{B.mode=h},lt=()=>{w.bDisabled=!0,w.aDisabled=!1},ct=()=>{w.aDisabled=!0,w.bDisabled=!1},ke=async h=>{if(w.btnLoading||w.aDisabled)return w.bInputLoading=!1;if(h===""){d.amount=null,m.amount=null,A.expectedOutput=null,A.minimumOutput=null,A.maximumSold=null,A.priceImpact=null,w.bInputLoading=!1;return}d.amount=h,w.bInputLoading=!0;const _=await y(h,[d.address,m.address]);m.amount=_||"0",A.expectedOutput=new k(m.amount),A.minimumOutput=new k(m.amount).times(1e4-100*B.slip).div(1e4).toFixed(18),A.maximumSold=new k(d.amount).times(1e4+100*B.slip).div(1e4).toFixed(18),A.priceImpact=h/+await U(d.address).balanceOf(w.pair)*100,w.bInputLoading=!1},$e=async h=>{if(w.btnLoading||w.bDisabled)return w.aInputLoading=!1;if(h===""){d.amount=null,m.amount=null,A.expectedOutput=null,A.minimumOutput=null,A.maximumSold=null,A.priceImpact=null,w.aInputLoading=!1;return}m.amount=h,w.aInputLoading=!0,d.amount=await a(h,[d.address,m.address])||0,A.expectedOutput=new k(m.amount),A.minimumOutput=new k(m.amount).times(1e4-100*B.slip).div(1e4).toFixed(18),A.maximumSold=new k(d.amount).times(1e4+100*B.slip).div(1e4).toFixed(18),w.aInputLoading=!1},[dt,Pe]=te(!1),Re=h=>{w.tokenSelectIndex=h,Pe(!0)},rt=h=>{if(w.tokenSelectIndex===0)for(let _ in h)d[_]=h[_];else for(let _ in h)m[_]=h[_];d.amount=null,m.amount=null,me()},ut=async()=>{var _;if(w.btnLoading||w.aInputLoading||w.bInputLoading)return;let h=N({...d,amount:(_=d.amount)==null?void 0:_.toString()});if(d.address=m.address,m.address=h.address,d.logoURI=m.logoURI,m.logoURI=h.logoURI,await Be(),w.bDisabled?(w.aInputLoading=!0,m.amount=d.amount):(w.bInputLoading=!0,d.amount=m.amount),await Ie(),!d.amount&&!m.amount){w.aInputLoading=!1,w.bInputLoading=!1;return}w.bDisabled?(w.aDisabled=!0,w.bDisabled=!1,m.amount=d.amount,$e(m.amount)):(w.aDisabled=!1,w.bDisabled=!0,d.amount=m.amount,ke(d.amount))},Ae=async h=>{const{balanceOf:_,allowance:E,symbol:Y,decimals:we}=U(h),le=W(h,q.BNB)?await vt():await _(),ge=W(h,q.BNB)?wt:await E(q.PANCAKE_ROUTER),ce=await Y(),he=await we();return{balance:le,allowance:+ge,symbol:ce,decimals:he}},mt=async()=>{const h=await Q(d.address,m.address);return w.pair=h,h!==Ze},Be=async()=>{const h=await Ae(d.address),_=await Ae(m.address);d.balance=h.balance,d.allowance=h.allowance,d.symbol=h.symbol,d.decimals=h.decimals,m.balance=_.balance,m.allowance=_.allowance,m.symbol=_.symbol,m.decimals=_.decimals},Ie=async()=>{if(!w.havePair)return;const h=[d.address,m.address],_=await y(1,h);A.aToBPrice=_||0;const E=await y(1,h.reverse());A.bToAPrice=E||0},me=async()=>{d.amount=null,m.amount=null,w.btnLoading=!0,Be(),w.havePair=await mt(),Ie(),w.btnLoading=!1},De=async()=>{if(!I.value){w.btnLoading=!0;const h=await U(d.address).approve(q.PANCAKE_ROUTER);if(!h.success)return w.btnLoading=!1;if(h.success){const _=await Ae(d.address);w.btnLoading=!1,d.allowance=_.allowance,De()}return}l(!0)},pt=async()=>{l(!1),L(!0,M.value),H(!0),w.btnLoading=!1;const h=ae().getCurrentAccount(),_=B.time,E=[d.address,m.address];let Y=null,we=null,le=null,ge=null,ce=null;const he=W(d.address,q.BNB),Ue=W(m.address,q.BNB);if(w.bDisabled){const Z=d.amount;ge=await y(Z,E),ce=new k(ge).times(1e4-100*B.slip).div(1e4).toFixed(18),he?Y=await $(Z,ce,E,h,_):Ue?Y=await F(Z,ce,E,h,_):Y=await x(Z,ce,E,h,_)}else{const Z=m.amount;we=+await a(Z,E),le=new k(we).times(1e4+100*B.slip).div(1e4).toFixed(18),he?Y=await V(Z,le,E,h,_):Ue?Y=await j(Z,le,E,h,_):Y=await o(Z,le,E,h,_)}if(w.btnLoading=!1,H(!1),u(Y.result),Y.success)M.value.txId=Y.result.hash,M.value.confirmingSubDes=c("swap.viewOnScan"),oe(M.value);else{L(!1),Y.result.error||l(!0);return}me()};return Le(()=>f.query,h=>{h.inputCurrency&&(d.address=h.inputCurrency,me()),h.outputCurrency&&(m.address=h.outputCurrency,me())},{immediate:!0,deep:!0}),Le(()=>[d,m],async()=>{me()},{immediate:!0}),(h,_)=>(i(),v(ne,null,[g(ve,{class:"mt-4 lg:mt-0 lg:min-w-[600px]"},{default:S(()=>[e("div",ts,[g(Ft,{onOpen:ue}),g(Me,{token:t(d),modelValue:t(d).amount,"onUpdate:modelValue":ke,onFocus:lt,onHandleSelectToken:_[0]||(_[0]=E=>Re(0)),disabled:t(w).btnLoading,loading:t(w).aInputLoading},null,8,["token","modelValue","disabled","loading"]),e("div",{class:"py-5 flex-center"},[e("div",{onClick:ut,class:"cursor-pointer"},ss)]),g(Me,{token:t(m),modelValue:t(m).amount,"onUpdate:modelValue":$e,onFocus:ct,onHandleSelectToken:_[1]||(_[1]=E=>Re(1)),disabled:t(w).btnLoading,loading:t(w).bInputLoading},null,8,["token","modelValue","disabled","loading"]),t(w).havePair?(i(),O(rn,{key:0,tokenA:t(d),tokenB:t(m),swapDetail:t(A),isOut:t(ee)},null,8,["tokenA","tokenB","swapDetail","isOut"])):J("v-if",!0),t(b).account?(i(),O(z,{key:2,class:"mt-7",loading:t(w).btnLoading,disabled:t(X),onClick:De},{default:S(()=>[t(w).havePair?+t(d).amount>+t(d).balance||+t(d).balance<=0?(i(),v("span",as,n(h.$t("errorMsg.InsufficientBalance")),1)):t(I)?+t(A).priceImpact>15?(i(),v("span",ls,n(h.$t("common.priceImpactTooHigh")),1)):(i(),v("span",cs,n(h.$t("trade.swap")),1)):(i(),v("span",is,"Approve")):(i(),v("span",os,n(h.$t("errorMsg.Insufficient liquidity")),1))]),_:1},8,["loading","disabled"])):(i(),O(z,{key:1,class:"mt-7",loading:t(w).btnLoading,disabled:!1,onClick:t(r)},{default:S(()=>[P(n(h.$t("common.connect")),1)]),_:1},8,["loading","onClick"]))])]),_:1}),g(tt,{show:t(w).settingShow,onClose:_[2]||(_[2]=()=>t(w).settingShow=!1),timeValue:t(B).time,slipValue:t(B).slip,modeValue:t(B).mode,"onUpdate:slipValue":ie,"onUpdate:timeValue":G,onChangeMode:_e},null,8,["show","timeValue","slipValue","modeValue"]),g(nt,{tokenA:t(d).address,tokenB:t(m).address,show:t(dt),onClose:_[3]||(_[3]=E=>t(Pe)(!1)),onConfirmSelectToken:rt},null,8,["tokenA","tokenB","show"]),g(es,{show:t(p),onClose:_[4]||(_[4]=E=>t(l)(!1)),onConfirmSwap:pt,tokenA:t(d),tokenB:t(m),swapDetail:t(A),isOut:t(ee),swap:t(B)},null,8,["show","tokenA","tokenB","swapDetail","isOut","swap"])],64))}}),Ye=T(ds,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/swap/Swap.vue"]]),Te=s=>({getLiquidInfo:async()=>{var w,B;const{token0:u,token1:p}=U(s),l=await u(),f=await p(),b=await U(l).symbol(),r=await U(f).symbol(),y=await U(s).balanceOf(),a=await U(s).totalSupply(),o=new k(y).div(a).multipliedBy(100).toFixed(),x=String(await U(l).balanceOf(s)),$=String(await U(f).balanceOf(s)),F=new k(x).plus(new k($)),V=new k(x).dividedBy(F).toString(),j=new k($).dividedBy(F).toString(),Q=((w=q.tokens.find(M=>W(M.address,l)))==null?void 0:w.logoURI)||null,X=((B=q.tokens.find(M=>W(M.address,f)))==null?void 0:B.logoURI)||null,I=await U(l).decimals(),d=await U(f).decimals(),m=await Oe(l),A=await Oe(f);return{lpPrice:new k(m).multipliedBy(V).plus(new k(A).multipliedBy(j)).toFixed(),decimalA:I,decimalB:d,iconA:Q,iconB:X,tokenA:l,tokenB:f,symbolA:b,symbolB:r,shares:o,aInLpAmount:x,bInLpAmount:$,aPercent:V,bPercent:j,pairBalance:y,totalSupply:a}}}),rs={class:"bg-box rounded-lg px-5 py-3 mt-5"},us={class:"flex-center-bw"},ms={class:"flex items-center gap-2.5"},ps={class:"flex items-center"},fs={class:"lg:text-2xl font-bold"},vs={class:"lg:text-2xl font-bold"},ws={class:"text-right font-bold text-main text-lg mt-5"},gs={key:1,class:"flex-center"},hs=D({props:{pair:{type:String,required:!0}},emits:["change"],setup(s,{emit:c}){const{pair:u}=s,{getLiquidInfo:p}=Te(u),l=de({loading:!0,pairBalance:"0",tokenA:"",tokenB:"",symbolA:"",symbolB:"",iconA:"",iconB:"",amountA:"",amountB:"",totalSupply:"",aInLpAmount:"0",bInLpAmount:"0",shares:"0"}),f=async()=>{const b=await p();l.value={...l.value,...b},l.value.loading=!1};return se(()=>{f()}),(b,r)=>{const y=R("van-loading");return i(),v("div",rs,[l.value.loading?(i(),v("div",gs,[g(y)])):(i(),v("div",{key:0,class:"cursor-pointer",onClick:r[0]||(r[0]=a=>c("change",3,s.pair))},[e("div",us,[e("div",ms,[e("div",ps,[g(re,{src:l.value.iconA,class:"-mr-2 w-6 h-6",size:26},null,8,["src"]),g(re,{src:l.value.iconB,class:"w-6 h-6",size:26},null,8,["src"])]),e("div",fs,n(l.value.symbolA)+"-"+n(l.value.symbolB),1)]),e("div",vs,n(l.value.pairBalance),1)]),e("div",ws,n(t(C)(new t(k)(l.value.aInLpAmount).multipliedBy(+l.value.shares/100).toFixed(),6))+n(l.value.symbolA)+"/ "+n(t(C)(new t(k)(l.value.bInLpAmount).multipliedBy(+l.value.shares/100).toFixed(),6))+n(l.value.symbolB),1)]))])}}}),st=T(hs,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/LiquidItem.vue"]]),bs={class:"lg:px-8 px-2.5 py-5"},xs={class:"flex-center-bw mb-[38px]"},ys={class:"text-[32px] font-bold"},_s={class:"mt-12 text-center"},ks={class:"flex-center"},$s=D({emits:["change"],setup(s,{emit:c}){const u=Je("pairList",[]);return se(()=>{}),(p,l)=>(i(),v("div",bs,[e("div",xs,[e("div",ys,n(p.$t("liquidity.yours")),1)]),e("div",null,[(i(!0),v(ne,null,ye(t(u),(f,b)=>(i(),O(st,{key:b,pair:f,onChange:r=>c("change",3,f)},null,8,["pair","onChange"]))),128))]),e("div",_s,n(p.$t("liquidity.noliquidit")),1),e("div",ks,[e("div",{onClick:l[0]||(l[0]=f=>c("change",2)),class:"border-[2px] border-solid border-config-sub rounded-2xl mt-2.5 cursor-pointer px-3 py-1 text-config-sub"},n(p.$t("liquidity.findOther")),1)]),g(z,{class:"mt-7",onClick:l[1]||(l[1]=f=>c("change",0))},{default:S(()=>[P(n(p.$t("trade.addLiquid")),1)]),_:1})]))}}),As=T($s,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/YourLiquid.vue"]]),Bs={key:0,class:"flex items-center gap-4"},Is={class:"text-2xl font-bold"},Ls=D({props:{icon:{type:String,required:!0},symbol:{type:String,required:!0},address:{type:String,required:!0},loading:{type:Boolean,required:!0}},emits:["change"],setup(s,{emit:c}){return(u,p)=>{const l=R("VanLoading"),f=R("van-icon");return i(),v("div",{class:"flex-center-bw p-4 dark:bg-[#061629] cursor-pointer",onClick:p[0]||(p[0]=b=>c("change"))},[s.loading?(i(),O(l,{key:1})):(i(),v("div",Bs,[g(re,{src:s.icon,class:"w-6",size:26},null,8,["src"]),e("div",Is,n(s.symbol),1)])),g(f,{name:"arrow-down",alt:"",class:"w-2.5 h-auto text-main"})])}}}),We=T(Ls,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/ImportItem.vue"]]),Ss={class:"text-sm lg:text-base"},Cs={class:"flex-center-bw mt-5"},Ts=e("div",null,"Value in USD",-1),qs={class:"text-main"},Ps={class:"flex-center-bw mt-2.5"},Rs={class:"text-main"},Ds={class:"flex-center-bw mt-2.5"},Us={class:"text-main"},Os={class:"flex-center-bw mt-2.5"},Es={class:"text-main"},Fs=D({props:{pair:{type:String,required:!0}},setup(s){const{pair:c}=s,[u,p]=te(!1),l=de({shares:"0",symbolA:"",symbolB:"",aInLpAmount:"0",bInLpAmount:"0",lpPrice:"0",pairBalance:"0"}),{getLiquidInfo:f}=Te(c);return se(async()=>{p(!0);const b=await f();l.value={...b},console.log(l.value),p(!1)}),(b,r)=>(i(),v(ne,null,[g(st,{pair:s.pair},null,8,["pair"]),e("div",Ss,[e("div",Cs,[Ts,e("div",qs,n(t(C)(new t(k)(l.value.lpPrice).multipliedBy(l.value.pairBalance).toString()||"0",9)),1)]),e("div",Ps,[e("div",null,n(b.$t("liquidity.shareInLp")),1),e("div",Rs,n(+l.value.shares)+"%",1)]),e("div",Ds,[e("div",null,n(b.$t("liquidity.tokenInPool",{symbol:l.value.symbolA})),1),e("div",Us,n(l.value.aInLpAmount),1)]),e("div",Os,[e("div",null,n(b.$t("liquidity.tokenInPool",{symbol:l.value.symbolB})),1),e("div",Es,n(l.value.bInLpAmount),1)])])],64))}}),ot=T(Fs,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/UserLp.vue"]]),Vs={class:"lg:px-8 px-2.5 py-5"},Ns={class:"flex-center-bw mb-[38px]"},Ms={class:"text-[32px] font-bold"},Hs=e("div",null,null,-1),Ys=e("div",{class:"flex-center py-8"},[e("img",{src:It,class:"w-6 h-6",alt:""})],-1),Ws={key:0},Ks={key:0},zs={class:"mt-12 text-center"},js={class:"flex-center"},Qs={key:1,class:"mt-[38px]"},Xs={class:"font-bold"},Gs={key:1,class:"flex-center"},Zs=D({emits:["change"],setup(s,{emit:c}){const u=Je("pairList",[]),[p,l]=te(!1),{getPair:f}=Xe(),b=o=>{r.tokenSelectIndex=o,l(!0)},r=N({loading:!0,tokenA:q.tokens[0].address,tokenB:q.tokens[1].address,symbolA:"",symbolB:"",iconA:"",iconB:"",pair:"",pairBalance:"0",totalSupply:"0",havePair:!1,shares:"0",aInLpAmount:"0",bInLpAmount:"0",tokenSelectIndex:0}),y=async()=>{var o,x;r.loading=!0,r.symbolA=await U(r.tokenA).symbol(),r.symbolB=await U(r.tokenB).symbol(),r.iconA=((o=q.tokens.find($=>W($.address,r.tokenA)))==null?void 0:o.logoURI)||null,r.iconB=((x=q.tokens.find($=>W($.address,r.tokenB)))==null?void 0:x.logoURI)||null,r.pair=await f(r.tokenA,r.tokenB),r.havePair=!W(r.pair,Ze),r.havePair&&u.value.findIndex(F=>W(F,r.pair))===-1&&u.value.push(r.pair),r.loading=!1},a=o=>{r.tokenSelectIndex===0?(r.tokenA=o.address,r.iconA=o.logoURI,r.symbolA=o.symbol):(r.tokenB=o.address,r.iconB=o.logoURI,r.symbolB=o.symbol),y()};return se(()=>{y()}),(o,x)=>{const $=R("van-icon"),F=R("VanLoading");return i(),v("div",Vs,[e("div",{class:"flex items-center text-main gap-3 cursor-pointer",onClick:x[0]||(x[0]=V=>c("change",1))},[g($,{name:"down",class:"rotate-90"}),P(" "+n(o.$t("common.back")),1)]),e("div",Ns,[e("div",Ms,n(o.$t("liquidity.importLP")),1)]),Hs,g(We,{address:t(r).tokenA,symbol:t(r).symbolA,icon:t(r).iconA,onChange:x[1]||(x[1]=V=>b(0)),loading:t(r).loading},null,8,["address","symbol","icon","loading"]),Ys,g(We,{address:t(r).tokenB,symbol:t(r).symbolB,icon:t(r).iconB,onChange:x[2]||(x[2]=V=>b(1)),loading:t(r).loading},null,8,["address","symbol","icon","loading"]),t(r).loading?(i(),v("div",Gs,[g(F,{size:"30"})])):(i(),v("div",Ws,[t(r).havePair?(i(),v("div",Qs,[e("div",Xs,n(o.$t("liquidity.yourLpToken")),1),g(ot,{pair:t(r).pair},null,8,["pair"])])):(i(),v("div",Ks,[e("div",zs,n(o.$t("liquidity.noPair")),1),e("div",js,[e("div",{onClick:x[3]||(x[3]=V=>c("change",0)),class:"border-[2px] border-solid border-config-sub rounded-2xl mt-2.5 cursor-pointer px-3 py-1 text-config-sub"},n(o.$t("liquidity.add")),1)])]))])),g(nt,{show:t(p),tokenA:t(r).tokenA,tokenB:t(r).tokenB,onClose:x[4]||(x[4]=V=>t(l)(!1)),onConfirmSelectToken:a},null,8,["show","tokenA","tokenB"])])}}}),Js=T(Zs,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/ImportLp.vue"]]),eo={class:"flex-center-bw"},to={class:"flex items-center gap-2"},no={class:"font-bold"},so={class:"flex justify-end gap-5 items-center"},oo={class:"font-bold lg:text-[32px]"},ao={class:"text-main"},io=D({props:{icon:{type:String,required:!0},symbol:{type:String,required:!0},amount:{type:String,required:!0},percent:{type:String,required:!0}},setup(s){return(c,u)=>(i(),v("div",eo,[e("div",to,[g(re,{src:s.icon,size:24,class:"w-6 h-6"},null,8,["src"]),e("div",no,n(s.symbol),1)]),e("div",so,[e("div",oo,n(t(C)(s.amount,18)),1),e("div",ao,n(t(C)(+s.percent*100))+"%",1)])]))}}),Ke=T(io,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/RemoveItem.vue"]]),lo={class:"bg-white box-shadow rounded-2xl w-[320px] lg:w-[390px] text-black px-5 py-7"},co={class:"flex-center-bw h-10 font-bold text-2xl"},ro={class:"flex-center-bw h-[53px]"},uo={class:"text-3xl font-bold"},mo={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},po={class:"text-lg"},fo={class:"flex-center-bw h-[53px]"},vo={class:"text-3xl font-bold"},wo={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},go={class:"text-lg"},ho=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),bo={class:"text-[#646464] text-xs"},xo=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),yo={class:"border border-solid border-[#29AAC7] rounded-[10px] p-2.5"},_o={class:"flex-center-bw"},ko={class:"text-[#29AAC7]"},$o={class:"text-[#29AAC7]"},Ao=D({props:{show:{type:Boolean,required:!0},tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},removeAmount:{type:null,required:!0}},emits:["close","confirmRemove"],setup(s,{emit:c}){const{show:u,removeAmount:p}=s;return(l,f)=>{const b=R("van-icon"),r=R("VanImage"),y=R("VanPopup");return i(),O(y,{show:s.show,"onUpdate:show":f[2]||(f[2]=a=>Se(u)?u.value=a:null),class:"bg-transparent",rounded:"",onClickOverlay:f[3]||(f[3]=a=>c("close")),onClickCloseIcon:f[4]||(f[4]=a=>c("close"))},{default:S(()=>[e("div",lo,[e("div",co,[e("div",null,n(l.$t("liquidity.confirmRemove")),1),g(b,{name:"cross",onClick:f[0]||(f[0]=a=>c("close"))})]),e("div",ro,[e("div",uo,n(t(fe)(t(C)(s.tokenA.amount,8))),1),e("div",mo,[g(r,{src:s.tokenA.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",po,n(s.tokenA.symbol),1)])]),g(b,{name:"plus",class:"block text-3xl text-center my-1"}),e("div",fo,[e("div",vo,n(t(fe)(t(C)(s.tokenB.amount,8))),1),e("div",wo,[g(r,{src:s.tokenB.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",go,n(s.tokenB.symbol),1)])]),ho,e("div",bo,n(l.$t("liquidity.removeTip")),1),xo,e("div",yo,[e("div",_o,[e("div",ko,n(l.$t("liquidity.hasRemove")),1),e("div",null,[P(n(t(fe)(t(C)(s.removeAmount)))+" ",1),e("span",$o,n(`${s.tokenA.symbol}/ ${s.tokenB.symbol}`),1)])])]),g(z,{class:"mt-[15px]",loading:!1,disabled:!1,onClick:f[1]||(f[1]=a=>c("confirmRemove"))},{default:S(()=>[P(n(l.$t("liquidity.confirmRemove")),1)]),_:1})])]),_:1},8,["show"])}}}),Bo=T(Ao,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/ConfirmRemovePop.vue"]]);const at=s=>(gt("data-v-b3f31562"),s=s(),ht(),s),Io={class:"pt-5"},Lo={class:"text-center -mt-4 font-bold text-main text-[32px]"},So=at(()=>e("div",{class:"bg w-[27px] h-[27px] rounded-full flex-center"},[e("div",{class:"w-4 h-4 bg-white rounded-full"})],-1)),Co={key:0,class:"px-3 py-4 mt-8 border border-solid border-config-sub rounded-xl"},To=at(()=>e("div",{class:"text-config-sub"},"Remaining LP Tokens",-1)),qo={class:"flex items-center gap-2.5 mt-2"},Po={class:"flex items-center"},Ro={class:"font-bold lg:text-lg"},Do={class:"flex-1 font-bold text-right lg:text-lg"},Uo={class:"py-8 flex-center"},Oo={key:1},Eo={key:0,class:"px-3 py-4 mt-8 border border-solid border-config-sub rounded-xl"},Fo={class:"text-config-sub"},Vo={class:"mt-3 text-right"},No={class:"mt-3 text-right"},Mo={class:"mt-5 flex-center-bw"},Ho={class:"text-main"},Yo={key:2,class:"flex-center"},Wo={key:0},Ko={key:1},zo=D({props:{pair:{type:String,required:!0}},setup(s){const{pair:c}=s,[u,p]=te(!1),{getCurrentAccount:l}=ae(),{getLiquidInfo:f}=Te(c),{removeLiquidity:b,removeLiquidityETH:r}=et(),y=N({slip:.5,time:10,mode:!1}),a=de({btnLoading:!1,percent:0,percentList:[.25,.5,.75,1],loading:!0,pairBalance:"0",pairAllowance:0,tokenA:"",tokenB:"",symbolA:"",symbolB:"",iconA:"",iconB:"",amountA:"0",amountB:"0",totalSupply:"",aInLpAmount:"0",bInLpAmount:"0",aPercent:"0",bPercent:"0",decimalA:0,decimalB:0,shares:"0"}),o=K(()=>new k(a.value.aInLpAmount).multipliedBy(+a.value.shares/100).multipliedBy(a.value.percent/100).toFixed()),x=K(()=>new k(a.value.bInLpAmount).multipliedBy(+a.value.shares/100).multipliedBy(a.value.percent/100).toFixed()),$=K(()=>new k(a.value.pairBalance).div(100).multipliedBy(a.value.percent).toString()),F=K(()=>+a.value.pairAllowance>+$.value&&a.value.pairAllowance>0),V=L=>{a.value.percent=L},j=L=>{a.value.percent=L*100},[Q,X]=te(!1),I=L=>{y.slip=L},d=L=>{y.time=L},m=L=>{y.mode=L},A=async()=>{const L=await f();a.value={...a.value,...L},await ee(),a.value.loading=!1},ee=async()=>{a.value.pairAllowance=await U(c).allowance(q.PANCAKE_ROUTER)},w=async()=>{if(!F.value)return M();p(!0)},B=async()=>{p(!1),a.value.btnLoading=!0;const L=W(a.value.tokenA,q.BNB),H=W(a.value.tokenB,q.BNB);let oe;if(L||H){const ue=L?a.value.tokenB:a.value.tokenA,ie=L?o.value:x.value,G=L?x.value:o.value,_e=L?a.value.decimalB:a.value.decimalA;console.log(ie),console.log(G),oe=await r(ue,new k($.value).toFixed(18),new k(G).multipliedBy(1-y.slip).toFixed(18),new k(ie).multipliedBy(1-y.slip).toFixed(_e),l(),y.time)}else oe=await b(a.value.tokenA,a.value.tokenB,new k($.value).toFixed(18),new k(o.value).multipliedBy(1-y.slip).toFixed(a.value.decimalA),new k(x.value).multipliedBy(1-y.slip).toFixed(a.value.decimalB),l(),y.time);if(a.value.btnLoading=!1,!oe.success){p(!0);return}await A()},M=async()=>{a.value.btnLoading=!0,await U(c).approve(q.PANCAKE_ROUTER),await ee(),a.value.btnLoading=!1};return se(()=>{A()}),(L,H)=>{const oe=R("van-slider"),ue=R("van-icon"),ie=R("van-loading");return i(),v("div",Io,[g(Lt,{onOpen:H[0]||(H[0]=G=>t(X)(!0))},{default:S(()=>[P(n(L.$t("liquidity.remove")),1)]),_:1}),e("div",Lo,n(a.value.percent)+"%",1),g(oe,{class:"mt-8 mx-auto w-[95%]",modelValue:a.value.percent,"onUpdate:modelValue":H[1]||(H[1]=G=>a.value.percent=G),disabled:a.value.btnLoading,barHeight:"16","inactive-color":" #46598b",onChange:V},{button:S(()=>[So]),_:1},8,["modelValue","disabled"]),g(St,{percentList:a.value.percentList,percent:a.value.percent,onChange:j},null,8,["percentList","percent"]),a.value.loading?J("v-if",!0):(i(),v("div",Co,[To,e("div",qo,[e("div",Po,[g(re,{src:a.value.iconA,class:"w-6 h-6 -mr-2",size:26},null,8,["src"]),g(re,{src:a.value.iconB,class:"w-6 h-6",size:26},null,8,["src"])]),e("div",Ro,n(a.value.symbolA)+"-"+n(a.value.symbolB),1),e("div",Do,[e("div",null,n(t($)||"0"),1)])])])),e("div",Uo,[g(ue,{name:"down",size:"24",class:"text-main"})]),a.value.loading?(i(),v("div",Yo,[g(ie,{size:"30"})])):(i(),v("div",Oo,[e("div",null,[g(Ke,{icon:a.value.iconA,symbol:a.value.symbolA,amount:t(o),percent:a.value.aPercent},null,8,["icon","symbol","amount","percent"]),g(Ke,{class:"mt-5",icon:a.value.iconB,symbol:a.value.symbolB,amount:t(x),percent:a.value.bPercent},null,8,["icon","symbol","amount","percent"])]),a.value.loading?J("v-if",!0):(i(),v("div",Eo,[e("div",Fo,n(L.$t("trade.token.rate")),1),e("div",Vo," 1 "+n(a.value.symbolA)+" = "+n(new t(k)(a.value.aPercent).div(a.value.bPercent))+" "+n(a.value.symbolB),1),e("div",No," 1 "+n(a.value.symbolB)+" = "+n(new t(k)(a.value.bPercent).div(a.value.aPercent))+" "+n(a.value.symbolA),1)])),e("div",Mo,[e("div",Ho,n(L.$t("trade.token.slippageLimit")),1),e("div",null,n(t(y).slip)+"%",1)])])),g(z,{class:"mt-7",loading:a.value.btnLoading,onClick:w},{default:S(()=>[t(F)?(i(),v("span",Ko,n(L.$t("liquidity.remove")),1)):(i(),v("span",Wo,"Approve LP"))]),_:1},8,["loading"]),g(tt,{show:t(Q),onClose:H[2]||(H[2]=G=>t(X)(!1)),timeValue:t(y).time,slipValue:t(y).slip,modeValue:t(y).mode,"onUpdate:slipValue":I,"onUpdate:timeValue":d,onChangeMode:m},null,8,["show","timeValue","slipValue","modeValue"]),g(Bo,{show:t(u),onClose:H[3]||(H[3]=G=>t(p)(!1)),onConfirmRemove:B,removeAmount:t($),tokenA:{amount:t(o),logoURI:a.value.iconA,symbol:a.value.symbolA},tokenB:{amount:t(x),logoURI:a.value.iconB,symbol:a.value.symbolB}},null,8,["show","removeAmount","tokenA","tokenB"])])}}}),jo=T(zo,[["__scopeId","data-v-b3f31562"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/Remove.vue"]]),Qo={class:"lg:px-8 px-2.5 py-5"},Xo=D({props:{pair:{type:String,required:!0}},setup(s){const c=bt("handleChangeTab"),[u,p]=te(!1),l=()=>{u.value?p(!1):(console.log("123"),c(1))};return(f,b)=>{const r=R("van-icon");return i(),v("div",Qo,[e("div",{class:"flex items-center gap-3 cursor-pointer text-main",onClick:l},[g(r,{name:"down",class:"rotate-90"}),P(" "+n(f.$t("common.back")),1)]),Ee(e("div",null,[g(ot,{pair:s.pair},null,8,["pair"]),g(z,{class:"mt-10",onClick:b[0]||(b[0]=y=>t(p)(!0))},{default:S(()=>[P(n(f.$t("liquidity.remove")),1)]),_:1})],512),[[Fe,!t(u)]]),Ee(g(jo,{pair:s.pair},null,8,["pair"]),[[Fe,t(u)]])])}}}),Go=T(Xo,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/components/LpDetail.vue"]]),Zo={class:"mt-4 lg:mt-0 lg:min-w-[600px]"},Jo=D({setup(s){const c=de(0),u=de(""),p=(l,f="")=>{console.log(l,f),u.value=f,c.value=l};return xt("handleChangeTab",p),(l,f)=>(i(),v("div",Zo,[g(ve,null,{default:S(()=>[c.value<2?(i(),O(Ct,{key:0,"current-tab":c.value,onChange:p},null,8,["current-tab"])):J("v-if",!0),c.value===0?(i(),O(Tt,{key:1})):c.value===1?(i(),O(As,{key:2,onChange:p})):c.value===2?(i(),O(Js,{key:3,onChange:p})):(i(),O(Go,{key:4,pair:u.value,onChange:p},null,8,["pair"]))]),_:1})]))}}),ea=T(Jo,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/liquidity/AddLiquidity.vue"]]),ta={},na={class:"font-semibold text-[24px] font-Mukta"},sa={class:"mt-4 text-xs leading-5"};function oa(s,c){return i(),v("div",null,[e("div",na,"Plutus Protocol"+n(s.$t("nft.Plutus Protocol")),1),e("div",sa,n(s.$t("nft.nftIntro")),1)])}const aa=T(ta,[["render",oa],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/nft/components/NftIntroduce.vue"]]),ia=""+new URL("../images/nft-event-2cf96c0c.png",import.meta.url).href,la={class:"px-5 mt-6 text-center bg-box py-7 rounded-xl"},ca=e("div",{class:"flex-center"},[e("img",{src:ia,alt:"",class:"w-[170px] aspect-[170 / 128]"})],-1),da={class:"mt-5 text-xl font-bold colors-1"},ra={class:"mt-4 text-xs leading-5"},ua={class:"flex gap-2 mt-4 text-xs"},ma={class:"leading-5 text-left text-config-sub"},pa={class:"grid flex-1 grid-cols-4 leading-5 border border-solid border-[#46598B] border-r-0"},fa={class:"border-b border-solid border-[#46598B]"},va={class:"scale-75 sm:scale-100"},wa={class:"border-b border-solid border-[#46598B]"},ga={class:"scale-75 sm:scale-100"},ha={class:"scale-75 sm:scale-100"},ba=D({setup(s){const c=N({levelList:[{level:"S2",lpValue:"$1000",reward:"Common"},{level:"S3",lpValue:"$1500",reward:"Rare"},{level:"S4",lpValue:"$2000",reward:"Epic"},{level:"S5",lpValue:"$2500",reward:"Legendary"}]});return(u,p)=>(i(),v("div",la,[ca,e("div",da,n(u.$t("nft.airdropEvent")),1),e("div",ra,n(u.$t("nft.airdropEventIntro")),1),e("div",ua,[e("div",ma,[e("div",null,n(u.$t("nft.Level")),1),e("div",null,n(u.$t("nft.Lp Value held")),1),e("div",null,n(u.$t("common.reward")),1)]),e("div",pa,[(i(!0),v(ne,null,ye(t(c).levelList,l=>(i(),v("div",{key:l.level,class:"border-r border-solid border-[#46598B]"},[e("div",fa,[e("div",va,n(l.level),1)]),e("div",wa,[e("div",ga,n(l.lpValue),1)]),e("div",ha,n(l.reward),1)]))),128))])])]))}}),xa=T(ba,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/nft/components/AirdropEvent.vue"]]),it="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALNSURBVHgBxVfdcdpAEN47UQCe2E8GLCowJZAOkgpCKkg6ACpIXIHtCpwOoIOQCiR+noIdkWej3eyudCAIAgmY8TfDSEJ7+93t3X67AngjmDLGfhRUASqtGMg3SH7698JaOwJYjsKL5qKor0LEfjRtx0RdIGrv92aGgPA4vWw8wCnEOwnFOUFogMbyiIRVY73brUmFnsX3HIGwNHEtmnYNYi81CvlyZy0+5IWTt8GPY2gbY7vEjzrO2t7kot6HohDS+suY5Fd7Dr4ne1sctXnQc+Mb7KvYoJS08TKO6s/BBzgSMlZ95JBvhFrDhTbQB8KP08vmDzgBOnFjn+TeQ97zq+bQvbNZQyYd6GwQ+0VJZTV5kREfRHCnvj2vmze7ThriAAqiHk3u0zE/82zkfIhPsfPnQdv9v16x9T7JhcgUOoVCyrnUMSog+DnPLs2C/1Zt3axcHnpePIRypJKvo332koZ6wxwuQ5R4yTKoL1gc9iX9MaQCXbUIT0LWWhFbxFYyIfp1blIH1nZVuth4/oqY4ZafK/KNaPLtWNKEWdWPF04bxAeBSH/lynIIr69wMpSYCMN0Wjd5hrN3Nz0WlUe+rVrPDq5/By0oBye7iwxxEgYyibjngQWhcyw5GXOrhIijFXGlAsl+ZY77OclFildlM+VS4uxxR7SdQ47Kkku51JskXdehFlAcq2Lx4flSpAxukT/tNeYarVfuTna+r/+ZDJI6yqlTELX5uHc9D77mvl+X2Y0aYDadBG3uGrRCnb0sWmxmVXEjj2dcL4lLYjIle39qIyA+1BX7PCTFiqNalxRaBlnlVuPZ1y47s4+cw+5IQ07EvlSuvJkLoWSEHE5wzR6vdHLV7JUiTp357GzgusZkhLS3NOKBqYSy2onwbLXAkiWzTKtTithBuhNtFAo09IcISxE7SDiXXE/5k0UEQ3NddF4kV9SvzCfMm+Efe9DVyQB4KOsAAAAASUVORK5CYII=",qe=()=>{const s=yt();return{tokenIds:async()=>{try{return await s._tokenIds()}catch{return 0}},usdt:async()=>{try{return await s.usdt()}catch(o){return pe(o)}},mint:async o=>{try{const x=await s.mint(o);return Ve(x)}catch(x){return He(x),pe(x)}},tokenAmount:async o=>{try{return await s._tokenAmount(o)}catch(x){return pe(x)}},recive:async o=>{try{const x=await(await s.recive(o)).wait();return Ve(x)}catch(x){return He(x),pe(x)}},balanceOf:async o=>{try{return await s.balanceOf(ae().getCurrentAccount(),o)}catch{return 0}},whiteList:async o=>{try{return await s._wihteList(ae().getCurrentAccount(),o)}catch(x){return pe(x)}},_hasMint:async(o,x)=>{try{return await s._hasMint(x||ae().getCurrentAccount(),o)}catch{return!1}},_hasRecive:async(o,x)=>{try{return await s._hasRecive(x||ae().getCurrentAccount(),o)}catch{return!1}}}},ya={class:"p-4"},_a={class:"text-2xl font-semibold"},ka={class:"mt-5 flex-center-bw"},$a=e("img",{src:it,alt:"",class:"w-5"},null,-1),Aa=[$a],Ba=["src"],Ia=e("img",{src:it,alt:"",class:"w-5"},null,-1),La=[Ia],Sa={class:"gap-3 mt-5 flex-center"},Ca={class:"p-2.5 text-center text-xs"},Ta={class:"mt-2 colors-1"},qa={class:"p-2.5 text-center text-xs"},Pa={class:"mt-2 colors-1"},Ra={class:"mt-4 text-xs flex-center-bw"},Da={class:"text-xs flex-center-bw mt-2.5"},Ua=P(" Approve "),Oa={key:0},Ea={key:1},Fa={key:0},Va={key:1},Na={key:2},Ma=D({props:{nft:{type:null,required:!0},loading:{type:Boolean,required:!0},usdt:{type:String,required:!0},allowance:{type:Number,required:!0}},emits:["pre","next","approveSuccess","purchase"],setup(s,{emit:c}){const u=s,{balanceOf:p,mint:l,tokenAmount:f,recive:b,whiteList:r,_hasMint:y,_hasRecive:a}=qe(),o=N({btnLoading:!1,cliamLoading:!1,isHold:!1,isWhite:!1,hasMint:!1,hasRecive:!1}),x=async()=>{o.isWhite=await r(u.nft.id)},$=async()=>{o.hasMint=await y(u.nft.id)},F=async()=>{o.hasRecive=await a(u.nft.id)},V=async()=>{const I=await p(u.nft.id);o.isHold=I.toString()!=="0"},j=async()=>{o.cliamLoading=!0,(await b(u.nft.id)).success&&_t("success"),o.cliamLoading=!1},Q=async()=>{o.btnLoading=!0,await U(u.usdt).approve(q.NFT),c("approveSuccess"),o.btnLoading=!1},X=async()=>{o.btnLoading=!0,o.cliamLoading=!0,await V(),await x(),await $(),await F(),o.btnLoading=!1,o.cliamLoading=!1};return se(()=>X()),(I,d)=>(i(),v("div",ya,[e("div",_a,n(s.nft.name),1),e("div",ka,[e("div",{onClick:d[0]||(d[0]=m=>c("pre"))},Aa),e("div",null,[e("img",{src:s.nft.img,alt:""},null,8,Ba)]),e("div",{class:"rotate-180",onClick:d[1]||(d[1]=m=>c("next"))},La)]),e("div",Sa,[g(ve,null,{default:S(()=>[e("div",Ca,[e("div",null,n(I.$t("nft.addingProfits")),1),e("div",Ta,n(s.nft.profit)+"%",1)])]),_:1}),g(ve,null,{default:S(()=>[e("div",qa,[e("div",null,n(I.$t("addingLiquidity")),1),e("div",Pa,n(s.nft.liquidity)+"%",1)])]),_:1})]),e("div",Ra,[e("div",null,n(I.$t("trade.swapDetail.price")),1),e("div",null,"USDT "+n(t(xe)(+s.nft.price)),1)]),e("div",Da,[e("div",null,n(I.$t("nft.Rarity")),1),e("div",null,n(I.$t(`nft.${s.nft.rarity}`)),1)]),s.allowance===0||s.allowance<+s.nft.price?(i(),O(z,{key:0,class:"mt-5",onClick:Q,loading:t(o).btnLoading||s.loading},{default:S(()=>[Ua]),_:1},8,["loading"])):(i(),O(z,{key:1,class:"mt-5",onClick:d[2]||(d[2]=m=>c("purchase",s.nft)),loading:t(o).btnLoading||s.loading,disabled:t(o).isHold||t(o).hasMint},{default:S(()=>[t(o).isHold?(i(),v("span",Ea,n(I.$t("nft.owned")),1)):(i(),v("span",Oa,n(I.$t("nft.Purchase")),1))]),_:1},8,["loading","disabled"])),g(z,{class:"mt-5",onClick:j,loading:t(o).cliamLoading||s.loading,disabled:!t(o).isWhite||t(o).hasRecive},{default:S(()=>[t(o).isWhite?J("v-if",!0):(i(),v("span",Fa,n(I.$t("nft.notEligible")),1)),t(o).hasRecive?(i(),v("span",Va,n(I.$t("ido.Claimed")),1)):(i(),v("span",Na,n(I.$t("ido.Claim")),1))]),_:1},8,["loading","disabled"])]))}}),Ha=T(Ma,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/nft/components/NftItem.vue"]]),Ya={class:"bg-white box-shadow rounded-2xl w-[320px] lg:w-[390px] text-black px-5 py-7"},Wa={class:"font-bold"},Ka={class:"bg-[#e4eef8] rounded-xl py-5 px-3 flex-center gap-2 mt-4"},za=["src"],ja={class:"font-bold"},Qa={class:"mt-4 flex-center-bw"},Xa={class:"text-[#646464] text-sm"},Ga={class:"font-bold text-config-sub"},Za={class:"flex-center-bw mt-2.5"},Ja={class:"text-[#646464] text-sm"},ei={class:"font-bold text-config-sub"},ti={class:"mt-5 flex-center-bw"},ni={class:"font-bold text-config-sub"},si={class:"font-bold text-config-sub"},oi=D({props:{nft:{type:null,required:!0},show:{type:Boolean,required:!0}},emits:["close","confirm"],setup(s,{emit:c}){return(u,p)=>{const l=R("VanPopup");return i(),O(l,{show:s.show,"onUpdate:show":p[1]||(p[1]=f=>Se(show)?show.value=f:null),class:"bg-transparent",rounded:"",onClickOverlay:p[2]||(p[2]=f=>c("close")),onClickCloseIcon:p[3]||(p[3]=f=>c("close"))},{default:S(()=>[e("div",Ya,[e("div",Wa,n(u.$t("nft.ReviewPurchase")),1),e("div",Ka,[e("img",{class:"w-[44px]",src:s.nft.img,alt:""},null,8,za),e("div",ja,n(s.nft.name),1)]),e("div",Qa,[e("div",Xa,n(u.$t("nft.price")),1),e("div",Ga,"USDT "+n(t(xe)(+s.nft.price,2)),1)]),e("div",Za,[e("div",Ja,n(u.$t("trade.swapDetail.networkFee")),1),e("div",ei,n(t(xe)(0,2)),1)]),e("div",ti,[e("div",ni,n(u.$t("nft.willPay")),1),e("div",si,"USDT "+n(t(xe)(+s.nft.price)),1)]),g(z,{class:"mt-[15px]",loading:!1,disabled:!1,onClick:p[0]||(p[0]=f=>c("confirm"))},{default:S(()=>[P(n(u.$t("nft.confirm")),1)]),_:1})])]),_:1},8,["show"])}}}),ai=T(oi,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/nft/components/PurchasePop.vue"]]),ii={class:"bg-box rounded-lg p-5 text-center font-Mukta"},li={class:"colors-1 text-2xl font-semibold"},ci={class:"flex-center-bw mt-4"},di={class:"flex items-center gap-2"},ri=["src"],ui={class:"text-xl"},mi={key:1,class:"text-[#46598B] text-md mt-2"},pi=D({props:{nftList:{type:Array,required:!0}},setup(s){const c=s,u=N({nfts:[],loading:!0}),{balanceOf:p}=qe(),l=async()=>{for(let b of c.nftList){const r=await f(b.id);r>0&&u.nfts.push({nftBlanace:r,...b})}},f=async b=>+await p(b);return se(async()=>{u.loading=!0,await l(),u.loading=!1}),(b,r)=>{const y=R("VanLoading");return i(),v("div",ii,[e("div",li,n(b.$t("nft.myNft")),1),(i(!0),v(ne,null,ye(t(u).nfts,a=>(i(),v("div",ci,[e("div",di,[e("img",{src:a.img,class:"w-11 h-auto"},null,8,ri),e("span",ui,n(a.name),1)]),e("div",null,n(a.nftBlanace),1)]))),256)),t(u).loading?(i(),O(y,{key:0})):J("v-if",!0),t(u).nfts.length===0&&!t(u).loading?(i(),v("div",mi,n(b.$t("nft.dontHaveNft")),1)):J("v-if",!0)])}}}),fi=T(pi,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/nft/components/MyNfts.vue"]]),vi={class:"lg:px-8 px-2.5 py-5 lg:w-[800px]"},wi=D({setup(s){const{setLoadingInfo:c,loadingShowToggle:u,loadingToggle:p}=Ge(),{balanceOf:l,mint:f,tokenAmount:b,usdt:r}=qe();Qe();const{t:y}=Ce(),{addWait:a}=ze(),o=N({loading:!1,usdt:"",allowance:0,selectNft:null,purchaseShow:!1}),x=K(()=>[{id:1,name:"Plutus Common",img:be("nft/0001.png"),profit:"20",liquidity:"120",price:"1000",rarity:"Common"},{id:2,name:"Plutus Rare",img:be("nft/0002.png"),profit:"40",liquidity:"130",price:"2000",rarity:"Rare"},{id:3,name:"Plutus Epic",img:be("nft/0003.png"),profit:"60",liquidity:"140",price:"4000",rarity:"Epic"},{id:4,name:"Plutus Legendary",img:be("nft/0004.png"),profit:"80",liquidity:"150",price:"8000",rarity:"Legendary"}]),$=de(),F=()=>{var m;(m=$.value)==null||m.prev()},V=()=>{var m;(m=$.value)==null||m.next()},j=async()=>{o.usdt=await r()},Q=async()=>{o.loading=!0,o.allowance=await U(o.usdt).allowance(q.NFT),o.loading=!1},X=async m=>{o.selectNft=m,o.purchaseShow=!0},I=K(()=>({confirmingTitle:y("nft.confirming"),confirmSuccessTitle:y("swap.txSubmitted"),confirmingText:y("swap.waitConfirm"),confirmedText:y("nft.confirmingText"),confirmingMainDes:"",confirmedMainDes:"",confirmingSubDes:y("swap.swapConfirmTx"),txId:""})),d=async()=>{o.purchaseShow=!1,u(!0,I.value),p(!0);const m=await f(o.selectNft.id);if(p(!1),a(m.result,!0),m.success)I.value.txId=m.result.hash,I.value.confirmingSubDes=y("swap.viewOnScan"),c(I.value);else{u(!1),m.result.error||(o.purchaseShow=!0);return}};return se(async()=>{o.loading=!0,await j(),await Q(),o.loading=!1}),(m,A)=>{const ee=R("van-swipe-item"),w=R("van-swipe");return i(),v("div",vi,[g(aa),g(xa),g(ve,{class:"mt-8"},{default:S(()=>[g(w,{ref:(B,M)=>{M.swipeRef=B,$.value=B}},{indicator:S(({active:B,total:M})=>[]),default:S(()=>[(i(!0),v(ne,null,ye(t(x),B=>(i(),O(ee,{key:B.name},{default:S(()=>[g(Ha,{nft:B,onPre:F,onNext:V,usdt:t(o).usdt,loading:t(o).loading,allowance:t(o).allowance,onApproveSuccess:Q,onPurchase:X},null,8,["nft","usdt","loading","allowance"])]),_:2},1024))),128))]),_:1},512)]),_:1}),g(fi,{class:"mt-5",nftList:t(x)},null,8,["nftList"]),g(ai,{show:t(o).purchaseShow,nft:t(o).selectNft,onConfirm:d},null,8,["show","nft"])])}}}),gi=T(wi,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/nft/NFT.vue"]]),hi={class:"relative items-start justify-center lg:flex"},bi=D({setup(s){const c=kt(),u=je(),{t:p}=Ce(),l=K(()=>[{id:0,name:p("trade.swap"),disabled:!1,url:"/swap"},{id:1,name:p("trade.liquidity"),disabled:!1,url:"/add"},{id:2,name:"NFT",disabled:!1,url:"/nft"},{id:3,name:p("trade.perpetual"),disabled:!0}]),f=Ne({Swap:Ye,AddLiquidity:ea,RemoveLiquidity:qt,NFT:gi});Ne(Ye);const b=N({currentTab:u.meta.tab||0,currentComponent:"Swap"}),r=y=>{y.disabled||(b.currentTab=y.id,y.url&&c.push(y.url))};return Le(()=>u,y=>{try{b.currentTab=u.meta.tab||0}catch(a){console.log(a)}},{immediate:!0,deep:!0}),(y,a)=>(i(),v("div",hi,[g(At,{tabList:t(l),currentTab:t(b).currentTab,onChange:r,class:"lg:absolute lg:left-0"},null,8,["tabList","currentTab"]),J(" <Swap /> "),(i(),O($t(t(f)[t(u).name])))]))}}),Ai=T(bi,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/trade/Trade.vue"]]);export{Ai as default};
