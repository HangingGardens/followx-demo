import{_ as W,d as P,R as ne,o as a,E as Y,w as O,b as t,y as s,u as o,c as i,m as F,aq as se,ah as ae,j as w,a6 as C,an as _,ar as M,C as ie,p as X,l as j,q as le,P as y,h as r,F as J,g as K,as as de,z as ee,i as te,e as g,H as ce,k as N,a8 as re,L as ue,Z as ke,S as R,Q as q}from"./index-974bcf19.js";import{S as A,M as m,f as fe,w as ve,T as me,I as Ie,b as ge,c as _e}from"./ido-be7872de.js";import{_ as ye,T as he}from"./TokenImage-c19e1463.js";import"./toast-b079f2a6.js";const pe=n=>(X("data-v-23786d9e"),n=n(),j(),n),be={class:"px-5 py-7"},$e={class:"text-lg font-semibold pb-2.5"},we={class:"item"},xe={class:"key"},Te=pe(()=>t("img",{src:ye,class:"w-6 h-auto"},null,-1)),Se={key:1},Ce={class:"item"},De={class:"key"},Ee={class:"text-lg font-semibold py-4 pb-2.5"},Le={class:"item"},Be={class:"key"},Ve={key:0},Ae={key:1},Fe={class:"item"},We={class:"key"},Pe={key:1,class:"item"},He={class:"key"},Ue={class:"item"},qe={class:"key"},Oe={key:2,class:"item"},Re={class:"key"},Me={class:"text-lg font-semibold py-4 pb-2.5"},Ne={class:"item"},Xe={class:"key"},je={class:"item"},ze={class:"key"},Ge=F(" / "),Qe={class:"item"},Ze={class:"key"},Je={key:0},Ke={key:1},Ye=P({props:{tokenInfo:{type:null,required:!0}},setup(n){return ne(n,l=>{console.log(l)}),(l,I)=>(a(),Y(ie,null,{default:O(()=>{var k,h,f,x,D,L,E,u,e,p,b,v,$,T,H,B,U,c,S;return[t("div",be,[t("div",$e,s(l.$t("iod.Token TokenInformation")),1),t("div",we,[t("div",xe,s(l.$t("ido.Contract Address")),1),((k=n.tokenInfo)==null?void 0:k.status)===o(A).CLOSED?(a(),i("div",{key:0,class:"flex items-center",onClick:I[0]||(I[0]=z=>{var V;return o(ae)((V=n.tokenInfo)==null?void 0:V.donationToken)})},[F(s(o(se)((h=n.tokenInfo)==null?void 0:h.donationToken,"...",6,4)||"-")+" ",1),Te])):(a(),i("div",Se,"**********"))]),t("div",Ce,[t("div",De,s(l.$t("ido.Token")),1),t("div",null,s(((f=n.tokenInfo)==null?void 0:f.donationTokenSymbol)||"-"),1)]),t("div",Ee,s(l.$t("ido.Auction Information")),1),t("div",Le,[t("div",Be,s(l.$t("ido.Auction Type")),1),t("div",null,[((x=n.tokenInfo)==null?void 0:x.type)===o(m).WHITELIST?(a(),i("span",Ve,"Waitlist Auction")):(a(),i("span",Ae,"Fixed-Swap Auction"))])]),t("div",Fe,[t("div",We,s(l.$t("ido.Participant")),1),t("div",null,s(((D=n.tokenInfo)==null?void 0:D.whitelistFlag)===!0?"WhiteList":"Public"),1)]),w("v-if",!0),((L=n.tokenInfo)==null?void 0:L.type)===o(m).WHITELIST?(a(),i("div",Pe,[t("div",He,s(l.$t("ido.Allocation per Wallet")),1),t("div",null,s(o(C)(+o(_)(((u=(E=n.tokenInfo)==null?void 0:E.maxTokensPerBuyer)==null?void 0:u.toString())||"0"))),1)])):w("v-if",!0),t("div",Ue,[t("div",qe,s(l.$t("ido.Total Available Amount")),1),t("div",null,s(o(C)(o(_)(((p=(e=n.tokenInfo)==null?void 0:e.targetAmount)==null?void 0:p.toString())||"0"))),1)]),((b=n.tokenInfo)==null?void 0:b.type)===o(m).WHITELIST?(a(),i("div",Oe,[t("div",Re,s(l.$t("ido.PricePerUni")),1),t("div",null,s(o(C)(+o(_)((($=(v=n.tokenInfo)==null?void 0:v.tokenPrice)==null?void 0:$.toString())||"0"))),1)])):w("v-if",!0),t("div",Me,s(l.$t("iod.join TokenInformation")),1),t("div",Ne,[t("div",Xe,s(l.$t("ido.min")),1),t("div",null,s(o(C)(+o(_)(((H=(T=n.tokenInfo)==null?void 0:T.minimumPurchase)==null?void 0:H.toString())||"0"))),1)]),t("div",je,[t("div",ze,s(l.$t("ido.my")),1),t("div",null,[t("span",null,s(o(C)(+o(_)(((B=n.tokenInfo)==null?void 0:B.myDonatedAmount.toString())||"0"))),1),Ge,t("span",null,s(o(C)(+o(_)(((U=n.tokenInfo)==null?void 0:U.targetAmount.toString())||"0"))),1)])]),t("div",Qe,[t("div",Ze,s(l.$t("ido.deadline")),1),t("div",null,[(c=n.tokenInfo)!=null&&c.deadline?(a(),i("span",Je,s(o(M)((S=n.tokenInfo)==null?void 0:S.deadline)),1)):(a(),i("span",Ke,"-"))])])])]}),_:1}))}}),et=W(Ye,[["__scopeId","data-v-23786d9e"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/TokenInformation.vue"]]),tt={class:"px-5 mt-4 bg-box py-7 rounded-xl"},ot={class:"text-lg font-semibold pb-2.5"},nt={class:"grid grid-cols-3 gap-2 mt-4 g:gap-5"},st=["src"],at={class:"mt-5"},it={class:"text-lg font-semibold pb-2.5"},lt={class:"grid grid-cols-3 gap-2 mt-4 lg:gap-5"},dt=["src"],ct=P({setup(n){const d=le("isDark");console.log(d);const l=y(()=>[d.value?r("ido/paladin-dark.svg"):r("ido/paladin.svg"),d.value?r("ido/Binance-dark.svg"):r("ido/Binance.svg"),d.value?r("ido/certik-dark.svg"):r("ido/certik.svg"),d.value?r("ido/CoinGecko-dark.svg"):r("ido/CoinGecko.svg"),d.value?r("ido/Coinmarketcap-dark.svg"):r("ido/Coinmarketcap.svg")]),I=y(()=>[d.value?r("ido/dappradar.svg"):r("ido/dappradar-dark.svg"),d.value?r("ido/apeswap.svg"):r("ido/apeswap-dark.svg"),d.value?r("ido/seinetwork.svg"):r("ido/seinetwork-dark.svg"),d.value?r("ido/peckshield.svg"):r("ido/peckshield-dark.svg"),d.value?r("ido/rango.svg"):r("ido/rango-dark.svg")]);return(k,h)=>(a(),i("div",tt,[t("div",null,[t("div",ot,s(k.$t("ido.Investors")),1),t("div",nt,[(a(!0),i(J,null,K(o(l),f=>(a(),i("div",{key:f},[t("img",{src:f,class:"h-6 lg:h-16",alt:""},null,8,st)]))),128))])]),t("div",at,[t("div",it,s(k.$t("ido.partner")),1),t("div",lt,[(a(!0),i(J,null,K(o(I),f=>(a(),i("div",{key:f},[t("img",{src:f,class:"h-6 lg:h-16",alt:""},null,8,dt)]))),128))])])]))}}),rt=W(ct,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Investors.vue"]]);const ut=n=>(X("data-v-2096c424"),n=n(),j(),n),kt={class:"mt-8"},ft=ut(()=>t("div",{class:"text-lg font-semibold pb-2.5"},"Claim",-1)),vt={class:"flex-center-bw"},mt={class:"key"},It={class:"gap-2 flex-center"},gt={class:"font-bold text-[24px]"},_t={class:"text-main"},yt={class:"flex-center-bw"},ht={class:"key"},pt={class:"gap-2 flex-center"},bt={class:"font-bold text-[24px]"},$t={class:"text-main"},wt=P({props:{tokenInfo:{type:null,required:!0}},setup(n){return(d,l)=>{var I,k,h,f,x;return a(),i("div",kt,[ft,t("div",vt,[t("div",mt,s(d.$t("ido.purchased")),1),t("div",It,[t("span",gt,s(o(C)(+o(_)(((k=(I=n.tokenInfo)==null?void 0:I.myDonatedAmount)==null?void 0:k.toString())||"0"))),1),t("span",_t,s(((h=n.tokenInfo)==null?void 0:h.donationTokenSymbol)||"-"),1)])]),t("div",yt,[t("div",ht,s(d.$t("ido.Unextract")),1),t("div",pt,[t("span",bt,s((f=n.tokenInfo)==null?void 0:f.unExtracted),1),t("span",$t,s(((x=n.tokenInfo)==null?void 0:x.donationTokenSymbol)||"-"),1)])])])}}}),xt=W(wt,[["__scopeId","data-v-2096c424"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Claim.vue"]]);const oe=n=>(X("data-v-0359bdb8"),n=n(),j(),n),Tt={class:"mt-8"},St={class:"flex-center-bw"},Ct={class:"text-lg font-semibold"},Dt={class:"mt-5 text-sm text-right"},Et={key:0,class:"flex justify-end"},Lt={class:"mt-2 public"},Bt={class:"bg-box rounded-xl py-1.5 px-2 flex-center mt-5"},Vt={class:"dark:bg-[#061629] bg-box px-4 py-3.5 flex-center gap-2 rounded-xl cursor-pointer"},At={class:"font-bold text-baseColor"},Ft={class:"text-right text-[#46598B] mt-1"},Wt={key:1,class:"flex-center-bw mt-2.5"},Pt=oe(()=>t("div",{class:"text-[#ABB5CF]"},"Price per unit, $",-1)),Ht={key:2,class:"flex-center-bw mt-2.5"},Ut=oe(()=>t("div",{class:"text-[#ABB5CF]"},"Total",-1)),qt={key:3},Ot={key:0},Rt={key:1},Mt=P({props:{tokenInfo:{type:null,required:!0},modelValue:{type:[String,Number,null],required:!0},loading:{type:Boolean,required:!0},isAuth:{type:Boolean,required:!0},balance:{type:String,required:!0}},emits:["update:modelValue","handle"],setup(n,{emit:d}){const l=n,I=y(()=>{var u,e,p,b,v,$;return _(((e=(u=l.tokenInfo)==null?void 0:u.targetAmount)==null?void 0:e.toString())||((b=(p=l.tokenInfo)==null?void 0:p.totalSupply)==null?void 0:b.toString()))-_(($=(v=l.tokenInfo)==null?void 0:v.donatedAmount)==null?void 0:$.toString())}),k=de({time:l.tokenInfo.deadline.toString()*1e3-new Date().getTime()});k.start();const h=y(()=>k.current.value.total),f=y(()=>("0"+k.current.value.days).slice(-2)),x=y(()=>("0"+k.current.value.hours).slice(-2)),D=y(()=>("0"+k.current.value.minutes).slice(-2)),L=y(()=>("0"+k.current.value.seconds).slice(-2));ee({balance:"0"});const E=u=>{d("update:modelValue",u)};return(u,e)=>{var b,v,$;const p=te("VanField");return a(),i("div",Tt,[t("div",St,[t("div",Ct,s(u.$t("ido.Buy"))+" "+s(n.tokenInfo.donateTokenSymbol),1),t("div",Dt,[F(s(u.$t("ido.Available"))+" : ",1),t("span",null,s(o(I)<=0?0:o(I)),1),t("span",null,s(n.tokenInfo.donateTokenSymbol),1)])]),o(h)>0?(a(),i("div",Et,[t("div",Lt,s(u.$t("ido.ClosedIn"))+" "+s(o(f))+"d : "+s(o(x))+"h : "+s(o(D))+"m : "+s(o(L))+"s ",1)])):w("v-if",!0),t("div",Bt,[g(p,{modelValue:n.modelValue,"onUpdate:modelValue":[e[0]||(e[0]=T=>ce(modelValue)?modelValue.value=T:null),E],class:"flex-1 text-xs font-bold bg-box rounded-xl text-baseColor",placeholder:"0"},null,8,["modelValue"]),t("div",Vt,[g(he,{src:(b=n.tokenInfo)==null?void 0:b.logoURI,class:"w-5 h-5",size:20},null,8,["src"]),t("div",At,s(n.tokenInfo.payTokenSymbol),1)])]),t("div",Ft,s(u.$t("swap.balance"))+" : "+s(n.balance||"-"),1),n.tokenInfo.type===o(m).WHITELIST?(a(),i("div",Wt,[Pt,t("div",null,s(o(_)((v=n.tokenInfo)==null?void 0:v.tokenPrice.toString())),1)])):w("v-if",!0),n.tokenInfo.type===o(m).WHITELIST?(a(),i("div",Ht,[Ut,t("div",null,s(+n.modelValue*o(_)(($=n.tokenInfo)==null?void 0:$.tokenPrice.toString())),1)])):w("v-if",!0),n.tokenInfo.type===o(m).WHITELIST&&n.tokenInfo.status===o(A).CLOSED?(a(),i("div",qt,[g(N,{class:"mt-8",loading:n.loading,onClick:e[1]||(e[1]=T=>d("handle")),disabled:!n.tokenInfo.inRule},{default:O(()=>[t("span",null,s(u.$t("ido.Claim")),1)]),_:1},8,["loading","disabled"])])):(a(),Y(N,{key:4,class:"mt-8",loading:n.loading,onClick:e[2]||(e[2]=T=>d("handle")),disabled:n.tokenInfo.type===o(m).WHITELIST&&!n.tokenInfo.inRule},{default:O(()=>[n.isAuth?(a(),i("span",Ot,s(u.$t("ido.Buy")),1)):(a(),i("span",Rt,s(u.$t("ido.auth")),1))]),_:1},8,["loading","disabled"]))])}}}),Nt=W(Mt,[["__scopeId","data-v-0359bdb8"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Buy.vue"]]),Xt={class:"px-5 lg:w-[800px] mx-auto"},jt={key:0,class:"mt-6"},zt={key:1},Gt={class:"mt-2 text-sm text-center text-main"},Qt={key:0},Zt={key:1},Jt={key:2},Kt=P({setup(n){const{donationTokens:d,donate:l,extractInfos:I,withdraw:k}=fe(),{tokens:h,buyTokens:f,trades:x,extract:D,getByFlag:L}=ve(),E=re(),u=ue(),e=ee({status:A.PUBLIC,buyValue:null,type:0,tokenId:null,tokenInfo:null,btnLoading:!1,allowance:0,balance:"0"});e.type=+u.query.type,e.tokenId=u.query.tokenId;const p=y(()=>e.allowance>0&&e.allowance>=+e.buyValue);y(()=>{var c;if(e.tokenInfo.extractTimes.toString()==="0")return!0;if(e.type===m.WHITELIST)return(c=e.tokenInfo)==null?void 0:c.openExtractionFlag});const b=y(()=>{const c=+e.tokenInfo.extractionTime.toString();+e.tokenInfo.extractionTimes.toString(),+e.tokenInfo.extractTimes.toString();const S=+e.tokenInfo.extractIntervalSeconds.toString();return c===0?M(e.tokenInfo.deadline):M(c+S)}),v=async()=>{if(e.type===m.FIXED){const c=await d(e.tokenId);e.tokenInfo=await ge(c.result,e.tokenId)}else{const c=await h(e.tokenId);console.log(c),e.tokenInfo=await _e(c.result,e.tokenId)}await B()},$=c=>{e.buyValue=c},T=async()=>{e.btnLoading=!0,p.value?(e.type===0?await l(e.tokenId,e.buyValue):await f(e.buyValue,e.tokenId),await v(),console.log(e.tokenInfo)):await U(),e.btnLoading=!1},H=async()=>{e.btnLoading=!0,e.type===m.WHITELIST?await D(e.tokenId):await k(e.tokenId),await v(),e.btnLoading=!1},B=async()=>{e.allowance=await R(e.tokenInfo.paymentToken).allowance(e.type===m.FIXED?q.FIXED_MODE:q.WHITE_LIST_MODE),e.balance=await R(e.tokenInfo.paymentToken).balanceOf()},U=async()=>{e.btnLoading=!0,await R(e.tokenInfo.paymentToken).approve(e.type===m.FIXED?q.FIXED_MODE:q.WHITE_LIST_MODE),await B(),e.btnLoading=!1};return ke(()=>[v()]),(c,S)=>{var V,G,Q,Z;const z=te("van-icon");return a(),i("div",Xt,[t("div",{class:"flex items-center gap-3 cursor-pointer text-main",onClick:S[0]||(S[0]=Yt=>o(E).push("/ido"))},[g(z,{name:"down",class:"rotate-90"}),F(" "+s(c.$t("common.back")),1)]),o(e).tokenInfo?(a(),i("div",jt,[g(me,{tokenInfo:o(e).tokenInfo,tokenId:o(e).tokenId,type:o(e).type},null,8,["tokenInfo","tokenId","type"]),g(Ie,{tokenInfo:o(e).tokenInfo},null,8,["tokenInfo"])])):w("v-if",!0),g(et,{class:"mt-10",tokenInfo:o(e).tokenInfo},null,8,["tokenInfo"]),g(rt),((V=o(e).tokenInfo)==null?void 0:V.status)===o(A).CLOSED?(a(),i("div",zt,[g(xt,{tokenInfo:o(e).tokenInfo},null,8,["tokenInfo"]),g(N,{class:"mt-7",onClick:H,loading:o(e).btnLoading,disabled:((G=o(e).tokenInfo)==null?void 0:G.unExtracted)==="0"},{default:O(()=>[F(s(c.$t("ido.Claim")),1)]),_:1},8,["loading","disabled"]),t("div",Gt,[((Q=o(e).tokenInfo)==null?void 0:Q.unExtracted)==="0"?(a(),i("span",Qt,s(c.$t("ido.end")),1)):(a(),i("span",Zt,s(c.$t("ido.nextClaimTime"))+" :"+s(o(b)),1))])])):w("v-if",!0),((Z=o(e).tokenInfo)==null?void 0:Z.status)===o(A).PUBLIC&&o(e).tokenInfo?(a(),i("div",Jt,[g(Nt,{modelValue:o(e).buyValue,tokenInfo:o(e).tokenInfo,"onUpdate:modelValue":$,loading:o(e).btnLoading,onHandle:T,isAuth:o(p),allowance:o(e).allowance,balance:o(e).balance},null,8,["modelValue","tokenInfo","loading","isAuth","allowance","balance"])])):w("v-if",!0)])}}}),so=W(Kt,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/IdoDetail.vue"]]);export{so as default};
