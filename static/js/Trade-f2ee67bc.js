import{_ as P,d as R,o as l,c as p,F as ae,g as Fe,n as nt,t as s,b as e,s as M,i as q,k as L,e as v,u as t,v as A,x as le,y as Z,z as U,w as O,A as ue,j as Q,B as Ve,D as Ee,E as Ne,G as st,H as _e,I as He,J as K,K as S,L as Se,C as Me,M as y,N as D,O as V,P as ot,Q as ze,R as at,S as lt,T as Le,r as re,U as me,m as je,p as it,l as ct,V as dt,W as Te,X as De,Y as ut,Z as rt,$ as qe,a0 as mt}from"./index-d6fe5bad.js";import{_ as pt,r as Ye,S as Ke,a as We,b as Pe,T as ie,c as vt,d as bt,P as wt,L as ft,R as gt,e as xt}from"./RemoveLiquidity-9d83f4a7.js";const ht={class:"flex-center-bw lg:flex-col lg:gap-y-10 text-base rounded-xl border-2 border-solid border-[#1dede1] p-2.5"},_t=["onClick"],yt=R({props:{tabList:{type:Array,required:!0},currentTab:{type:Number,required:!0}},emits:["change"],setup(n,{emit:b}){return(g,w)=>(l(),p("div",ht,[(l(!0),p(ae,null,Fe(n.tabList,a=>(l(),p("div",{key:a.id,class:nt(["cursor-pointer font-semibold rounded-lg py-1 px-2 lg:w-full text-center lg:min-w-[100px]",{"bg-[#1dede1]":a.id===n.currentTab,"text-origin":a.id===n.currentTab,"text-[#46598B]":a.disabled}]),onClick:r=>b("change",a)},s(a.name),11,_t))),128))]))}}),kt=P(yt,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/components/TradeTab.vue"]]),$t=""+new URL("../images/exchange-3a08e937.svg",import.meta.url).href,At={class:"flex-center-bw mb-[38px]"},Bt=e("div",{class:"text-[32px] font-bold"},"Swap",-1),Ct=e("img",{src:pt,class:"w-7",alt:""},null,-1),It=[Ct],St=R({emits:["open"],setup(n,{emit:b}){return(g,w)=>(l(),p("div",At,[Bt,e("div",{onClick:w[0]||(w[0]=a=>b("open"))},It)]))}}),Lt=P(St,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/swap/SwapHeader.vue"]]),Tt={class:"border border-main border-solid rounded-lg p-2.5 px-3 mt-5"},Dt=L(" 1 "),qt={class:"text-main"},Pt={class:"text-main"},Rt={key:0,class:"mt-1.5"},Ut={class:"flex-center-bw mt-1.5"},Ot={class:"text-main"},Ft={class:"flex-center-bw mt-1.5"},Vt={class:"text-main"},Et={key:0},Nt={key:1},Ht={class:"flex-center-bw mt-1.5"},Mt={class:"text-main"},zt={key:0},jt={key:1},Yt={class:"text-right"},Kt={key:0},Wt={key:1},Zt={class:"flex-center-bw mt-1.5"},Gt={class:"text-main"},Jt=e("span",{class:"text-main"},null,-1),Qt={class:"text-right"},Xt=R({props:{tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},swapDetail:{type:null,required:!0},isOut:{type:Boolean,required:!1}},setup(n){const b=M({open:!1}),g=()=>{b.open=!b.open};return(w,a)=>{const r=q("van-icon");return l(),p("div",Tt,[e("div",{class:"flex-center-bw cursor-pointer",onClick:g},[e("div",null,[Dt,e("span",qt,s(n.tokenA.symbol),1),L(" = "+s(n.swapDetail.aToBPrice)+" ",1),e("span",Pt,s(n.tokenB.symbol),1)]),v(r,{name:"arrow-down",alt:"",class:"w-2.5 h-auto text-main"})]),t(b).open?(l(),p("div",Rt,[e("div",Ut,[e("div",Ot,s(w.$t("trade.swapDetail.networkFee")),1),e("div",null," ~"+s(n.swapDetail.networkFee),1)]),e("div",Ft,[e("div",Vt,s(w.$t("trade.swapDetail.priceImpact")),1),e("div",null,[n.swapDetail.priceImpact<.01?(l(),p("span",Et," <0.01% ")):(l(),p("span",Nt,"~"+s(t(A)(n.swapDetail.priceImpact,2))+"%",1))])]),e("div",Ht,[e("div",Mt,[n.isOut?(l(),p("span",zt,s(w.$t("trade.swapDetail.minOutput")),1)):(l(),p("span",jt,s(w.$t("trade.swapDetail.maximumSold")),1))]),e("div",Yt,[n.isOut?(l(),p("span",Kt,s(t(A)(n.swapDetail.minimumOutput||0,18))+" "+s(n.tokenB.symbol),1)):(l(),p("span",Wt,s(t(A)(n.swapDetail.maximumSold||0,18))+" "+s(n.tokenA.symbol),1))])]),e("div",Zt,[e("div",Gt,[L(s(w.$t("trade.swapDetail.expectOutput")),1),Jt]),e("div",Qt,s(t(A)(n.swapDetail.expectedOutput||0,18))+" "+s(n.tokenB.symbol),1)])])):le("v-if",!0)])}}}),en=P(Xt,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/swap/SwapDetail.vue"]]),tn=""+new URL("../images/change-bd8443c4.svg",import.meta.url).href,nn={class:"bg-white box-shadow rounded-2xl w-[320px] lg:w-[390px] text-black px-5 py-7"},sn={class:"flex-center-bw h-10 font-bold text-2xl"},on={class:"flex-center-bw h-[53px]"},an={class:"text-3xl font-bold"},ln={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},cn={class:"text-lg"},dn={class:"flex-center-bw h-[53px]"},un={class:"text-3xl font-bold"},rn={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},mn={class:"text-lg"},pn=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),vn={class:"flex justify-between"},bn={class:"text-sm"},wn={class:"text-[#29AAC7] text-base"},fn={key:0,class:"text[#646464]"},gn={key:1,class:"text[#646464]"},xn={class:"text-[#29AAC7] text-base font-bold"},hn=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),_n={class:"border border-solid border-[#29AAC7] rounded-[10px] p-2.5"},yn={class:"flex-center-bw"},kn={class:"text-[#29AAC7]"},$n={class:"flex-center-bw gap-1"},An={class:"text-[#29AAC7]"},Bn={class:"text-[#29AAC7]"},Cn=e("img",{src:tn,class:"w-4 h-4"},null,-1),In=[Cn],Sn={class:"flex-center-bw"},Ln={class:"text-[#29AAC7]"},Tn={key:0},Dn={key:1},qn={key:0},Pn={class:"text-[#29AAC7]"},Rn={key:1},Un={class:"text-[#29AAC7]"},On={class:"flex-center-bw"},Fn={class:"text-[#29AAC7]"},Vn={key:0},En={key:1},Nn={class:"flex-center-bw mt-1.5"},Hn={class:"text-[#29AAC7]"},Mn={class:"text-[#29AAC7]"},zn=R({props:{show:{type:Boolean,required:!0},tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},swapDetail:{type:null,required:!0},isOut:{type:Boolean,required:!1},swap:{type:null,required:!0}},emits:["close","confirmSwap"],setup(n,{emit:b}){const{show:g}=n,[w,a]=Z(!0);return(r,f)=>{const d=q("van-icon"),h=q("VanImage"),o=q("VanPopup");return l(),U(o,{show:n.show,"onUpdate:show":f[3]||(f[3]=_=>Ve(g)?g.value=_:null),class:"bg-transparent",rounded:"",onClickOverlay:f[4]||(f[4]=_=>b("close")),onClickCloseIcon:f[5]||(f[5]=_=>b("close"))},{default:O(()=>[e("div",nn,[e("div",sn,[e("div",null,s(r.$t("swap.confirmSwap")),1),v(d,{name:"cross",onClick:f[0]||(f[0]=_=>b("close"))})]),e("div",on,[e("div",an,s(t(ue)(t(A)(n.tokenA.amount))),1),e("div",ln,[v(h,{src:n.tokenA.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",cn,s(n.tokenA.symbol),1)])]),v(d,{name:"down",class:"block text-3xl text-center my-1"}),e("div",dn,[e("div",un,s(t(ue)(t(A)(n.tokenB.amount))),1),e("div",rn,[v(h,{src:n.tokenB.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",mn,s(n.tokenB.symbol),1)])]),pn,e("div",vn,[e("div",bn,[e("div",wn,s(r.$t("swap.slippageTolerance")),1),n.isOut?(l(),p("div",fn,s(r.$t("swap.sliOut",{out:`${(n.swapDetail.minimumOutput||0).toFixed()}
                      ${n.tokenB.symbol}`})),1)):(l(),p("div",gn,s(r.$t("swap.sliInput",{input:`${(n.swapDetail.maximumSold||0).toFixed()}
                      ${n.tokenA.symbol}`})),1))]),e("div",xn,s(n.swap.slip)+"%",1)]),hn,e("div",_n,[e("div",yn,[e("div",kn,s(r.$t("trade.swapDetail.price")),1),e("div",$n,[e("div",null,[t(w)?(l(),p(ae,{key:0},[L(s(t(A)(n.swapDetail.bToAPrice))+" ",1),e("span",An,s(n.tokenB.symbol+"/"+n.tokenA.symbol),1)],64)):(l(),p(ae,{key:1},[L(s(t(A)(n.swapDetail.aToBPrice)),1),e("span",Bn,s(n.tokenA.symbol+"/"+n.tokenB.symbol),1)],64))]),e("div",{onClick:f[1]||(f[1]=_=>t(a)(!t(w))),class:"text-[#29AAC7] cursor-pointer"},In)])]),e("div",Sn,[e("div",Ln,[n.isOut?(l(),p("span",Tn,s(r.$t("trade.swapDetail.minOutput")),1)):(l(),p("span",Dn,s(r.$t("trade.swapDetail.maximumSold")),1))]),e("div",null,[n.isOut?(l(),p("span",qn,[L(s(t(A)(n.swapDetail.minimumOutput||0)),1),e("span",Pn,s(n.tokenB.symbol),1)])):(l(),p("span",Rn,[L(s(t(A)(n.swapDetail.maximumSold||0))+" ",1),e("span",Un,s(n.tokenA.symbol),1)]))])]),e("div",On,[e("div",Fn,s(r.$t("trade.swapDetail.priceImpact")),1),e("div",null,[n.swapDetail.priceImpact<.01?(l(),p("span",Vn," <0.01% ")):(l(),p("span",En,"~"+s(t(A)(n.swapDetail.priceImpact,2))+"%",1))])]),e("div",Nn,[e("div",Hn,s(r.$t("trade.swapDetail.networkFee")),1),e("div",null,[L(" ~"+s(n.swapDetail.networkFee)+" ",1),e("span",Mn,s(n.tokenA.symbol),1)])])]),v(Q,{class:"mt-[15px]",loading:!1,disabled:!1,onClick:f[2]||(f[2]=_=>b("confirmSwap"))},{default:O(()=>[L(s(r.$t("swap.confirmSwap")),1)]),_:1})])]),_:1},8,["show"])}}}),jn=P(zn,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/swap/ConfirmingPop.vue"]]),Yn={class:"lg:px-8 px-2.5 py-5"},Kn=e("img",{src:$t,class:"w-[38px] h-[36px] mx-auto",alt:""},null,-1),Wn=[Kn],Zn={key:0},Gn={key:1},Jn={key:2},Qn={key:3},Xn=R({setup(n){const[b,g]=Z(!1),w=Ee();Ne();const{accountStore:a}=st(),{connectWallet:r}=_e(),{getAmountsOut:f,getAmountsIn:d,swapTokensForExactTokens:h,swapExactTokensForTokens:o,swapExactETHForTokens:_,swapExactTokensForETH:k,swapETHForExactTokens:C,swapTokensForExactETH:E}=Ye(),{getPair:N}=He(),X=K(()=>!c.havePair||+i.amount<=0||+i.amount>+i.balance),ee=K(()=>+i.allowance>=+i.amount&&i.allowance>0),i=M({...S.tokens[0],balance:0,allowance:0,decimals:18,amount:null}),m=M({...S.tokens[1],balance:0,allowance:0,decimals:18,amount:null}),$=M({networkFee:0,priceImpact:0,minimumOutput:null,maximumSold:null,expectedOutput:null,aToBPrice:0,bToAPrice:0}),te=K(()=>!c.aDisabled),c=M({settingShow:!1,btnLoading:!1,havePair:!1,aDisabled:!1,bDisabled:!1,aInputLoading:!1,bInputLoading:!1,pair:null,txInfo:{tx:null,text:""},loadingShow:!0,tokenSelectIndex:0}),I=M({slip:.1,time:10,min:"0",mode:!1}),z=K(()=>({confirmingTitle:"Confirming swap",confirmSuccessTitle:"Swap Successful!",confirmingText:"Waiting for confirmation",confirmedText:"Swap confirmed",confirmingMainDes:`Swapping ${i.amount} ${i.symbol} to ${m.amount} ${m.symbol}`,confirmedMainDes:`Swapped ${i.amount} ${i.symbol} to ${m.amount} ${m.symbol}`,confirmingSubDes:"Confirm this transaction in your wallet",txId:"",token:m})),{loadingShowToggle:G,loadingToggle:W,setLoadingInfo:B}=ot(),F=async()=>{c.settingShow=!c.settingShow},J=u=>{I.slip=u,!(!i.amount&&!m.amount)&&(ge(i.amount),xe(m.account))},ce=u=>{I.time=u},ne=u=>{I.mode=u},j=()=>{c.bDisabled=!0,c.aDisabled=!1},fe=()=>{c.aDisabled=!0,c.bDisabled=!1},ge=async u=>{if(c.btnLoading||c.aDisabled)return c.bInputLoading=!1;if(u===""){i.amount=null,m.amount=null,$.expectedOutput=null,$.minimumOutput=null,$.maximumSold=null,$.priceImpact=null,c.bInputLoading=!1;return}i.amount=u,c.bInputLoading=!0;const x=await f(u,[i.address,m.address]);m.amount=x||"0",$.expectedOutput=new y(m.amount),$.minimumOutput=new y(m.amount).times(1e4-100*I.slip).div(1e4),$.maximumSold=new y(i.amount).times(1e4+100*I.slip).div(1e4),$.priceImpact=u/+await D(i.address).balanceOf(c.pair)*100,c.bInputLoading=!1},xe=async u=>{if(c.btnLoading||c.bDisabled)return c.aInputLoading=!1;if(u===""){i.amount=null,m.amount=null,$.expectedOutput=null,$.minimumOutput=null,$.maximumSold=null,$.priceImpact=null,c.aInputLoading=!1;return}m.amount=u,c.aInputLoading=!0,i.amount=await d(u,[i.address,m.address])||0,$.expectedOutput=new y(m.amount),$.minimumOutput=new y(m.amount).times(1e4-100*I.slip).div(1e4),$.maximumSold=new y(i.amount).times(1e4+100*I.slip).div(1e4),c.aInputLoading=!1},[Je,ke]=Z(!1),$e=u=>{c.tokenSelectIndex=u,ke(!0)},Qe=u=>{if(c.tokenSelectIndex===0)for(let x in u)i[x]=u[x];else for(let x in u)m[x]=u[x];i.amount=null,m.amount=null,de()},Xe=async()=>{var x;if(c.btnLoading||c.aInputLoading||c.bInputLoading)return;let u=M({...i,amount:(x=i.amount)==null?void 0:x.toString()});if(i.address=m.address,m.address=u.address,i.logoURI=m.logoURI,m.logoURI=u.logoURI,await Ae(),c.bDisabled?(c.aInputLoading=!0,m.amount=i.amount):(c.bInputLoading=!0,i.amount=m.amount),await Be(),!i.amount&&!m.amount){c.aInputLoading=!1,c.bInputLoading=!1;return}c.bDisabled?(c.aDisabled=!0,c.bDisabled=!1,m.amount=i.amount,xe(m.amount)):(c.aDisabled=!1,c.bDisabled=!0,i.amount=m.amount,ge(i.amount))},he=async u=>{const{balanceOf:x,allowance:T,symbol:H,decimals:pe}=D(u),se=V(u,S.BNB)?await at():await x(),ve=V(u,S.BNB)?lt:await T(S.PANCAKE_ROUTER),oe=await H(),be=await pe();return{balance:se,allowance:+ve,symbol:oe,decimals:be}},et=async()=>{const u=await N(i.address,m.address);return c.pair=u,u!==ze},Ae=async()=>{const u=await he(i.address),x=await he(m.address);i.balance=u.balance,i.allowance=u.allowance,i.symbol=u.symbol,i.decimals=u.decimals,m.balance=x.balance,m.allowance=x.allowance,m.symbol=x.symbol,m.decimals=x.decimals},Be=async()=>{if(!c.havePair)return;const u=[i.address,m.address],x=await f(1,u);$.aToBPrice=x||0;const T=await f(1,u.reverse());$.bToAPrice=T||0},de=async()=>{c.btnLoading=!0,Ae(),c.havePair=await et(),Be(),c.btnLoading=!1},Ce=async()=>{if(!ee.value){c.btnLoading=!0;const u=await D(i.address).approve(S.PANCAKE_ROUTER);if(!u.success)return c.btnLoading=!1;if(u.success){const x=await he(i.address);i.allowance=x.allowance,Ce()}return}g(!0)},tt=async()=>{g(!1),G(!0,z.value),W(!0),c.btnLoading=!0;const u=_e().getCurrentAccount(),x=I.time,T=[i.address,m.address];let H=null,pe=0,se=null,ve=0,oe=null;const be=V(i.address,S.BNB),Ie=V(m.address,S.BNB);if(c.bDisabled){const Y=A(i.amount,i.decimals).toString();ve=await f(Y,T),oe=A(new y(ve).times(1e4-100*I.slip).div(1e4).toString(),m.decimals),be?H=await _(Y,oe,T,u,x):Ie?H=await k(Y,oe,T,u,x):H=await o(Y,oe,T,u,x)}else{const Y=A(m.amount,m.decimals).toString();pe=await d(Y,T),se=A(new y(pe).times(1e4+100*I.slip).div(1e4).toString(),i.decimals),be?H=await C(Y,se,T,u,x):Ie?H=await E(Y,se,T,u,x):H=await h(Y,se,T,u,x)}if(c.btnLoading=!1,W(!1),console.log(H),H.success)z.value.txId=H.result.hash,z.value.confirmingSubDes="View Transaction Hash on Explorer",B(z.value);else{G(!1),g(!0);return}de()};return Se(()=>w.query,u=>{u.inputCurrency&&(i.address=u.inputCurrency,de()),u.outputCurrency&&(m.address=u.outputCurrency,de())},{immediate:!0,deep:!0}),Se(()=>[i,m],async()=>{de()},{immediate:!0}),(u,x)=>(l(),p(ae,null,[v(Me,{class:"mt-4 lg:mt-0 lg:min-w-[600px]"},{default:O(()=>[e("div",Yn,[v(Lt,{onOpen:F}),v(Pe,{token:t(i),modelValue:t(i).amount,"onUpdate:modelValue":ge,onFocus:j,onHandleSelectToken:x[0]||(x[0]=T=>$e(0)),disabled:t(c).btnLoading,loading:t(c).aInputLoading},null,8,["token","modelValue","disabled","loading"]),e("div",{class:"py-5 flex-center"},[e("div",{onClick:Xe,class:"cursor-pointer"},Wn)]),v(Pe,{token:t(m),modelValue:t(m).amount,"onUpdate:modelValue":xe,onFocus:fe,onHandleSelectToken:x[1]||(x[1]=T=>$e(1)),disabled:t(c).btnLoading,loading:t(c).bInputLoading},null,8,["token","modelValue","disabled","loading"]),t(c).havePair?(l(),U(en,{key:0,tokenA:t(i),tokenB:t(m),swapDetail:t($),isOut:t(te)},null,8,["tokenA","tokenB","swapDetail","isOut"])):le("v-if",!0),t(a).account?(l(),U(Q,{key:2,class:"mt-7",loading:t(c).btnLoading,disabled:t(X),onClick:Ce},{default:O(()=>[t(c).havePair?+t(i).amount>+t(i).balance||t(i).balance<=0?(l(),p("span",Gn,s(u.$t("errorMsg.InsufficientBalance")),1)):t(ee)?(l(),p("span",Qn,s(u.$t("trade.swap")),1)):(l(),p("span",Jn,"Approve")):(l(),p("span",Zn,s(u.$t("errorMsg.Insufficient liquidity")),1))]),_:1},8,["loading","disabled"])):(l(),U(Q,{key:1,class:"mt-7",loading:t(c).btnLoading,disabled:!1,onClick:t(r)},{default:O(()=>[L(s(u.$t("common.connect")),1)]),_:1},8,["loading","onClick"]))])]),_:1}),v(Ke,{show:t(c).settingShow,onClose:x[2]||(x[2]=()=>t(c).settingShow=!1),timeValue:t(I).time,slipValue:t(I).slip,modeValue:t(I).mode,"onUpdate:slipValue":J,"onUpdate:timeValue":ce,onChangeMode:ne},null,8,["show","timeValue","slipValue","modeValue"]),v(We,{show:t(Je),onClose:x[3]||(x[3]=T=>t(ke)(!1)),onConfirmSelectToken:Qe},null,8,["show"]),v(jn,{show:t(b),onClose:x[4]||(x[4]=T=>t(g)(!1)),onConfirmSwap:tt,tokenA:t(i),tokenB:t(m),swapDetail:t($),isOut:t(te),swap:t(I)},null,8,["show","tokenA","tokenB","swapDetail","isOut","swap"])],64))}}),Re=P(Xn,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/Swap.vue"]]),ye=n=>({getLiquidInfo:async()=>{var z,G;const{token0:g,token1:w}=D(n),a=await g(),r=await w(),f=await D(a).symbol(),d=await D(r).symbol(),h=await D(n).balanceOf(),o=await D(n).totalSupply(),_=new y(h).div(o).multipliedBy(100).toFixed(),k=String(await D(a).balanceOf(n)),C=String(await D(r).balanceOf(n)),E=new y(k).plus(new y(C)),N=new y(k).dividedBy(E).toString(),X=new y(C).dividedBy(E).toString(),ee=((z=S.tokens.find(W=>V(W.address,a)))==null?void 0:z.logoURI)||null,i=((G=S.tokens.find(W=>V(W.address,r)))==null?void 0:G.logoURI)||null,m=await D(a).decimals(),$=await D(r).decimals(),te=await Le(a),c=await Le(r);return{lpPrice:new y(te).multipliedBy(N).plus(new y(c).multipliedBy(X)).toFixed(),decimalA:m,decimalB:$,iconA:ee,iconB:i,tokenA:a,tokenB:r,symbolA:f,symbolB:d,shares:_,aInLpAmount:k,bInLpAmount:C,aPercent:N,bPercent:X,pairBalance:h,totalSupply:o}}}),es={class:"bg-box rounded-lg px-5 py-3 mt-5"},ts={class:"flex-center-bw"},ns={class:"flex items-center gap-2.5"},ss={class:"flex items-center"},os={class:"lg:text-2xl font-bold"},as={class:"lg:text-2xl font-bold"},ls={class:"text-right font-bold text-main text-lg mt-5"},is={key:1,class:"flex-center"},cs=R({props:{pair:{type:String,required:!0}},emits:["change"],setup(n,{emit:b}){const{pair:g}=n,{getLiquidInfo:w}=ye(g),a=re({loading:!0,pairBalance:"0",tokenA:"",tokenB:"",symbolA:"",symbolB:"",iconA:"",iconB:"",amountA:"",amountB:"",totalSupply:"",aInLpAmount:"0",bInLpAmount:"0",shares:"0"}),r=async()=>{const f=await w();a.value={...a.value,...f},a.value.loading=!1};return me(()=>{r()}),(f,d)=>{const h=q("van-loading");return l(),p("div",es,[a.value.loading?(l(),p("div",is,[v(h)])):(l(),p("div",{key:0,class:"cursor-pointer",onClick:d[0]||(d[0]=o=>b("change",3,n.pair))},[e("div",ts,[e("div",ns,[e("div",ss,[v(ie,{src:a.value.iconA,class:"-mr-2 w-6 h-6",size:26},null,8,["src"]),v(ie,{src:a.value.iconB,class:"w-6 h-6",size:26},null,8,["src"])]),e("div",os,s(a.value.symbolA)+"-"+s(a.value.symbolB),1)]),e("div",as,s(a.value.pairBalance),1)]),e("div",ls,s(t(A)(new t(y)(a.value.aInLpAmount).multipliedBy(+a.value.shares/100).toFixed(),6))+s(a.value.symbolA)+"/ "+s(t(A)(new t(y)(a.value.bInLpAmount).multipliedBy(+a.value.shares/100).toFixed(),6))+s(a.value.symbolB),1)]))])}}}),Ze=P(cs,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/LiquidItem.vue"]]),ds={class:"lg:px-8 px-2.5 py-5"},us={class:"flex-center-bw mb-[38px]"},rs={class:"text-[32px] font-bold"},ms=e("div",{class:"mt-12 text-center"},"Don\u2019t see a pair you joined?",-1),ps={class:"flex-center"},vs=R({emits:["change"],setup(n,{emit:b}){const g=je("pairList",[]);return me(()=>{}),(w,a)=>(l(),p("div",ds,[e("div",us,[e("div",rs,s(w.$t("liquidity.yours")),1)]),e("div",null,[(l(!0),p(ae,null,Fe(t(g),(r,f)=>(l(),U(Ze,{key:f,pair:r,onChange:d=>b("change",3,r)},null,8,["pair","onChange"]))),128))]),ms,e("div",ps,[e("div",{onClick:a[0]||(a[0]=r=>b("change",2)),class:"border-[2px] border-solid border-config-sub rounded-2xl mt-2.5 cursor-pointer px-3 py-1 text-config-sub"}," Find other LP Tokens ")]),v(Q,{class:"mt-7",onClick:a[1]||(a[1]=r=>b("change",0))},{default:O(()=>[L(s(w.$t("trade.addLiquid")),1)]),_:1})]))}}),bs=P(vs,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/YourLiquid.vue"]]),ws={key:0,class:"flex items-center gap-4"},fs={class:"text-2xl font-bold"},gs=R({props:{icon:{type:String,required:!0},symbol:{type:String,required:!0},address:{type:String,required:!0},loading:{type:Boolean,required:!0}},emits:["change"],setup(n,{emit:b}){return(g,w)=>{const a=q("VanLoading"),r=q("van-icon");return l(),p("div",{class:"flex-center-bw p-4 dark:bg-[#061629] cursor-pointer",onClick:w[0]||(w[0]=f=>b("change"))},[n.loading?(l(),U(a,{key:1})):(l(),p("div",ws,[v(ie,{src:n.icon,class:"w-6",size:26},null,8,["src"]),e("div",fs,s(n.symbol),1)])),v(r,{name:"arrow-down",alt:"",class:"w-2.5 h-auto text-main"})])}}}),Ue=P(gs,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/ImportItem.vue"]]),xs={class:"text-sm lg:text-base"},hs={class:"flex-center-bw mt-5"},_s=e("div",null,"Value in USD",-1),ys={class:"text-main"},ks={class:"flex-center-bw mt-2.5"},$s=e("div",null,"Your LP Shares",-1),As={class:"text-main"},Bs={class:"flex-center-bw mt-2.5"},Cs={class:"text-main"},Is={class:"flex-center-bw mt-2.5"},Ss={class:"text-main"},Ls=R({props:{pair:{type:String,required:!0}},setup(n){const{pair:b}=n,[g,w]=Z(!1),a=re({shares:"0",symbolA:"",symbolB:"",aInLpAmount:"0",bInLpAmount:"0",lpPrice:"0",pairBalance:"0"}),{getLiquidInfo:r}=ye(b);return me(async()=>{w(!0);const f=await r();a.value={...f},console.log(a.value),w(!1)}),(f,d)=>(l(),p(ae,null,[v(Ze,{pair:n.pair},null,8,["pair"]),e("div",xs,[e("div",hs,[_s,e("div",ys,s(t(A)(new t(y)(a.value.lpPrice).multipliedBy(a.value.pairBalance).toString()||"0",9)),1)]),e("div",ks,[$s,e("div",As,s(+a.value.shares)+"%",1)]),e("div",Bs,[e("div",null,"Initial "+s(a.value.symbolA)+" amount",1),e("div",Cs,s(a.value.aInLpAmount),1)]),e("div",Is,[e("div",null,"Initial "+s(a.value.symbolB)+" amount",1),e("div",Ss,s(a.value.bInLpAmount),1)])])],64))}}),Ge=P(Ls,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/UserLp.vue"]]),Ts={class:"lg:px-8 px-2.5 py-5"},Ds=L(" back "),qs=e("div",{class:"flex-center-bw mb-[38px]"},[e("div",{class:"text-[32px] font-bold"},"Import LP")],-1),Ps=e("div",null,null,-1),Rs=e("div",{class:"flex-center py-8"},[e("img",{src:vt,class:"w-6 h-6",alt:""})],-1),Us={key:0},Os={key:0},Fs=e("div",{class:"mt-12 text-center"},"You have no liquidity in this pair yet ",-1),Vs={class:"flex-center"},Es={key:1,class:"mt-[38px]"},Ns=e("div",{class:"font-bold"},"Your LP Token",-1),Hs={key:1,class:"flex-center"},Ms=R({emits:["change"],setup(n,{emit:b}){const g=je("pairList",[]),[w,a]=Z(!1),{getPair:r}=He(),f=_=>{d.tokenSelectIndex=_,a(!0)},d=M({loading:!0,tokenA:S.tokens[0].address,tokenB:S.tokens[1].address,symbolA:"",symbolB:"",iconA:"",iconB:"",pair:"",pairBalance:"0",totalSupply:"0",havePair:!1,shares:"0",aInLpAmount:"0",bInLpAmount:"0",tokenSelectIndex:0}),h=async()=>{var _,k;d.loading=!0,d.symbolA=await D(d.tokenA).symbol(),d.symbolB=await D(d.tokenB).symbol(),d.iconA=((_=S.tokens.find(C=>V(C.address,d.tokenA)))==null?void 0:_.logoURI)||null,d.iconB=((k=S.tokens.find(C=>V(C.address,d.tokenB)))==null?void 0:k.logoURI)||null,d.pair=await r(d.tokenA,d.tokenB),d.havePair=!V(d.pair,ze),d.havePair&&g.value.findIndex(E=>V(E,d.pair))===-1&&g.value.push(d.pair),d.loading=!1},o=_=>{d.tokenSelectIndex===0?(d.tokenA=_.address,d.iconA=_.logoURI,d.symbolA=_.symbol):(d.tokenB=_.address,d.iconB=_.logoURI,d.symbolB=_.symbol),h()};return me(()=>{h()}),(_,k)=>{const C=q("van-icon"),E=q("VanLoading");return l(),p("div",Ts,[e("div",{class:"flex items-center text-main gap-3 cursor-pointer",onClick:k[0]||(k[0]=N=>b("change",1))},[v(C,{name:"down",class:"rotate-90"}),Ds]),qs,Ps,v(Ue,{address:t(d).tokenA,symbol:t(d).symbolA,icon:t(d).iconA,onChange:k[1]||(k[1]=N=>f(0)),loading:t(d).loading},null,8,["address","symbol","icon","loading"]),Rs,v(Ue,{address:t(d).tokenB,symbol:t(d).symbolB,icon:t(d).iconB,onChange:k[2]||(k[2]=N=>f(1)),loading:t(d).loading},null,8,["address","symbol","icon","loading"]),t(d).loading?(l(),p("div",Hs,[v(E,{size:"30"})])):(l(),p("div",Us,[t(d).havePair?(l(),p("div",Es,[Ns,v(Ge,{pair:t(d).pair},null,8,["pair"])])):(l(),p("div",Os,[Fs,e("div",Vs,[e("div",{onClick:k[3]||(k[3]=N=>b("change",0)),class:"border-[2px] border-solid border-config-sub rounded-2xl mt-2.5 cursor-pointer px-3 py-1 text-config-sub"}," Add Liquidity ")])]))])),v(We,{show:t(w),onClose:k[4]||(k[4]=N=>t(a)(!1)),onConfirmSelectToken:o},null,8,["show"])])}}}),zs=P(Ms,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/ImportLp.vue"]]),js={class:"flex-center-bw"},Ys={class:"flex items-center gap-2"},Ks={class:"font-bold"},Ws={class:"flex justify-end gap-5 items-center"},Zs={class:"font-bold lg:text-[32px]"},Gs={class:"text-main"},Js=R({props:{icon:{type:String,required:!0},symbol:{type:String,required:!0},amount:{type:String,required:!0},percent:{type:String,required:!0}},setup(n){return(b,g)=>(l(),p("div",js,[e("div",Ys,[v(ie,{src:n.icon,size:24,class:"w-6 h-6"},null,8,["src"]),e("div",Ks,s(n.symbol),1)]),e("div",Ws,[e("div",Zs,s(t(A)(n.amount,18)),1),e("div",Gs,s(t(A)(+n.percent*100))+"%",1)])]))}}),Oe=P(Js,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/RemoveItem.vue"]]),Qs={class:"bg-white box-shadow rounded-2xl w-[320px] lg:w-[390px] text-black px-5 py-7"},Xs={class:"flex-center-bw h-10 font-bold text-2xl"},eo={class:"flex-center-bw h-[53px]"},to={class:"text-3xl font-bold"},no={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},so={class:"text-lg"},oo={class:"flex-center-bw h-[53px]"},ao={class:"text-3xl font-bold"},lo={class:"flex-center gap-1 bg-[#EAF4FF] rounded-[15px] h-10 px-1 min-w-[80px]"},io={class:"text-lg"},co=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),uo={class:"text-[#646464] text-xs"},ro=e("div",{class:"w-full h-[1px] bg-[#E9E9E9] my-[15px]"},null,-1),mo={class:"border border-solid border-[#29AAC7] rounded-[10px] p-2.5"},po={class:"flex-center-bw"},vo={class:"text-[#29AAC7]"},bo={class:"text-[#29AAC7]"},wo=R({props:{show:{type:Boolean,required:!0},tokenA:{type:null,required:!0},tokenB:{type:null,required:!0},removeAmount:{type:null,required:!0}},emits:["close","confirmRemove"],setup(n,{emit:b}){const{show:g,removeAmount:w}=n;return(a,r)=>{const f=q("van-icon"),d=q("VanImage"),h=q("VanPopup");return l(),U(h,{show:n.show,"onUpdate:show":r[2]||(r[2]=o=>Ve(g)?g.value=o:null),class:"bg-transparent",rounded:"",onClickOverlay:r[3]||(r[3]=o=>b("close")),onClickCloseIcon:r[4]||(r[4]=o=>b("close"))},{default:O(()=>[e("div",Qs,[e("div",Xs,[e("div",null,s(a.$t("liquidity.confirmRemove")),1),v(f,{name:"cross",onClick:r[0]||(r[0]=o=>b("close"))})]),e("div",eo,[e("div",to,s(t(ue)(t(A)(n.tokenA.amount))),1),e("div",no,[v(d,{src:n.tokenA.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",so,s(n.tokenA.symbol),1)])]),v(f,{name:"plus",class:"block text-3xl text-center my-1"}),e("div",oo,[e("div",ao,s(t(ue)(t(A)(n.tokenB.amount))),1),e("div",lo,[v(d,{src:n.tokenB.logoURI,class:"w-6 h-6"},null,8,["src"]),e("div",io,s(n.tokenB.symbol),1)])]),co,e("div",uo,s(a.$t("liquidity.removeTip")),1),ro,e("div",mo,[e("div",po,[e("div",vo,s(a.$t("liquidity.hasRemove")),1),e("div",null,[L(s(t(ue)(t(A)(n.removeAmount)))+" ",1),e("span",bo,s(`${n.tokenA.symbol}/ ${n.tokenB.symbol}`),1)])])]),v(Q,{class:"mt-[15px]",loading:!1,disabled:!1,onClick:r[1]||(r[1]=o=>b("confirmRemove"))},{default:O(()=>[L(s(a.$t("liquidity.confirmRemove")),1)]),_:1})])]),_:1},8,["show"])}}}),fo=P(wo,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/ConfirmRemovePop.vue"]]);const we=n=>(it("data-v-b3f31562"),n=n(),ct(),n),go={class:"pt-5"},xo={class:"text-center -mt-4 font-bold text-main text-[32px]"},ho=we(()=>e("div",{class:"bg w-[27px] h-[27px] rounded-full flex-center"},[e("div",{class:"w-4 h-4 rounded-full bg-white"})],-1)),_o={key:0,class:"border border-solid border-config-sub rounded-xl py-4 px-3 mt-8"},yo=we(()=>e("div",{class:"text-config-sub"},"Remaining LP Tokens",-1)),ko={class:"flex items-center gap-2.5 mt-2"},$o={class:"flex items-center"},Ao={class:"font-bold lg:text-lg"},Bo={class:"flex-1 text-right font-bold lg:text-lg"},Co={class:"flex-center py-8"},Io={key:1},So={key:0,class:"border border-solid border-config-sub rounded-xl py-4 px-3 mt-8"},Lo=we(()=>e("div",{class:"text-config-sub"},"Exchange Rate",-1)),To={class:"text-right mt-3"},Do={class:"text-right mt-3"},qo={class:"flex-center-bw mt-5"},Po=we(()=>e("div",{class:"text-main"}," Slippage Limit ",-1)),Ro={key:2,class:"flex-center"},Uo={key:0},Oo={key:1},Fo=R({props:{pair:{type:String,required:!0}},setup(n){const{pair:b}=n,[g,w]=Z(!1),{getCurrentAccount:a}=_e(),{getLiquidInfo:r}=ye(b),{removeLiquidity:f,removeLiquidityETH:d}=Ye(),h=M({slip:.5,time:10,mode:!1}),o=re({btnLoading:!1,percent:0,percentList:[.25,.5,.75,1],loading:!0,pairBalance:"0",pairAllowance:0,tokenA:"",tokenB:"",symbolA:"",symbolB:"",iconA:"",iconB:"",amountA:"0",amountB:"0",totalSupply:"",aInLpAmount:"0",bInLpAmount:"0",aPercent:"0",bPercent:"0",decimalA:0,decimalB:0,shares:"0"}),_=K(()=>new y(o.value.aInLpAmount).multipliedBy(+o.value.shares/100).multipliedBy(o.value.percent/100).toFixed()),k=K(()=>new y(o.value.bInLpAmount).multipliedBy(+o.value.shares/100).multipliedBy(o.value.percent/100).toFixed()),C=K(()=>new y(o.value.pairBalance).div(100).multipliedBy(o.value.percent).toString()),E=K(()=>o.value.pairAllowance>+C.value&&o.value.pairAllowance>0),N=B=>{o.value.percent=B},X=B=>{o.value.percent=B*100},[ee,i]=Z(!1),m=B=>{h.slip=B},$=B=>{h.time=B},te=B=>{h.mode=B},c=async()=>{const B=await r();o.value={...o.value,...B},await I(),o.value.loading=!1},I=async()=>{o.value.pairAllowance=await D(b).allowance(S.PANCAKE_ROUTER)},z=async()=>{if(!E.value)return W();w(!0)},G=async()=>{w(!1),o.value.btnLoading=!0;const B=V(o.value.tokenA,S.BNB),F=V(o.value.tokenB,S.BNB);let J;if(B||F){const ce=B?o.value.tokenB:o.value.tokenA,ne=B?_.value:k.value,j=B?k.value:_.value,fe=B?o.value.decimalB:o.value.decimalA;console.log(ne),console.log(j),J=await d(ce,new y(C.value).toFixed(18),new y(j).multipliedBy(1-h.slip).toFixed(18),new y(ne).multipliedBy(1-h.slip).toFixed(fe),a(),h.time)}else J=await f(o.value.tokenA,o.value.tokenB,new y(C.value).toFixed(18),new y(_.value).multipliedBy(1-h.slip).toFixed(o.value.decimalA),new y(k.value).multipliedBy(1-h.slip).toFixed(o.value.decimalB),a(),h.time);if(o.value.btnLoading=!1,!J.success){w(!0);return}await c()},W=async()=>{o.value.btnLoading=!0,await D(b).approve(S.PANCAKE_ROUTER),await I(),o.value.btnLoading=!1};return me(()=>{c()}),(B,F)=>{const J=q("van-slider"),ce=q("van-icon"),ne=q("van-loading");return l(),p("div",go,[v(bt,{onOpen:F[0]||(F[0]=j=>t(i)(!0))},{default:O(()=>[L(s(B.$t("liquidity.remove")),1)]),_:1}),e("div",xo,s(o.value.percent)+"%",1),v(J,{class:"mt-8 mx-auto w-[95%]",modelValue:o.value.percent,"onUpdate:modelValue":F[1]||(F[1]=j=>o.value.percent=j),disabled:o.value.btnLoading,barHeight:"16","inactive-color":" #46598b",onChange:N},{button:O(()=>[ho]),_:1},8,["modelValue","disabled"]),v(wt,{percentList:o.value.percentList,percent:o.value.percent,onChange:X},null,8,["percentList","percent"]),o.value.loading?le("v-if",!0):(l(),p("div",_o,[yo,e("div",ko,[e("div",$o,[v(ie,{src:o.value.iconA,class:"-mr-2 w-6 h-6",size:26},null,8,["src"]),v(ie,{src:o.value.iconB,class:"w-6 h-6",size:26},null,8,["src"])]),e("div",Ao,s(o.value.symbolA)+"-"+s(o.value.symbolB),1),e("div",Bo,[e("div",null,s(t(C)||"0"),1)])])])),e("div",Co,[v(ce,{name:"down",size:"24",class:"text-main"})]),o.value.loading?(l(),p("div",Ro,[v(ne,{size:"30"})])):(l(),p("div",Io,[e("div",null,[v(Oe,{icon:o.value.iconA,symbol:o.value.symbolA,amount:t(_),percent:o.value.aPercent},null,8,["icon","symbol","amount","percent"]),v(Oe,{class:"mt-5",icon:o.value.iconB,symbol:o.value.symbolB,amount:t(k),percent:o.value.bPercent},null,8,["icon","symbol","amount","percent"])]),o.value.loading?le("v-if",!0):(l(),p("div",So,[Lo,e("div",To," 1 "+s(o.value.symbolA)+" = "+s(new t(y)(o.value.aPercent).div(o.value.bPercent))+" "+s(o.value.symbolB),1),e("div",Do," 1 "+s(o.value.symbolB)+" = "+s(new t(y)(o.value.bPercent).div(o.value.aPercent))+" "+s(o.value.symbolA),1)])),e("div",qo,[Po,e("div",null,s(t(h).slip)+"%",1)])])),v(Q,{class:"mt-7",loading:o.value.btnLoading,onClick:z},{default:O(()=>[t(E)?(l(),p("span",Oo,s(B.$t("liquidity.remove")),1)):(l(),p("span",Uo,"Approve LP"))]),_:1},8,["loading"]),v(Ke,{show:t(ee),onClose:F[2]||(F[2]=j=>t(i)(!1)),timeValue:t(h).time,slipValue:t(h).slip,modeValue:t(h).mode,"onUpdate:slipValue":m,"onUpdate:timeValue":$,onChangeMode:te},null,8,["show","timeValue","slipValue","modeValue"]),v(fo,{show:t(g),onClose:F[3]||(F[3]=j=>t(w)(!1)),onConfirmRemove:G,removeAmount:t(C),tokenA:{amount:t(_),logoURI:o.value.iconA,symbol:o.value.symbolA},tokenB:{amount:t(k),logoURI:o.value.iconB,symbol:o.value.symbolB}},null,8,["show","removeAmount","tokenA","tokenB"])])}}}),Vo=P(Fo,[["__scopeId","data-v-b3f31562"],["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/Remove.vue"]]),Eo={class:"lg:px-8 px-2.5 py-5"},No=L(" back "),Ho=L(" Remove Liquidity "),Mo=R({props:{pair:{type:String,required:!0}},setup(n){const b=dt("handleChangeTab"),[g,w]=Z(!1),a=()=>{g.value?w(!1):(console.log("123"),b(1))};return(r,f)=>{const d=q("van-icon");return l(),p("div",Eo,[e("div",{class:"flex items-center text-main gap-3 cursor-pointer",onClick:a},[v(d,{name:"down",class:"rotate-90"}),No]),Te(e("div",null,[v(Ge,{pair:n.pair},null,8,["pair"]),v(Q,{class:"mt-10",onClick:f[0]||(f[0]=h=>t(w)(!0))},{default:O(()=>[Ho]),_:1})],512),[[De,!t(g)]]),Te(v(Vo,{pair:n.pair},null,8,["pair"]),[[De,t(g)]])])}}}),zo=P(Mo,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/components/LpDetail.vue"]]),jo={class:"mt-4 lg:mt-0 lg:min-w-[600px]"},Yo=R({setup(n){const b=re(0),g=re(""),w=(a,r="")=>{console.log(a,r),g.value=r,b.value=a};return ut("handleChangeTab",w),(a,r)=>(l(),p("div",jo,[v(Me,null,{default:O(()=>[b.value<2?(l(),U(ft,{key:0,"current-tab":b.value,onChange:w},null,8,["current-tab"])):le("v-if",!0),b.value===0?(l(),U(gt,{key:1})):b.value===1?(l(),U(bs,{key:2,onChange:w})):b.value===2?(l(),U(zs,{key:3,onChange:w})):(l(),U(zo,{key:4,pair:g.value,onChange:w},null,8,["pair"]))]),_:1})]))}}),Ko=P(Yo,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/liquidity/AddLiquidity.vue"]]),Wo={class:"lg:flex items-start justify-center relative"},Zo=R({setup(n){const b=Ne(),g=Ee(),{t:w}=rt(),a=K(()=>[{id:0,name:w("trade.swap"),disabled:!1,url:"/swap"},{id:1,name:w("trade.liquidity"),disabled:!1,url:"/add"},{id:2,name:w("trade.perpetual"),disabled:!0},{id:3,name:w("trade.bridge"),disabled:!0}]),r=qe({Swap:Re,AddLiquidity:Ko,RemoveLiquidity:xt});qe(Re);const f=M({currentTab:g.meta.tab||0,currentComponent:"Swap"}),d=h=>{h.disabled||(f.currentTab=h.id,h.url&&b.push(h.url))};return console.log(g.name,"route"),console.log(g.meta,"route"),(h,o)=>(l(),p("div",Wo,[v(kt,{tabList:t(a),currentTab:t(f).currentTab,onChange:d,class:"lg:absolute lg:left-0"},null,8,["tabList","currentTab"]),le(" <Swap /> "),(l(),U(mt(t(r)[t(g).name])))]))}}),Qo=P(Zo,[["__file","C:/Users/l/Desktop/followx-dapp/src/view/trade/Trade.vue"]]);export{Qo as default};
