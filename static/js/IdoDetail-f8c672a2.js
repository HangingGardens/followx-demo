import{_ as L,d as U,o as a,E as M,w as E,b as e,x as c,u as s,ao as Q,A as x,c as i,ak as N,al as S,C as K,p as R,l as W,m as X,P as h,h as d,F as z,g as H,ap as Y,y as Z,i as j,e as f,H as ee,j as q,k as F,a3 as te,L as oe,Z as ne,S as m,Q as P,B as J}from"./index-5ae2b8fd.js";import{d as se,t as ae,S as _,T as le,I as ie}from"./transactionContract-b9de8410.js";import{T as de}from"./TokenImage-77da66bb.js";import"./toast-73ac0a9c.js";const y=o=>(R("data-v-23786d9e"),o=o(),W(),o),ce={class:"px-5 py-7"},re=y(()=>e("div",{class:"text-lg font-semibold pb-2.5"},"Token TokenInformation",-1)),ue={class:"item"},ke=y(()=>e("div",{class:"key"},"Contract Address",-1)),_e={class:"item"},fe=y(()=>e("div",{class:"key"},"Token",-1)),me=y(()=>e("div",{class:"text-lg font-semibold py-4 pb-2.5"},"Auction Information",-1)),ve=y(()=>e("div",{class:"item"},[e("div",{class:"key"},"Auction Type"),e("div",null,"Fixed-Price")],-1)),pe={class:"item"},ye=y(()=>e("div",{class:"key"},"Participant",-1)),ge={key:1,class:"item"},he=y(()=>e("div",{class:"key"},"Allocation per Wallet",-1)),xe={class:"item"},Ie=y(()=>e("div",{class:"key"},"Total Available Amount",-1)),be={class:"item"},we=y(()=>e("div",{class:"key"},"Price per unit, $",-1)),Te=U({props:{tokenInfo:{type:null,required:!0}},setup(o){return(r,I)=>(a(),M(K,null,{default:E(()=>{var v,$,C,l,t,g,p,A,b,w;return[e("div",ce,[re,e("div",ue,[ke,e("div",null,c(s(Q)((v=o.tokenInfo)==null?void 0:v.donationToken,"...",6,4)||"-"),1)]),e("div",_e,[fe,e("div",null,c((($=o.tokenInfo)==null?void 0:$.donateTokenSymbol)||"-"),1)]),me,ve,e("div",pe,[ye,e("div",null,c(((C=o.tokenInfo)==null?void 0:C.whitelistFlag)===!0?"WhiteList":"Public"),1)]),x("v-if",!0),((l=o.tokenInfo)==null?void 0:l.type)===1?(a(),i("div",ge,[he,e("div",null,c(s(N)(s(S)(((g=(t=o.tokenInfo)==null?void 0:t.maxTokensPerBuyer)==null?void 0:g.toString())||"0"))),1)])):x("v-if",!0),e("div",xe,[Ie,e("div",null,c(s(N)(s(S)(((A=(p=o.tokenInfo)==null?void 0:p.totalSupply)==null?void 0:A.toString())||"0"))),1)]),e("div",be,[we,e("div",null,c(s(N)(s(S)(((w=(b=o.tokenInfo)==null?void 0:b.tokenPrice)==null?void 0:w.toString())||"0"))),1)])])]}),_:1}))}}),Se=L(Te,[["__scopeId","data-v-23786d9e"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/TokenInformation.vue"]]),$e={class:"px-5 mt-4 bg-box py-7 rounded-xl"},Ce=e("div",{class:"text-lg font-semibold pb-2.5"},"Token TokenInformation",-1),Ae={class:"mt-4 flex-center-bw"},Be=["src"],Ve={class:"mt-5"},De=e("div",{class:"text-lg font-semibold pb-2.5"},"Partners",-1),Pe={class:"mt-4 flex-center-bw"},Ne=["src"],Le=U({setup(o){const r=X("isDark"),I=h(()=>[r.value?d("ido/zebec.svg"):d("ido/zebec-dark.svg"),r.value?d("ido/nautilus.svg"):d("ido/nautilus-dark.svg"),r.value?d("ido/eclipse.svg"):d("ido/eclipse-dark.svg"),r.value?d("ido/notifi.svg"):d("ido/notifi-dark.svg")]),v=h(()=>[r.value?d("ido/polynetwork.svg"):d("ido/polynetwork-dark.svg"),r.value?d("ido/eclipse-1.svg"):d("ido/eclipse-1-dark.svg"),r.value?d("ido/thirdfi.svg"):d("ido/thirdfi-dark.svg"),r.value?d("ido/galxe.svg"):d("ido/galxe-dark.svg")]);return($,C)=>(a(),i("div",$e,[e("div",null,[Ce,e("div",Ae,[(a(!0),i(z,null,H(s(I),l=>(a(),i("div",{key:l},[e("img",{src:l,class:"h-[18px]",alt:""},null,8,Be)]))),128))])]),e("div",Ve,[De,e("div",Pe,[(a(!0),i(z,null,H(s(v),l=>(a(),i("div",{key:l},[e("img",{src:l,class:"",alt:""},null,8,Ne)]))),128))])])]))}}),Ue=L(Le,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Investors.vue"]]);const O=o=>(R("data-v-2096c424"),o=o(),W(),o),Oe={class:"mt-8"},Ee=O(()=>e("div",{class:"text-lg font-semibold pb-2.5"},"Claim",-1)),Fe={class:"flex-center-bw"},qe=O(()=>e("div",{class:"key"}," Purchased token ",-1)),Re={class:"gap-6 flex-center"},We={class:"font-bold text-[32px]"},ze=O(()=>e("span",{class:"text-main"},"ZEST",-1)),He={class:"flex-center-bw"},Je=O(()=>e("div",{class:"key"}," Purchased token ",-1)),Me={class:"gap-6 flex-center"},Ze={class:"font-bold text-[32px]"},je=O(()=>e("span",{class:"text-main"},"ZEST",-1)),Ge=U({setup(o){return(r,I)=>(a(),i("div",Oe,[Ee,e("div",Fe,[qe,e("div",Re,[e("span",We,c(s(N)(1094)),1),ze])]),e("div",He,[Je,e("div",Me,[e("span",Ze,c(s(N)(1094)),1),je])])]))}}),Qe=L(Ge,[["__scopeId","data-v-2096c424"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Claim.vue"]]);const G=o=>(R("data-v-0359bdb8"),o=o(),W(),o),Ke={class:"mt-8"},Xe={class:"flex-center-bw"},Ye={class:"text-lg font-semibold"},et={key:0,class:"text-sm"},tt=F(" Available : "),ot={class:"bg-box rounded-xl py-1.5 px-2 flex-center mt-8"},nt={class:"dark:bg-[#061629] bg-box px-4 py-3.5 flex-center gap-2 rounded-xl cursor-pointer"},st={class:"font-bold text-baseColor"},at={class:"text-right text-[#46598B] mt-1"},lt={key:0,class:"flex-center-bw mt-2.5"},it=G(()=>e("div",{class:"text-[#ABB5CF]"},"Price per unit, $",-1)),dt={key:1,class:"flex-center-bw mt-2.5"},ct=G(()=>e("div",{class:"text-[#ABB5CF]"},"Total",-1)),rt={key:0},ut={key:1},kt=U({props:{tokenInfo:{type:null,required:!0},modelValue:{type:[String,Number,null],required:!0},loading:{type:Boolean,required:!0},isAuth:{type:Boolean,required:!0}},emits:["update:modelValue","handle"],setup(o,{emit:r}){const{tokenInfo:I,modelValue:v,loading:$,isAuth:C}=o,l=Y({time:I.deadline.toString()*1e3-new Date().getTime()});l.start(),h(()=>l.current.value.total),h(()=>("0"+l.current.value.days).slice(-2)),h(()=>("0"+l.current.value.hours).slice(-2)),h(()=>("0"+l.current.value.minutes).slice(-2)),h(()=>("0"+l.current.value.seconds).slice(-2)),Z({balance:"0"});const t=g=>{r("update:modelValue",g)};return(g,p)=>{var b,w,n,u,k,T,B,V;const A=j("VanField");return a(),i("div",Ke,[e("div",Xe,[e("div",Ye," Buy "+c(o.tokenInfo.donateTokenSymbol),1),(a(),i("div",et,[tt,e("span",null,c(s(S)((w=(b=o.tokenInfo)==null?void 0:b.totalSupply)==null?void 0:w.toString())-s(S)((u=(n=o.tokenInfo)==null?void 0:n.donatedAmount)==null?void 0:u.toString())),1),e("span",null,c(o.tokenInfo.donateTokenSymbol),1)]))]),e("div",ot,[f(A,{modelValue:o.modelValue,"onUpdate:modelValue":[p[0]||(p[0]=D=>ee(v)?v.value=D:null),t],class:"flex-1 text-xs font-bold bg-box rounded-xl text-baseColor",placeholder:"0"},null,8,["modelValue"]),e("div",nt,[f(de,{src:(k=o.tokenInfo)==null?void 0:k.logoURI,class:"w-5 h-5",size:20},null,8,["src"]),e("div",st,c(o.tokenInfo.payTokenSymbol),1)])]),e("div",at," Balance : "+c(((T=o.tokenInfo)==null?void 0:T.balance)||"-"),1),o.tokenInfo.type===1?(a(),i("div",lt,[it,e("div",null,c(s(S)((B=o.tokenInfo)==null?void 0:B.tokenPrice.toString())),1)])):x("v-if",!0),o.tokenInfo.type===1?(a(),i("div",dt,[ct,e("div",null,c(+o.modelValue*s(S)((V=o.tokenInfo)==null?void 0:V.tokenPrice.toString())),1)])):x("v-if",!0),f(q,{class:"mt-8",loading:o.loading,onClick:p[1]||(p[1]=D=>r("handle"))},{default:E(()=>[o.isAuth?(a(),i("span",rt,"Buy")):(a(),i("span",ut,"Approve"))]),_:1},8,["loading"])])}}}),_t=L(kt,[["__scopeId","data-v-0359bdb8"],["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/components/Buy.vue"]]),ft={class:"px-5 lg:w-[800px] mx-auto"},mt={key:0,class:"mt-6"},vt=F(" Join WhiteList "),pt={key:2},yt=F(" Claim "),gt={key:3},ht=U({setup(o){const{donationTokens:r,donate:I}=se(),{tokens:v,buyTokens:$}=ae(),C=te(),l=oe(),t=Z({status:_.PUBLIC,buyValue:null,token:null,type:0,tokenInfo:null,btnLoading:!1});t.token=l.query.token,t.type=+l.query.type;const g=h(()=>t.tokenInfo.allowance>0&&t.tokenInfo.allowance>=t.buyValue),p=async()=>{if(t.type===0){const n=await r(t.token),u=new Date().getTime()/1e3;let k=_.PUBLIC;u>=n.result.deadline||n.result.donatedAmount>n.result.totalSupply?k=_.CLOSED:u>n.result.startTime&&u<n.result.deadline?k=_.PUBLIC:u<n.result.startTime&&(k=_.UPCOMING);const T=await m(n.result.paymentToken).symbol(),B=await m(n.result.donationToken).symbol(),V=await m(n.result.paymentToken).allowance(P.DONATE),D=await m(n.result.paymentToken).balanceOf();t.tokenInfo={...n.result,tokenInfo:JSON.parse(n.result.remark),status:k,progress:new J(n.result.donatedAmount.toString()).div(n.result.totalSupply.toString()).toFixed(2),payTokenSymbol:T,donateTokenSymbol:B,type:t.type,allowance:V,balance:D}}else{const n=await v(t.token),u=new Date().getTime()/1e3;let k=_.PUBLIC;u>=n.result.deadline||n.result.tokensSold>n.result.maxTokens?k=_.CLOSED:u>n.result.startTime?k=_.PUBLIC:u<n.result.startTime&&(k=_.UPCOMING);const T=await m(n.result.paymentToken).symbol(),B=await m(n.result.saleToken).symbol(),V=await m(n.result.paymentToken).allowance(P.TRANSACTION),D=await m(n.result.paymentToken).balanceOf();t.tokenInfo={...n.result,tokenInfo:JSON.parse(n.result.remark||"{}"),status:k,progress:new J(n.result.tokensSold.toString()).div(n.result.maxTokens.toString()).toFixed(2),payTokenSymbol:T,donateTokenSymbol:B,donatedAmount:n.result.tokensSold,totalSupply:n.result.maxTokens,donationToken:n.result.saleToken,paymentToken:n.result.paymentToken,balance:D,allowance:V,type:t.type}}},A=n=>{t.buyValue=n},b=async()=>{t.btnLoading=!0,g.value?t.type===0?await I(t.tokenInfo.donationToken,t.buyValue):await $(t.buyValue,t.tokenInfo.donationToken):await w(),t.btnLoading=!1},w=async()=>{t.btnLoading=!0,await m(t.tokenInfo.paymentToken).approve(t.type===0?P.DONATE:P.TRANSACTION),t.tokenInfo.allowance=m(t.tokenInfo.paymentToken).allowance(t.type===0?P.DONATE:P.TRANSACTION),t.btnLoading=!1};return ne(()=>[p()]),(n,u)=>{const k=j("van-icon");return a(),i("div",ft,[e("div",{class:"flex items-center gap-3 cursor-pointer text-main",onClick:u[0]||(u[0]=T=>s(C).push("/ido"))},[f(k,{name:"down",class:"rotate-90"}),F(" "+c(n.$t("common.back")),1)]),s(t).tokenInfo?(a(),i("div",mt,[f(le,{tokenInfo:s(t).tokenInfo},null,8,["tokenInfo"]),f(ie,{tokenInfo:s(t).tokenInfo},null,8,["tokenInfo"])])):x("v-if",!0),f(Se,{class:"mt-10",tokenInfo:s(t).tokenInfo},null,8,["tokenInfo"]),f(Ue),s(t).status===s(_).WHITELIST?(a(),M(q,{key:1,class:"mt-7"},{default:E(()=>[vt]),_:1})):x("v-if",!0),s(t).status===s(_).CLOSED?(a(),i("div",pt,[f(Qe),f(q,{class:"mt-7"},{default:E(()=>[yt]),_:1})])):x("v-if",!0),s(t).status===s(_).PUBLIC&&s(t).tokenInfo?(a(),i("div",gt,[f(_t,{modelValue:s(t).buyValue,tokenInfo:s(t).tokenInfo,"onUpdate:modelValue":A,loading:s(t).btnLoading,onHandle:b,isAuth:s(g)},null,8,["modelValue","tokenInfo","loading","isAuth"])])):x("v-if",!0)])}}}),Tt=L(ht,[["__file","/Users/wangkeai/work/xueyan/followx/followx-dapp/src/view/idoDetail/IdoDetail.vue"]]);export{Tt as default};
